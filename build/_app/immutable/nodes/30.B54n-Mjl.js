import{S as H,i as W,s as P,n as v,d as c,b as u,c as k,x as m,e as _,f as g,j as w,A as B,K as x,a as J,J as U,g as z,h as S,t as F,k as I,r as b,I as O,X as D,af as y}from"../chunks/DWgbY-19.js";import"../chunks/IHki7fMi.js";import{g as R}from"../chunks/BaAthLhr.js";import{b as G}from"../chunks/CPf-tfAh.js";import{f as q,a as M}from"../chunks/Cn4ERIhq.js";function Y(d){let t,r,l,s,e=d[3]&&L(),i=d[4]&&V(),a=d[5]&&A(d);return{c(){t=w("div"),e&&e.c(),r=I(),i&&i.c(),l=I(),a&&a.c(),s=O(),this.h()},l(n){t=_(n,"DIV",{class:!0});var o=g(t);e&&e.l(o),o.forEach(c),r=S(n),i&&i.l(n),l=S(n),a&&a.l(n),s=O(),this.h()},h(){m(t,"class","h-32 w-32 mx-auto mb-6 relative")},m(n,o){u(n,t,o),e&&e.m(t,null),u(n,r,o),i&&i.m(n,o),u(n,l,o),a&&a.m(n,o),u(n,s,o)},p(n,o){n[3]?e?o&8&&b(e,1):(e=L(),e.c(),b(e,1),e.m(t,null)):e&&(e.d(1),e=null),n[4]?i?o&16&&b(i,1):(i=V(),i.c(),b(i,1),i.m(l.parentNode,l)):i&&(i.d(1),i=null),n[5]?a?o&32&&b(a,1):(a=A(n),a.c(),b(a,1),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(n){n&&(c(t),c(r),c(l),c(s)),e&&e.d(),i&&i.d(n),a&&a.d(n)}}}function K(d){let t,r,l,s,e,i="Go to Dashboard",a,n;return{c(){t=w("div"),r=F(d[1]),l=I(),s=w("div"),e=w("button"),e.textContent=i,this.h()},l(o){t=_(o,"DIV",{class:!0});var h=g(t);r=z(h,d[1]),h.forEach(c),l=S(o),s=_(o,"DIV",{class:!0});var f=g(s);e=_(f,"BUTTON",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-139rhmn"&&(e.textContent=i),f.forEach(c),this.h()},h(){m(t,"class","text-center text-red-600 font-semibold"),m(e,"class","px-4 py-2 bg-blue-600 text-white rounded"),m(s,"class","mt-4 text-center")},m(o,h){u(o,t,h),k(t,r),u(o,l,h),u(o,s,h),k(s,e),a||(n=U(e,"click",d[6]),a=!0)},p(o,h){h&2&&J(r,o[1])},d(o){o&&(c(t),c(l),c(s)),a=!1,n()}}}function Q(d){let t,r="Finalizing your withdrawal request...";return{c(){t=w("div"),t.textContent=r,this.h()},l(l){t=_(l,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-q0wjh4"&&(t.textContent=r),this.h()},h(){m(t,"class","text-center text-gray-600")},m(l,s){u(l,t,s)},p:v,d(l){l&&c(t)}}}function L(d){let t,r='<svg class="w-16 h-16 text-green-500" viewBox="0 0 24 24"><path class="checkmark-path svelte-1bj2pyd" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>',l;return{c(){t=w("div"),t.innerHTML=r,this.h()},l(s){t=_(s,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-361t07"&&(t.innerHTML=r),this.h()},h(){m(t,"class","h-full w-full bg-green-50 rounded-full flex justify-center items-center")},m(s,e){u(s,t,e)},i(s){s&&(l||D(()=>{l=y(t,q,{duration:400}),l.start()}))},o:v,d(s){s&&c(t)}}}function V(d){let t,r="Withdrawal Request Successful",l;return{c(){t=w("h1"),t.textContent=r,this.h()},l(s){t=_(s,"H1",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-19eicgx"&&(t.textContent=r),this.h()},h(){m(t,"class","text-3xl font-bold text-gray-900 mt-2 mb-4")},m(s,e){u(s,t,e)},i(s){s&&(l||D(()=>{l=y(t,M,{y:20,duration:500}),l.start()}))},o:v,d(s){s&&c(t)}}}function A(d){let t,r="YOUR WITHDRAWAL REQUEST HAS BEEN RECEIVED AND IS RECEIVING DUE ATTENTION. PLEASE USE THE PRINT DOCUMENTS MODULE ON THE DASHBOARD TO GET YOUR DOCUMENTS.",l,s,e,i,a="Return to Dashboard",n,o,h;return{c(){t=w("p"),t.textContent=r,s=I(),e=w("div"),i=w("button"),i.textContent=a,this.h()},l(f){t=_(f,"P",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-7rzkut"&&(t.textContent=r),s=S(f),e=_(f,"DIV",{class:!0});var p=g(e);i=_(p,"BUTTON",{class:!0,"data-svelte-h":!0}),x(i)!=="svelte-d7jkzi"&&(i.textContent=a),p.forEach(c),this.h()},h(){m(t,"class","text-base font-medium text-gray-600 mb-8 max-w-xs mx-auto"),m(i,"class","bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-md transition-colors duration-200"),m(e,"class","mt-4")},m(f,p){u(f,t,p),u(f,s,p),u(f,e,p),k(e,i),o||(h=U(i,"click",d[7]),o=!0)},i(f){f&&(l||D(()=>{l=y(t,M,{y:15,duration:500}),l.start()})),f&&(n||D(()=>{n=y(e,q,{duration:300,delay:300}),n.start()}))},o:v,d(f){f&&(c(t),c(s),c(e)),o=!1,h()}}}function X(d){let t,r;function l(i,a){if(i[0])return Q;if(i[1])return K;if(i[2])return Y}let s=l(d),e=s&&s(d);return{c(){t=w("main"),r=w("div"),e&&e.c(),this.h()},l(i){t=_(i,"MAIN",{class:!0});var a=g(t);r=_(a,"DIV",{class:!0});var n=g(r);e&&e.l(n),n.forEach(c),a.forEach(c),this.h()},h(){m(r,"class","bg-white rounded-xl shadow-lg p-8 w-full max-w-md text-center"),m(t,"class","flex justify-center items-center min-h-screen bg-gray-50")},m(i,a){u(i,t,a),k(t,r),e&&e.m(r,null)},p(i,[a]){s===(s=l(i))&&e?e.p(i,a):(e&&e.d(1),e=s&&s(i),e&&(e.c(),e.m(r,null)))},i:v,o:v,d(i){i&&c(t),e&&e.d()}}}function Z(d,t,r){let l=!0,s=null,e=null,i=!1,a=!1,n=!1;return B(async()=>{try{const f=sessionStorage.getItem("withdrawal_fileNumber"),p=sessionStorage.getItem("withdrawal_rrr"),E=sessionStorage.getItem("withdrawal_withdrawalLetter"),C=sessionStorage.getItem("withdrawal_supportingDocs"),T=E?JSON.parse(E):[],N=C?JSON.parse(C):[];if(!f||!p||!T.length||!N.length){r(1,s="Missing data for withdrawal request."),r(0,l=!1);return}const j={FileId:f,PaymentRRR:p,WithdrawalDate:new Date().toISOString(),WithdrawalRequestDate:new Date().toISOString(),WithdrawalLetter:T,WithdrawalSupportingDocuments:N};(await fetch(`${G}/api/files/withdrawal-request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).ok?(r(2,e="Withdrawal request submitted successfully."),sessionStorage.removeItem("withdrawal_fileNumber"),sessionStorage.removeItem("withdrawal_cost"),sessionStorage.removeItem("withdrawal_rrr"),sessionStorage.removeItem("withdrawal_withdrawalLetter"),sessionStorage.removeItem("withdrawal_supportingDocs")):r(1,s="Failed to submit withdrawal request.")}catch{r(1,s="An error occurred while submitting withdrawal request.")}finally{r(0,l=!1),setTimeout(()=>{r(3,i=!0)},300),setTimeout(()=>{r(4,a=!0)},1e3),setTimeout(()=>{r(5,n=!0)},1800)}}),[l,s,e,i,a,n,()=>R("/home/dashboard"),()=>R("/home/dashboard")]}class lt extends H{constructor(t){super(),W(this,t,Z,X,P,{})}}export{lt as component};
