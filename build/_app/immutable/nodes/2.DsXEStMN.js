import{S as xe,i as et,s as tt,d as h,p as A,q as b,r as v,a as Pe,F as ut,v as pt,b as C,c as E,w as S,x as oe,e as R,f as ee,g as fe,h as O,y as T,j as z,t as ce,k as M,z as I,l as le,I as Je,n as Be,K as nt,m as Le,o as qe,B as mt,u as Ge,C as $t,D as dt,E as _t,A as gt}from"../chunks/Cccy056x.js";import"../chunks/IHki7fMi.js";import{a as ht,b as wt,g as ye}from"../chunks/C7QXi3Zc.js";import"../chunks/Mi5ChQ-_.js";import{I as ge}from"../chunks/DQ1KgJGZ.js";import{e as Ke,u as bt,o as vt}from"../chunks/ByixyIeQ.js";import{n as at,b as st,v as Ee,c as we,s as Ae,f as rt,a as je,i as kt,u as yt,m as At,j as St,e as He,d as Qe,r as Tt,l as It}from"../chunks/CuoJv0KR.js";import{o as ot,D as lt,p as it,b as Xe,F as Ie,a as Me,A as Ve}from"../chunks/DD-J4JhZ.js";import{B as _e}from"../chunks/BCzZLC02.js";import{F as Ct}from"../chunks/Du3SKIm2.js";import{S as Nt}from"../chunks/DqPXHA5v.js";import{t as Pt}from"../chunks/rg3ioSbs.js";import{R as Ot,D as Mt}from"../chunks/Tp6w8__K.js";import{R as Vt}from"../chunks/BbVspNW5.js";import{a as Et,m as jt,b as Bt}from"../chunks/C-QKQEMi.js";import{S as Ft}from"../chunks/C8XMDHA_.js";import{D as Rt,a as zt}from"../chunks/Djc1-W0q.js";import{D as Dt}from"../chunks/BMHTdNsM.js";import{S as Ut,a as Wt}from"../chunks/BVhlSvu8.js";import{S as Jt}from"../chunks/CAvpk0T-.js";function Ye(a,e,n){const t=a.slice();return t[11]=e[n],t[13]=n,t}function Lt(a){var $,k,p,m;let e,n,t=a[11].description+"",r,l,o,s,u,g;e=new ge({props:{icon:a[11].icon,width:"1.2rem",height:"1.2rem"}});function d(...f){return a[5](a[11],...f)}o=new ge({props:{class:(((k=($=a[2])==null?void 0:$.find(d))==null?void 0:k.status)===!0?"":"hidden")+" text-green-500 ml-auto",icon:"zondicons:checkmark-outline",width:"1.2rem",height:"1.2rem"}});function N(...f){return a[6](a[11],...f)}return u=new ge({props:{class:(((m=(p=a[2])==null?void 0:p.find(N))==null?void 0:m.status)===!1?"":"hidden")+" text-red-500 ml-auto",icon:"solar:danger-bold-duotone",width:"1.2rem",height:"1.2rem"}}),{c(){I(e.$$.fragment),n=M(),r=ce(t),l=M(),I(o.$$.fragment),s=M(),I(u.$$.fragment)},l(f){T(e.$$.fragment,f),n=O(f),r=fe(f,t),l=O(f),T(o.$$.fragment,f),s=O(f),T(u.$$.fragment,f)},m(f,y){S(e,f,y),C(f,n,y),C(f,r,y),C(f,l,y),S(o,f,y),C(f,s,y),S(u,f,y),g=!0},p(f,y){var W,G,K,$e;a=f;const Q={};y&4&&(Q.class=(((G=(W=a[2])==null?void 0:W.find(d))==null?void 0:G.status)===!0?"":"hidden")+" text-green-500 ml-auto"),o.$set(Q);const X={};y&4&&(X.class=((($e=(K=a[2])==null?void 0:K.find(N))==null?void 0:$e.status)===!1?"":"hidden")+" text-red-500 ml-auto"),u.$set(X)},i(f){g||(v(e.$$.fragment,f),v(o.$$.fragment,f),v(u.$$.fragment,f),g=!0)},o(f){b(e.$$.fragment,f),b(o.$$.fragment,f),b(u.$$.fragment,f),g=!1},d(f){f&&(h(n),h(r),h(l),h(s)),A(e,f),A(o,f),A(u,f)}}}function Ze(a,e){let n,t,r;function l(){return e[7](e[13])}return t=new _e({props:{class:"flex gap-3 justify-start mr-3 mb-5",variant:e[0]===e[3].indexOf(e[11])?"default":"outline",$$slots:{default:[Lt]},$$scope:{ctx:e}}}),t.$on("click",l),{key:a,first:null,c(){n=Je(),I(t.$$.fragment),this.h()},l(o){n=Je(),T(t.$$.fragment,o),this.h()},h(){this.first=n},m(o,s){C(o,n,s),S(t,o,s),r=!0},p(o,s){e=o;const u={};s&1&&(u.variant=e[0]===e[3].indexOf(e[11])?"default":"outline"),s&16388&&(u.$$scope={dirty:s,ctx:e}),t.$set(u)},i(o){r||(v(t.$$.fragment,o),r=!0)},o(o){b(t.$$.fragment,o),r=!1},d(o){o&&h(n),A(t,o)}}}function qt(a){let e,n="Cancel Application";return{c(){e=z("p"),e.textContent=n},l(t){e=R(t,"P",{"data-svelte-h":!0}),nt(e)!=="svelte-szmx8w"&&(e.textContent=n)},m(t,r){C(t,e,r)},p:Be,d(t){t&&h(e)}}}function Gt(a){let e,n,t=a[1]===2?"Application":"Update",r,l,o,s=[],u=new Map,g,d,N,$=Ke(a[3]);const k=p=>p[13];for(let p=0;p<$.length;p+=1){let m=Ye(a,$,p),f=k(m);u.set(f,s[p]=Ze(f,m))}return d=new _e({props:{variant:"destructive",class:"mb-20 flex mr-3 mt-auto justify-start gap-2",$$slots:{default:[qt]},$$scope:{ctx:a}}}),d.$on("click",a[8]),{c(){e=z("div"),n=z("p"),r=ce(t),l=ce(" Menu"),o=M();for(let p=0;p<s.length;p+=1)s[p].c();g=M(),I(d.$$.fragment),this.h()},l(p){e=R(p,"DIV",{class:!0});var m=ee(e);n=R(m,"P",{class:!0});var f=ee(n);r=fe(f,t),l=fe(f," Menu"),f.forEach(h),o=O(m);for(let y=0;y<s.length;y+=1)s[y].l(m);g=O(m),T(d.$$.fragment,m),m.forEach(h),this.h()},h(){oe(n,"class","border rounded m-2 p-1 mb-8"),oe(e,"class","my-3 px-0 flex flex-col h-full")},m(p,m){C(p,e,m),E(e,n),E(n,r),E(n,l),E(e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);E(e,g),S(d,e,null),N=!0},p(p,[m]){(!N||m&2)&&t!==(t=p[1]===2?"Application":"Update")&&Pe(r,t),m&29&&($=Ke(p[3]),ut(),s=bt(s,m,k,1,p,$,u,e,vt,Ze,g,Ye),pt());const f={};m&16384&&(f.$$scope={dirty:m,ctx:p}),d.$set(f)},i(p){if(!N){for(let m=0;m<$.length;m+=1)v(s[m]);v(d.$$.fragment,p),N=!0}},o(p){for(let m=0;m<s.length;m+=1)b(s[m]);b(d.$$.fragment,p),N=!1},d(p){p&&h(e);for(let m=0;m<s.length;m+=1)s[m].d();A(d)}}}function Kt(a,e,n){let t,r,l;le(a,at,p=>n(10,t=p)),le(a,st,p=>n(1,r=p)),le(a,Ee,p=>n(2,l=p));const o=t===0?ot:t===1?lt:it;let s=0;we.subscribe(p=>n(0,s=p));function u(p){Ae.set(o[s].name),we.set(p)}let g=wt;return ht(({from:p})=>{g=(p==null?void 0:p.url.pathname)||g||"/home/dashboard"}),[s,r,l,o,u,(p,m)=>m.name===p.name,(p,m)=>m.name===p.name,p=>u(p),()=>{window.history.back(),rt.set([]),je.set(null)}]}class ft extends xe{constructor(e){super(),et(this,e,Kt,Gt,tt,{})}}function Ht(a){let e;return{c(){e=ce("Changes")},l(n){e=fe(n,"Changes")},m(n,t){C(n,e,t)},d(n){n&&h(e)}}}function Qt(a){let e,n;return e=new zt({props:{$$slots:{default:[Ht]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,r){const l={};r[0]&8388608&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Xt(a){let e;return{c(){e=ce("Ok")},l(n){e=fe(n,"Ok")},m(n,t){C(n,e,t)},d(n){n&&h(e)}}}function Yt(a){let e,n;return e=new _e({props:{$$slots:{default:[Xt]},$$scope:{ctx:a}}}),e.$on("click",a[15]),{c(){I(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,r){const l={};r[0]&8388608&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Zt(a){let e,n,t,r,l,o="No Changes Made",s,u,g,d,N;return e=new Rt({props:{$$slots:{default:[Qt]},$$scope:{ctx:a}}}),d=new Dt({props:{class:"sm:flex gap-3",$$slots:{default:[Yt]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment),n=M(),t=z("br"),r=M(),l=z("p"),l.textContent=o,s=M(),u=z("br"),g=M(),I(d.$$.fragment)},l($){T(e.$$.fragment,$),n=O($),t=R($,"BR",{}),r=O($),l=R($,"P",{"data-svelte-h":!0}),nt(l)!=="svelte-1e51ivf"&&(l.textContent=o),s=O($),u=R($,"BR",{}),g=O($),T(d.$$.fragment,$)},m($,k){S(e,$,k),C($,n,k),C($,t,k),C($,r,k),C($,l,k),C($,s,k),C($,u,k),C($,g,k),S(d,$,k),N=!0},p($,k){const p={};k[0]&8388608&&(p.$$scope={dirty:k,ctx:$}),e.$set(p);const m={};k[0]&8388624&&(m.$$scope={dirty:k,ctx:$}),d.$set(m)},i($){N||(v(e.$$.fragment,$),v(d.$$.fragment,$),N=!0)},o($){b(e.$$.fragment,$),b(d.$$.fragment,$),N=!1},d($){$&&(h(n),h(t),h(r),h(l),h(s),h(u),h(g)),A(e,$),A(d,$)}}}function xt(a){let e,n;return e=new Mt({props:{class:"min-w-fit mx-1.5",$$slots:{default:[Zt]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,r){const l={};r[0]&8388624&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function en(a){let e;return{c(){e=ce("Menu Options")},l(n){e=fe(n,"Menu Options")},m(n,t){C(n,e,t)},d(n){n&&h(e)}}}function tn(a){let e,n;return e=new ft({}),{c(){I(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function nn(a){let e,n,t,r;return e=new Wt({props:{$$slots:{default:[en]},$$scope:{ctx:a}}}),t=new Jt({props:{$$slots:{default:[tn]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment),n=M(),I(t.$$.fragment)},l(l){T(e.$$.fragment,l),n=O(l),T(t.$$.fragment,l)},m(l,o){S(e,l,o),C(l,n,o),S(t,l,o),r=!0},p(l,o){const s={};o[0]&8388608&&(s.$$scope={dirty:o,ctx:l}),e.$set(s);const u={};o[0]&8388608&&(u.$$scope={dirty:o,ctx:l}),t.$set(u)},i(l){r||(v(e.$$.fragment,l),v(t.$$.fragment,l),r=!0)},o(l){b(e.$$.fragment,l),b(t.$$.fragment,l),r=!1},d(l){l&&h(n),A(e,l),A(t,l)}}}function an(a){let e,n;return e=new Ut({props:{$$slots:{default:[nn]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,r){const l={};r[0]&8388608&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function sn(a){let e,n;return e=new Ft({props:{side:"left",class:"w-1/2",$$slots:{default:[an]},$$scope:{ctx:a}}}),{c(){I(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,r){const l={};r[0]&8388608&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function rn(a){let e,n;return e=new ge({props:{icon:"ic:twotone-arrow-back-ios",width:"1.5rem",height:"1.5rem"}}),{c(){I(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p:Be,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function on(a){let e,n;return e=new ge({props:{icon:"ic:twotone-menu",width:"1.5rem",height:"1.5rem"}}),{c(){I(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p:Be,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function ln(a){let e,n,t=a[6]()+"",r,l;return e=new ge({props:{icon:"ic:twotone-arrow-back-ios",class:"mr-1.5"}}),{c(){I(e.$$.fragment),n=M(),r=ce(t)},l(o){T(e.$$.fragment,o),n=O(o),r=fe(o,t)},m(o,s){S(e,o,s),C(o,n,s),C(o,r,s),l=!0},p(o,s){(!l||s[0]&64)&&t!==(t=o[6]()+"")&&Pe(r,t)},i(o){l||(v(e.$$.fragment,o),l=!0)},o(o){b(e.$$.fragment,o),l=!1},d(o){o&&(h(n),h(r)),A(e,o)}}}function fn(a){let e;return{c(){e=ce("View Changes")},l(n){e=fe(n,"View Changes")},m(n,t){C(n,e,t)},d(n){n&&h(e)}}}function cn(a){let e,n,t=a[5]()+"",r,l,o,s;return e=new ge({props:{class:a[3]?"":"hidden",icon:"eos-icons:loading",width:"1.2rem",height:"1.2rem"}}),o=new ge({props:{icon:"ic:twotone-arrow-forward-ios",class:"ml-1.5"}}),{c(){I(e.$$.fragment),n=M(),r=ce(t),l=M(),I(o.$$.fragment)},l(u){T(e.$$.fragment,u),n=O(u),r=fe(u,t),l=O(u),T(o.$$.fragment,u)},m(u,g){S(e,u,g),C(u,n,g),C(u,r,g),C(u,l,g),S(o,u,g),s=!0},p(u,g){const d={};g[0]&8&&(d.class=u[3]?"":"hidden"),e.$set(d),(!s||g[0]&32)&&t!==(t=u[5]()+"")&&Pe(r,t)},i(u){s||(v(e.$$.fragment,u),v(o.$$.fragment,u),s=!0)},o(u){b(e.$$.fragment,u),b(o.$$.fragment,u),s=!1},d(u){u&&(h(n),h(r),h(l)),A(e,u),A(o,u)}}}function un(a){let e,n,t,r,l,o,s,u,g,d,N,$,k,p=a[7][a[0]]+"",m,f,y,Q,X,W,G,K,$e,J,ue,he,Y,te,be,ne,ve,de,ae,pe;e=new Nt({});function Oe(i){a[16](i)}let Se={$$slots:{default:[xt]},$$scope:{ctx:a}};a[4]!==void 0&&(Se.open=a[4]),t=new Ot({props:Se}),Le.push(()=>qe(t,"open",Oe));function c(i){a[17](i)}let L={onOpenChange:a[10],$$slots:{default:[sn]},$$scope:{ctx:a}};a[1]!==void 0&&(L.open=a[1]),o=new Vt({props:L}),Le.push(()=>qe(o,"open",c)),N=new _e({props:{variant:"outline",size:"icon",$$slots:{default:[rn]},$$scope:{ctx:a}}}),N.$on("click",a[18]),y=new _e({props:{variant:"outline",size:"icon",$$slots:{default:[on]},$$scope:{ctx:a}}}),y.$on("click",a[19]),K=new ft({});const F=a[14].default,w=mt(F,a,a[23],null);return te=new _e({props:{variant:a[0]===0?"outline":"default",class:"flex justify-between",$$slots:{default:[ln]},$$scope:{ctx:a}}}),te.$on("click",a[20]),ne=new _e({props:{class:a[2]===!0?"block":"hidden",$$slots:{default:[fn]},$$scope:{ctx:a}}}),ne.$on("click",a[21]),ae=new _e({props:{class:a[5]()==="-1"?"hidden":"",disabled:a[3],$$slots:{default:[cn]},$$scope:{ctx:a}}}),ae.$on("click",a[22]),{c(){I(e.$$.fragment),n=M(),I(t.$$.fragment),l=M(),I(o.$$.fragment),u=M(),g=z("div"),d=z("div"),I(N.$$.fragment),$=M(),k=z("p"),m=ce(p),f=M(),I(y.$$.fragment),Q=M(),X=z("div"),W=z("div"),G=z("div"),I(K.$$.fragment),$e=M(),J=z("div"),ue=z("div"),w&&w.c(),he=M(),Y=z("div"),I(te.$$.fragment),be=M(),I(ne.$$.fragment),ve=M(),de=z("form"),I(ae.$$.fragment),this.h()},l(i){T(e.$$.fragment,i),n=O(i),T(t.$$.fragment,i),l=O(i),T(o.$$.fragment,i),u=O(i),g=R(i,"DIV",{class:!0});var _=ee(g);d=R(_,"DIV",{class:!0});var q=ee(d);T(N.$$.fragment,q),$=O(q),k=R(q,"P",{});var Z=ee(k);m=fe(Z,p),Z.forEach(h),f=O(q),T(y.$$.fragment,q),q.forEach(h),Q=O(_),X=R(_,"DIV",{class:!0});var V=ee(X);W=R(V,"DIV",{class:!0});var x=ee(W);G=R(x,"DIV",{class:!0});var se=ee(G);T(K.$$.fragment,se),se.forEach(h),$e=O(x),J=R(x,"DIV",{class:!0});var re=ee(J);ue=R(re,"DIV",{class:!0});var ie=ee(ue);w&&w.l(ie),ie.forEach(h),he=O(re),Y=R(re,"DIV",{class:!0});var me=ee(Y);T(te.$$.fragment,me),be=O(me),T(ne.$$.fragment,me),ve=O(me),de=R(me,"FORM",{method:!0});var ke=ee(de);T(ae.$$.fragment,ke),ke.forEach(h),me.forEach(h),re.forEach(h),x.forEach(h),V.forEach(h),_.forEach(h),this.h()},h(){oe(d,"class","flex sm:hidden justify-between fixed top-3 left-0 right-0 z-10 px-4 border-b pb-3 h-10 items-center"),oe(G,"class","hidden sm:block sm:basis-1/5 border-r h-full"),oe(ue,"class","basis-11/12 overflow-y-auto"),oe(de,"method","post"),oe(Y,"class","flex justify-between basis-1/12 border-t pt-4 mb-4"),oe(J,"class","sm:basis-4/5 h-full flex flex-col w-full ml-2"),oe(W,"class","flex h-full"),oe(X,"class","mt-8 sm:mt-1 h-full mb-8"),oe(g,"class","px-4 py-5 h-screen")},m(i,_){S(e,i,_),C(i,n,_),S(t,i,_),C(i,l,_),S(o,i,_),C(i,u,_),C(i,g,_),E(g,d),S(N,d,null),E(d,$),E(d,k),E(k,m),E(d,f),S(y,d,null),E(g,Q),E(g,X),E(X,W),E(W,G),S(K,G,null),E(W,$e),E(W,J),E(J,ue),w&&w.m(ue,null),E(J,he),E(J,Y),S(te,Y,null),E(Y,be),S(ne,Y,null),E(Y,ve),E(Y,de),S(ae,de,null),pe=!0},p(i,_){const q={};_[0]&8388624&&(q.$$scope={dirty:_,ctx:i}),!r&&_[0]&16&&(r=!0,q.open=i[4],Ge(()=>r=!1)),t.$set(q);const Z={};_[0]&8388608&&(Z.$$scope={dirty:_,ctx:i}),!s&&_[0]&2&&(s=!0,Z.open=i[1],Ge(()=>s=!1)),o.$set(Z);const V={};_[0]&8388608&&(V.$$scope={dirty:_,ctx:i}),N.$set(V),(!pe||_[0]&1)&&p!==(p=i[7][i[0]]+"")&&Pe(m,p);const x={};_[0]&8388608&&(x.$$scope={dirty:_,ctx:i}),y.$set(x),w&&w.p&&(!pe||_[0]&8388608)&&$t(w,F,i,i[23],pe?_t(F,i[23],_,null):dt(i[23]),null);const se={};_[0]&1&&(se.variant=i[0]===0?"outline":"default"),_[0]&8388672&&(se.$$scope={dirty:_,ctx:i}),te.$set(se);const re={};_[0]&4&&(re.class=i[2]===!0?"block":"hidden"),_[0]&8388608&&(re.$$scope={dirty:_,ctx:i}),ne.$set(re);const ie={};_[0]&32&&(ie.class=i[5]()==="-1"?"hidden":""),_[0]&8&&(ie.disabled=i[3]),_[0]&8388648&&(ie.$$scope={dirty:_,ctx:i}),ae.$set(ie)},i(i){pe||(v(e.$$.fragment,i),v(t.$$.fragment,i),v(o.$$.fragment,i),v(N.$$.fragment,i),v(y.$$.fragment,i),v(K.$$.fragment,i),v(w,i),v(te.$$.fragment,i),v(ne.$$.fragment,i),v(ae.$$.fragment,i),pe=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),b(o.$$.fragment,i),b(N.$$.fragment,i),b(y.$$.fragment,i),b(K.$$.fragment,i),b(w,i),b(te.$$.fragment,i),b(ne.$$.fragment,i),b(ae.$$.fragment,i),pe=!1},d(i){i&&(h(n),h(l),h(u),h(g)),A(e,i),A(t,i),A(o,i),A(N),A(y),A(K),w&&w.d(i),A(te),A(ne),A(ae)}}}function Ce(a){let e="";const n=new Uint8Array(a),t=n.byteLength;for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}function Ne(a){return new Promise((e,n)=>{const t=new FileReader;t.onload=()=>e(t.result),t.onerror=n,t.readAsArrayBuffer(a)}).then(e=>new Uint8Array(e))}function pn(a,e,n){let t,r,l,o,s,u,g,d,N,$;le(a,Tt,c=>n(27,l=c)),le(a,Qe,c=>n(28,o=c)),le(a,rt,c=>n(29,s=c)),le(a,at,c=>n(30,u=c)),le(a,It,c=>n(31,g=c)),le(a,Ee,c=>n(32,d=c)),le(a,je,c=>n(33,N=c)),le(a,st,c=>n(13,$=c));let{$$slots:k={},$$scope:p}=e;const m=u==0?ot:u===1?lt:it;let f=0,y=0,Q=!1,X=!1;gt(async()=>{n(12,y=window.innerWidth),g||await ye("/auth")}),kt.subscribe(c=>{n(2,X=c!=null&&c.length>=1&&((c==null?void 0:c.every(L=>L.hasChanges===!0))??!1))});function W(){if(f==0){ye("/home/dashboard");return}else n(0,f-=1),we.set(f),Ae.set(null)}yt.subscribe(c=>{c===!0&&(n(0,f+=1),we.set(f))});let G=!1;async function K(){return m[f].name==="verification"?(n(3,G=!0),await Y()):(Ae.set(m[f].name),n(0,f+=1),we.set(f),!1)}we.subscribe(c=>n(0,f=c));function $e(c){c||n(1,Q=!1)}let J=!1;async function ue(){Ae.set(null),Ae.set(m[f].name);const c=Ct();if(c===!1)n(4,J=!0);else{if(c!=null&&c.includes("attachments")){const F=o.filter(w=>w.name!=="");for(let w=0;w<F.length;w++){var L=[];let i=F[w].data,_=F[w].name;for(let V=0;V<i.length;V++)F[w].name==="designs"?L.push({fileName:i[V].name,Name:`design${V+1}`,contentType:i[V].type,data:Ce(await Ne(i[V]))}):L.push({fileName:i[V].name,Name:F[w].name,contentType:i[V].type,data:Ce(await Ne(i[V]))});const Z=await(await fetch(`${Xe}/api/files/uploadAttachment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(L)})).json();Z&&At.update(V=>{const x=V.attachments.findIndex(se=>se.name===_);return V.attachments[x].url=Z,V})}}St.set(1),localStorage.removeItem("revisions"),await ye(`/updatesmade?id=${N.id}`)}}let he=[];async function Y(){Ee.update(c=>{const L=c.map(w=>w.name),F=m.filter(w=>["verification","priority"].includes(w.name)===!1).map(w=>w.name);for(const w in F)L.includes(F[w])===!1&&c.push({name:F[w],status:!1});return[...c]});for(let c=0;c<m.length;c++)He.set(m[c].name);if(he=d==null?void 0:d.filter(c=>c.status==!1).map(c=>c.name),He.set(null),he.length>0){const c=he.join(`
`);return Pt.error(`Failed to validate the following sections: 
${c}`,{position:"top-center"}),n(3,G=!1),!1}else return await te(),!0}async function te(){var q,Z,V,x,se,re,ie,me,ke,Fe,Re,ze,De,Ue,We;let c;document.cookie.split(";").find(P=>P.startsWith("user=")||P.startsWith(" user="));const L=g;if(u===1){const P=(q=s==null?void 0:s.filter(U=>U.name==="basic")[0])==null?void 0:q.data,H=((Z=s==null?void 0:s.filter(U=>U.name==="applicant")[0])==null?void 0:Z.data)??[],D=((V=s==null?void 0:s.filter(U=>U.name==="inventors")[0])==null?void 0:V.data)??[],Te=(x=s==null?void 0:s.filter(U=>U.name==="correspondence")[0])==null?void 0:x.data;(((se=s==null?void 0:s.filter(U=>U.name==="attachments")[0])==null?void 0:se.data)??[]).map(U=>({name:Et(U.type),url:U.data.map(j=>j.url)})),c={type:Ie.Design,fileStatus:Ve.AwaitingPayment,formApplicationType:Me.NewApplication,designCreators:D,designType:P.designType,statementOfNovelty:P.statementOfNovelty,titleOfDesign:P.title,correspondence:Te,applicants:H,attachments:[],creatorAccount:L.creatorId}}if(u===0){const P=(re=s==null?void 0:s.filter(j=>j.name==="basic")[0])==null?void 0:re.data,H=((ie=s==null?void 0:s.filter(j=>j.name==="applicant")[0])==null?void 0:ie.data)??[],D=((me=s==null?void 0:s.filter(j=>j.name==="inventors")[0])==null?void 0:me.data)??[],Te=(ke=s==null?void 0:s.filter(j=>j.name==="correspondence")[0])==null?void 0:ke.data,B=((Fe=s==null?void 0:s.filter(j=>j.name==="priority")[0])==null?void 0:Fe.data)??[];(((Re=s==null?void 0:s.filter(j=>j.name==="attachments")[0])==null?void 0:Re.data)??[]).map(j=>({name:jt(j.type),url:j.data.map(ct=>ct.url)}));for(const j in B)console.log(typeof B[j].date),B[j].date=B[j].date.toString();c={type:Ie.Patent,fileStatus:Ve.AwaitingPayment,formApplicationType:Me.NewApplication,inventors:D,patentType:P.patentType,priorityInfo:B,patentApplicationType:P.patentApplicationType,patentAbstract:P.abstract,titleOfInvention:P.title,correspondence:Te,applicants:H,attachments:[],creatorAccount:L.creatorId}}if(u===2){const P=(ze=s==null?void 0:s.filter(B=>B.name==="basic")[0])==null?void 0:ze.data,H=((De=s==null?void 0:s.filter(B=>B.name==="applicant")[0])==null?void 0:De.data)??[],D=(Ue=s==null?void 0:s.filter(B=>B.name==="correspondence")[0])==null?void 0:Ue.data;(((We=s==null?void 0:s.filter(B=>B.name==="attachments")[0])==null?void 0:We.data)??[]).map(B=>({name:Bt(B.type),url:B.data.map(U=>U.url)})),c={type:Ie.Trademark,fileStatus:Ve.AwaitingPayment,formApplicationType:Me.NewApplication,titleOfTradeMark:P.title,trademarkClass:P.class,trademarkClassDescription:P.description,trademarkLogo:P.logo,trademarkType:P.type,trademarkDisclaimer:P.disclaimer,correspondence:D,applicants:H,attachments:[],creatorAccount:L.creatorId}}var F={file:JSON.stringify({...c})},w=[];for(let P=0;P<o.length;P++){let H=o[P].data;for(let D=0;D<H.length;D++)c.type===Ie.Design&&o[P].name==="designs"?w.push({fileName:H[D].name,Name:`design${D+1}`,contentType:H[D].type,data:Ce(await Ne(H[D]))}):w.push({fileName:H[D].name,Name:o[P].name,contentType:H[D].type,data:Ce(await Ne(H[D]))})}F.attachments=w;const _=await(await fetch(`${Xe}/api/files/createNew`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(F)})).json();_&&(Qe.set([{name:"",data:[]}]),je.set(_),await ye("/payment?type=newapplication"))}const be=()=>n(4,J=!1);function ne(c){J=c,n(4,J)}function ve(c){Q=c,n(1,Q)}const de=()=>ye("/home/dashboard"),ae=()=>n(1,Q=!0),pe=()=>W(),Oe=()=>ue(),Se=async()=>{K()};return a.$$set=c=>{"$$scope"in c&&n(23,p=c.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&4097&&n(6,t=()=>f===0?"cancel":y<=640?m[f-1].name:"Previous"),a.$$.dirty[0]&12289&&n(5,r=()=>f===m.findIndex(c=>c.name=="verification")&&$!==1?"proceed":f===m.findIndex(c=>c.name=="verification")&&$==1?"-1":y<=640?m[f+1].name:"Next")},[f,Q,X,G,J,r,t,m,W,K,$e,ue,y,$,k,be,ne,ve,de,ae,pe,Oe,Se,p]}class Vn extends xe{constructor(e){super(),et(this,e,pn,un,tt,{},null,[-1,-1])}}export{Vn as component};
