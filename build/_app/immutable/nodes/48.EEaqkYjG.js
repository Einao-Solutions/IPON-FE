import{S as Te,i as Ie,s as Se,d as c,q as X,r as R,v as Le,b as A,I as be,O as Me,A as De,p as ve,M as Ve,P as _e,c as a,w as ge,J as V,Q as Ne,x as l,e as d,f as v,K as q,h as x,y as ye,j as p,k as w,z as ke,R as Pe,a as Oe,g as ie,t as ce,T as ae,U as ne,F as Ue}from"../chunks/DWgbY-19.js";import"../chunks/IHki7fMi.js";import{g as xe}from"../chunks/BaAthLhr.js";import{b as Be}from"../chunks/CPf-tfAh.js";import"../chunks/B_mOdgGI.js";import{I as we}from"../chunks/Ck_3zp66.js";function Ce(n){let s,t,e,r,o='<h3 class="text-lg font-bold text-black">Publication Status Update</h3> <p class="text-sm text-gray-600 mt-1">Search for the File</p>',u,_,B='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',F,f,j,C,y,b="File Number or RTM",S,h,Z,L,N,$,P,ue="File Type: Trademark",ee,M,O,te,U,fe="Only files with status of publication can undergo publication status update.",se,D,E,de="Cancel",re,g,H,le,pe,m=n[3]&&Ee(n);N=new we({props:{icon:"mdi:scale-balance",class:"text-green-600 w-5 h-5"}}),O=new we({props:{icon:"mdi:information-variant-circle",class:"text-blue-600 w-5 h-5 mt-0.5"}});function me(i,I){return i[2]?je:Fe}let z=me(n),T=z(n);return{c(){s=p("div"),t=p("div"),e=p("div"),r=p("div"),r.innerHTML=o,u=w(),_=p("button"),_.innerHTML=B,F=w(),f=p("div"),m&&m.c(),j=w(),C=p("div"),y=p("label"),y.textContent=b,S=w(),h=p("input"),Z=w(),L=p("div"),ke(N.$$.fragment),$=w(),P=p("span"),P.textContent=ue,ee=w(),M=p("div"),ke(O.$$.fragment),te=w(),U=p("span"),U.textContent=fe,se=w(),D=p("div"),E=p("button"),E.textContent=de,re=w(),g=p("button"),T.c(),this.h()},l(i){s=d(i,"DIV",{class:!0});var I=v(s);t=d(I,"DIV",{class:!0});var J=v(t);e=d(J,"DIV",{class:!0});var K=v(e);r=d(K,"DIV",{"data-svelte-h":!0}),q(r)!=="svelte-1d5ogdx"&&(r.innerHTML=o),u=x(K),_=d(K,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(_)!=="svelte-1dpj7tq"&&(_.innerHTML=B),K.forEach(c),F=x(J),f=d(J,"DIV",{class:!0});var k=v(f);m&&m.l(k),j=x(k),C=d(k,"DIV",{});var Q=v(C);y=d(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(y)!=="svelte-1h6gsvw"&&(y.textContent=b),S=x(Q),h=d(Q,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Q.forEach(c),Z=x(k),L=d(k,"DIV",{class:!0});var Y=v(L);ye(N.$$.fragment,Y),$=x(Y),P=d(Y,"SPAN",{class:!0,"data-svelte-h":!0}),q(P)!=="svelte-1e40ipk"&&(P.textContent=ue),Y.forEach(c),ee=x(k),M=d(k,"DIV",{class:!0});var G=v(M);ye(O.$$.fragment,G),te=x(G),U=d(G,"SPAN",{class:!0,"data-svelte-h":!0}),q(U)!=="svelte-13i4a3m"&&(U.textContent=fe),G.forEach(c),se=x(k),D=d(k,"DIV",{class:!0});var W=v(D);E=d(W,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(E)!=="svelte-twelt9"&&(E.textContent=de),re=x(W),g=d(W,"BUTTON",{type:!0,class:!0});var he=v(g);T.l(he),he.forEach(c),W.forEach(c),k.forEach(c),J.forEach(c),I.forEach(c),this.h()},h(){l(_,"type","button"),l(_,"class","text-gray-400 hover:text-gray-600"),l(e,"class","flex items-center justify-between mb-4"),l(y,"for","search-query"),l(y,"class","block text-sm font-medium text-gray-700 mb-2"),l(h,"id","search-query"),l(h,"type","text"),l(h,"placeholder","Enter file number or RTM number"),l(h,"class","w-full p-3 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"),l(P,"class","text-sm font-medium text-gray-700"),l(L,"class","flex items-center space-x-2 p-3 bg-gray-50 rounded-md"),l(U,"class","text-xs text-blue-800"),l(M,"class","flex items-start space-x-2 p-3 bg-blue-50 rounded-md"),l(E,"type","button"),l(E,"class","flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors"),l(g,"type","button"),l(g,"class","flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50"),g.disabled=n[2],l(D,"class","flex space-x-2 pt-4"),l(f,"class","space-y-4"),l(t,"class","bg-white rounded-lg p-6 w-full max-w-md mx-4"),l(s,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-overlay")},m(i,I){A(i,s,I),a(s,t),a(t,e),a(e,r),a(e,u),a(e,_),a(t,F),a(t,f),m&&m.m(f,null),a(f,j),a(f,C),a(C,y),a(C,S),a(C,h),_e(h,n[1]),a(f,Z),a(f,L),ge(N,L,null),a(L,$),a(L,P),a(f,ee),a(f,M),ge(O,M,null),a(M,te),a(M,U),a(f,se),a(f,D),a(D,E),a(D,re),a(D,g),T.m(g,null),H=!0,le||(pe=[V(_,"click",n[4]),V(h,"input",n[9]),V(h,"keydown",n[7]),V(E,"click",n[4]),V(g,"click",n[5]),V(t,"click",Ne(n[8])),V(s,"click",n[6]),V(s,"keydown",n[7])],le=!0)},p(i,I){i[3]?m?m.p(i,I):(m=Ee(i),m.c(),m.m(f,j)):m&&(m.d(1),m=null),I&2&&h.value!==i[1]&&_e(h,i[1]),z!==(z=me(i))&&(T.d(1),T=z(i),T&&(T.c(),T.m(g,null))),(!H||I&4)&&(g.disabled=i[2])},i(i){H||(R(N.$$.fragment,i),R(O.$$.fragment,i),H=!0)},o(i){X(N.$$.fragment,i),X(O.$$.fragment,i),H=!1},d(i){i&&c(s),m&&m.d(),ve(N),ve(O),T.d(),le=!1,Ve(pe)}}}function Ee(n){let s,t;return{c(){s=p("div"),t=ce(n[3]),this.h()},l(e){s=d(e,"DIV",{class:!0});var r=v(s);t=ie(r,n[3]),r.forEach(c),this.h()},h(){l(s,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(e,r){A(e,s,r),a(s,t)},p(e,r){r&8&&Oe(t,e[3])},d(e){e&&c(s)}}}function Fe(n){let s;return{c(){s=ce("Search")},l(t){s=ie(t,"Search")},m(t,e){A(t,s,e)},d(t){t&&c(s)}}}function je(n){let s,t,e,r;return{c(){s=ne("svg"),t=ne("circle"),e=ne("path"),r=ce(`\r
                            Searching...`),this.h()},l(o){s=ae(o,"svg",{class:!0,fill:!0,viewBox:!0});var u=v(s);t=ae(u,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),v(t).forEach(c),e=ae(u,"path",{class:!0,fill:!0,d:!0}),v(e).forEach(c),u.forEach(c),r=ie(o,`\r
                            Searching...`),this.h()},h(){l(t,"class","opacity-25"),l(t,"cx","12"),l(t,"cy","12"),l(t,"r","10"),l(t,"stroke","currentColor"),l(t,"stroke-width","4"),l(e,"class","opacity-75"),l(e,"fill","currentColor"),l(e,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),l(s,"class","w-4 h-4 mr-2 animate-spin inline"),l(s,"fill","none"),l(s,"viewBox","0 0 24 24")},m(o,u){A(o,s,u),a(s,t),a(s,e),A(o,r,u)},d(o){o&&(c(s),c(r))}}}function qe(n){let s,t,e=n[0]&&Ce(n);return{c(){e&&e.c(),s=be()},l(r){e&&e.l(r),s=be()},m(r,o){e&&e.m(r,o),A(r,s,o),t=!0},p(r,[o]){r[0]?e?(e.p(r,o),o&1&&R(e,1)):(e=Ce(r),e.c(),R(e,1),e.m(s.parentNode,s)):e&&(Ue(),X(e,1,1,()=>{e=null}),Le())},i(r){t||(R(e),t=!0)},o(r){X(e),t=!1},d(r){r&&c(s),e&&e.d(r)}}}let oe="trademark";function Ae(n,s,t){let e=!1,r="",o=!1,u=null;const _=Me();De(()=>{t(0,e=!0)});function B(){_("close"),xe("/home/dashboard"),t(0,e=!1)}async function F(){if(!r){t(3,u="Please enter a file number");return}t(2,o=!0),t(3,u=null);try{const b=await fetch(`${Be}/api/files/files/${encodeURIComponent(r.trim())}/type`),S=await b.json();if(!b.ok){t(3,u=S.message||"File not found."),t(2,o=!1);return}if(S.type.toLowerCase()!==oe.toLowerCase()){t(3,u=`File type mismatch. You selected "${oe}", but file is "${S.type}".`),t(2,o=!1);return}const h={query:r,fileType:oe};sessionStorage.setItem("pubStatusSearchParams",JSON.stringify(h)),await xe("/home/publications/publicationstatusupdate/search/")}catch{t(3,u="Error checking file type.")}finally{t(2,o=!1)}}function f(b){b.target.classList.contains("modal-overlay")&&B()}function j(b){b.key==="Escape"&&B(),b.key==="Enter"&&F()}function C(b){Pe.call(this,n,b)}function y(){r=this.value,t(1,r)}return[e,r,o,u,B,F,f,j,C,y]}class Ye extends Te{constructor(s){super(),Ie(this,s,Ae,qe,Se,{})}}export{Ye as component};
