import{S as A,i as F,s as O,m as U,o as j,d as w,p as m,q as _,r as g,u as q,w as d,b as S,y as h,h as k,z as b,k as I,c as z,x as G,e as L,f as M,j as V,g as C,t as P}from"../chunks/Cccy056x.js";import"../chunks/IHki7fMi.js";import{g as y}from"../chunks/C7QXi3Zc.js";import{I as H}from"../chunks/CyluoF3k.js";import"../chunks/Mi5ChQ-_.js";import{R as J,D as K}from"../chunks/Tp6w8__K.js";import{T as Q}from"../chunks/BupOtHzJ.js";import{t as T}from"../chunks/rg3ioSbs.js";import{I as W}from"../chunks/DQ1KgJGZ.js";import{b as X}from"../chunks/DD-J4JhZ.js";import{D as Y,a as Z}from"../chunks/Djc1-W0q.js";import{B as E}from"../chunks/BCzZLC02.js";function x(o){let t;return{c(){t=P("New Application Status Search")},l(n){t=C(n,"New Application Status Search")},m(n,e){S(n,t,e)},d(n){n&&w(t)}}}function ee(o){let t,n;return t=new Z({props:{$$slots:{default:[x]},$$scope:{ctx:o}}}),{c(){b(t.$$.fragment)},l(e){h(t.$$.fragment,e)},m(e,r){d(t,e,r),n=!0},p(e,r){const i={};r&128&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){m(t,e)}}}function te(o){let t;return{c(){t=P("Back")},l(n){t=C(n,"Back")},m(n,e){S(n,t,e)},d(n){n&&w(t)}}}function ne(o){let t,n,e;return t=new W({props:{class:o[2]?"":"hidden",icon:"line-md:loading-loop",width:"1.2rem",height:"1.2rem"}}),{c(){b(t.$$.fragment),n=P(`\r
                Search & Pay`)},l(r){h(t.$$.fragment,r),n=C(r,`\r
                Search & Pay`)},m(r,i){d(t,r,i),S(r,n,i),e=!0},p(r,i){const $={};i&4&&($.class=r[2]?"":"hidden"),t.$set($)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){_(t.$$.fragment,r),e=!1},d(r){r&&w(n),m(t,r)}}}function re(o){let t,n,e,r,i,$,c,s,f,u;t=new Y({props:{$$slots:{default:[ee]},$$scope:{ctx:o}}});function v(a){o[4](a)}let p={placeholder:"enter file number"};return o[1]!==void 0&&(p.value=o[1]),e=new H({props:p}),U.push(()=>j(e,"value",v)),c=new E({props:{$$slots:{default:[te]},$$scope:{ctx:o}}}),c.$on("click",o[5]),f=new E({props:{disabled:o[2],$$slots:{default:[ne]},$$scope:{ctx:o}}}),f.$on("click",o[3]),{c(){b(t.$$.fragment),n=I(),b(e.$$.fragment),i=I(),$=V("div"),b(c.$$.fragment),s=I(),b(f.$$.fragment),this.h()},l(a){h(t.$$.fragment,a),n=k(a),h(e.$$.fragment,a),i=k(a),$=L(a,"DIV",{class:!0});var l=M($);h(c.$$.fragment,l),s=k(l),h(f.$$.fragment,l),l.forEach(w),this.h()},h(){G($,"class","flex gap-2 mt-4")},m(a,l){d(t,a,l),S(a,n,l),d(e,a,l),S(a,i,l),S(a,$,l),d(c,$,null),z($,s),d(f,$,null),u=!0},p(a,l){const N={};l&128&&(N.$$scope={dirty:l,ctx:a}),t.$set(N);const R={};!r&&l&2&&(r=!0,R.value=a[1],q(()=>r=!1)),e.$set(R);const B={};l&128&&(B.$$scope={dirty:l,ctx:a}),c.$set(B);const D={};l&4&&(D.disabled=a[2]),l&132&&(D.$$scope={dirty:l,ctx:a}),f.$set(D)},i(a){u||(g(t.$$.fragment,a),g(e.$$.fragment,a),g(c.$$.fragment,a),g(f.$$.fragment,a),u=!0)},o(a){_(t.$$.fragment,a),_(e.$$.fragment,a),_(c.$$.fragment,a),_(f.$$.fragment,a),u=!1},d(a){a&&(w(n),w(i),w($)),m(t,a),m(e,a),m(c),m(f)}}}function ae(o){let t,n;return t=new K({props:{$$slots:{default:[re]},$$scope:{ctx:o}}}),{c(){b(t.$$.fragment)},l(e){h(t.$$.fragment,e)},m(e,r){d(t,e,r),n=!0},p(e,r){const i={};r&134&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){m(t,e)}}}function oe(o){let t,n,e,r,i;t=new Q({});function $(s){o[6](s)}let c={closeOnOutsideClick:!1,$$slots:{default:[ae]},$$scope:{ctx:o}};return o[0]!==void 0&&(c.open=o[0]),e=new J({props:c}),U.push(()=>j(e,"open",$)),{c(){b(t.$$.fragment),n=I(),b(e.$$.fragment)},l(s){h(t.$$.fragment,s),n=k(s),h(e.$$.fragment,s)},m(s,f){d(t,s,f),S(s,n,f),d(e,s,f),i=!0},p(s,[f]){const u={};f&134&&(u.$$scope={dirty:f,ctx:s}),!r&&f&1&&(r=!0,u.open=s[0],q(()=>r=!1)),e.$set(u)},i(s){i||(g(t.$$.fragment,s),g(e.$$.fragment,s),i=!0)},o(s){_(t.$$.fragment,s),_(e.$$.fragment,s),i=!1},d(s){s&&w(n),m(t,s),m(e,s)}}}function se(o){return/TM/i.test(o)?2:/PT/i.test(o)?0:/DS/i.test(o)||/DES/i.test(o)?1:2}function ie(o,t,n){let e=!0,r="",i=!1;async function $(){if(!r){T.error("Please enter a file number.");return}n(2,i=!0);try{const u=se(r),v=await fetch(`${X}/api/files/GetStatusSearchCost?fileId=${encodeURIComponent(r)}&fileType=${u}`);if(!v.ok)throw new Error("Failed to get cost");const p=await v.json(),a=p==null?void 0:p.amount,l=p==null?void 0:p.rrr;a&&l?(sessionStorage.setItem("statussearch_fileId",r),sessionStorage.setItem("statussearch_applicantName",(p==null?void 0:p.applicantName)??""),await y(`/payment?type=statussearch&rrr=${l}&amount=${a}&fileId=${encodeURIComponent(r)}`)):T.error("Could not retrieve payment details.")}catch{T.error("Error fetching payment info.")}n(2,i=!1)}function c(u){r=u,n(1,r)}const s=()=>y("/home/dashboard");function f(u){e=u,n(0,e)}return o.$$.update=()=>{o.$$.dirty&1&&(e||y("/home/dashboard"))},[e,r,i,$,c,s,f]}class we extends A{constructor(t){super(),F(this,t,ie,oe,O,{})}}export{we as component};
