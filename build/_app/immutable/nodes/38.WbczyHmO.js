import{S as xe,i as ke,s as we,d,q as ie,r as Z,v as Ce,b as A,I as be,l as Ee,O as Ie,A as Te,p as Pe,M as Se,P as G,V as _e,c as a,w as Le,J,x as r,W as Oe,e as c,f as v,K as M,h as O,y as Ve,g as $,j as u,k as V,z as De,t as ee,X as Ne,a as Me,F as Fe}from"../chunks/Cccy056x.js";import"../chunks/IHki7fMi.js";import{g as ve}from"../chunks/C7QXi3Zc.js";import{b as Re}from"../chunks/DD-J4JhZ.js";import{l as Ue}from"../chunks/CuoJv0KR.js";import{I as qe}from"../chunks/DQ1KgJGZ.js";function ge(o){let l,e,t,s='<h3 id="modal-title" class="text-lg font-bold text-black">Post Registration Search</h3> <p>Search for the File</p>',f,p,y,h,x,k,w,j="File Number or RTM:",F,b,z,C,i,R="File Type",B,_,T,ce="Patent",P,ue="Trademark",te,E,D,N,le,se,S,fe="Cancel",re,g,H,ae,de,m=o[4]&&ye(o);N=new qe({props:{icon:"mdi:information-variant-circle",class:"mr-2 text-red-500",style:"font-size: 1.3em;"}});function pe(n,I){return n[3]?je:Ae}let K=pe(o),L=K(o);return{c(){l=u("div"),e=u("div"),t=u("div"),t.innerHTML=s,f=V(),p=u("div"),m&&m.c(),y=V(),h=u("div"),x=u("div"),k=u("div"),w=u("label"),w.textContent=j,F=V(),b=u("input"),z=V(),C=u("div"),i=u("label"),i.textContent=R,B=V(),_=u("select"),T=u("option"),T.textContent=ce,P=u("option"),P.textContent=ue,te=V(),E=u("div"),D=u("span"),De(N.$$.fragment),le=ee(`\r
					Post Registration is strictly for registered files with active status.`),se=V(),S=u("button"),S.textContent=fe,re=V(),g=u("button"),L.c(),this.h()},l(n){l=c(n,"DIV",{class:!0,role:!0});var I=v(l);e=c(I,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var U=v(e);t=c(U,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-14okla7"&&(t.innerHTML=s),f=O(U),p=c(U,"DIV",{class:!0});var Q=v(p);m&&m.l(Q),y=O(Q),h=c(Q,"DIV",{class:!0});var me=v(h);x=c(me,"DIV",{class:!0});var W=v(x);k=c(W,"DIV",{class:!0});var X=v(k);w=c(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(w)!=="svelte-1dgqn4e"&&(w.textContent=j),F=O(X),b=c(X,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),X.forEach(d),z=O(W),C=c(W,"DIV",{class:!0});var Y=v(C);i=c(Y,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(i)!=="svelte-x2hkn5"&&(i.textContent=R),B=O(Y),_=c(Y,"SELECT",{id:!0,class:!0});var oe=v(_);T=c(oe,"OPTION",{"data-svelte-h":!0}),M(T)!=="svelte-l9ykna"&&(T.textContent=ce),P=c(oe,"OPTION",{"data-svelte-h":!0}),M(P)!=="svelte-ijrak8"&&(P.textContent=ue),oe.forEach(d),Y.forEach(d),W.forEach(d),me.forEach(d),Q.forEach(d),te=O(U),E=c(U,"DIV",{class:!0});var q=v(E);D=c(q,"SPAN",{class:!0});var ne=v(D);Ve(N.$$.fragment,ne),le=$(ne,`\r
					Post Registration is strictly for registered files with active status.`),ne.forEach(d),se=O(q),S=c(q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),M(S)!=="svelte-18i36xv"&&(S.textContent=fe),re=O(q),g=c(q,"BUTTON",{type:!0,class:!0});var he=v(g);L.l(he),he.forEach(d),q.forEach(d),U.forEach(d),I.forEach(d),this.h()},h(){r(t,"class","border-b px-6 py-4"),r(w,"for","search-query"),r(w,"class","block text-sm font-medium text-gray-700 mb-1"),r(b,"id","search-query"),r(b,"type","text"),r(b,"placeholder","Enter file number or RTM number"),r(b,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),r(k,"class","w-full md:w-2/3"),r(i,"for","file-type"),r(i,"class","block text-sm font-medium text-gray-700 mb-1"),T.__value="patent",G(T,T.__value),P.__value="trademark",G(P,P.__value),r(_,"id","file-type"),r(_,"class","border rounded w-full p-2"),o[2]===void 0&&Oe(()=>o[9].call(_)),r(C,"class","w-full md:w-1/3"),r(x,"class","flex flex-col md:flex-row gap-3"),r(h,"class","space-y-4 mx-auto"),r(p,"class","p-6"),r(D,"class","flex items-center text-xs text-gray-600"),r(S,"type","button"),r(S,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),r(g,"type","button"),g.disabled=o[3],r(g,"class","px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed"),r(E,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),r(e,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),r(e,"role","dialog"),r(e,"aria-modal","true"),r(e,"aria-labelledby","modal-title"),r(l,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),r(l,"role","presentation")},m(n,I){A(n,l,I),a(l,e),a(e,t),a(e,f),a(e,p),m&&m.m(p,null),a(p,y),a(p,h),a(h,x),a(x,k),a(k,w),a(k,F),a(k,b),G(b,o[1]),a(x,z),a(x,C),a(C,i),a(C,B),a(C,_),a(_,T),a(_,P),_e(_,o[2],!0),a(e,te),a(e,E),a(E,D),Le(N,D,null),a(D,le),a(E,se),a(E,S),a(E,re),a(E,g),L.m(g,null),H=!0,ae||(de=[J(b,"input",o[8]),J(_,"change",o[9]),J(S,"click",o[5]),J(g,"click",o[6]),J(l,"keydown",o[7])],ae=!0)},p(n,I){n[4]?m?m.p(n,I):(m=ye(n),m.c(),m.m(p,y)):m&&(m.d(1),m=null),I&2&&b.value!==n[1]&&G(b,n[1]),I&4&&_e(_,n[2]),K!==(K=pe(n))&&(L.d(1),L=K(n),L&&(L.c(),L.m(g,null))),(!H||I&8)&&(g.disabled=n[3])},i(n){H||(Z(N.$$.fragment,n),H=!0)},o(n){ie(N.$$.fragment,n),H=!1},d(n){n&&d(l),m&&m.d(),Pe(N),L.d(),ae=!1,Se(de)}}}function ye(o){let l,e;return{c(){l=u("div"),e=ee(o[4]),this.h()},l(t){l=c(t,"DIV",{class:!0});var s=v(l);e=$(s,o[4]),s.forEach(d),this.h()},h(){r(l,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(t,s){A(t,l,s),a(l,e)},p(t,s){s&16&&Me(e,t[4])},d(t){t&&d(l)}}}function Ae(o){let l;return{c(){l=ee("Search")},l(e){l=$(e,"Search")},m(e,t){A(e,l,t)},d(e){e&&d(l)}}}function je(o){let l,e='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',t;return{c(){l=u("span"),l.innerHTML=e,t=ee(`\r
						Searching...`),this.h()},l(s){l=c(s,"SPAN",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1fx6cor"&&(l.innerHTML=e),t=$(s,`\r
						Searching...`),this.h()},h(){r(l,"class","inline-block mr-2")},m(s,f){A(s,l,f),A(s,t,f)},d(s){s&&(d(l),d(t))}}}function ze(o){let l,e,t=o[0]&&ge(o);return{c(){t&&t.c(),l=be()},l(s){t&&t.l(s),l=be()},m(s,f){t&&t.m(s,f),A(s,l,f),e=!0},p(s,[f]){s[0]?t?(t.p(s,f),f&1&&Z(t,1)):(t=ge(s),t.c(),Z(t,1),t.m(l.parentNode,l)):t&&(Fe(),ie(t,1,1,()=>{t=null}),Ce())},i(s){e||(Z(t),e=!0)},o(s){ie(t),e=!1},d(s){s&&d(l),t&&t.d(s)}}}function Be(o,l,e){let t;Ee(o,Ue,i=>e(12,t=i));let{isOpen:s=!1}=l,f="",p="patent",y=!1,h=null,x=null,k=null;const w=Ie();Te(()=>{e(0,s=!0)});function j(){w("close"),ve("/home/dashboard"),e(0,s=!1)}async function F(){if(!f){e(4,h="Please enter a file number");return}if(!p){e(4,h="Please select a file type");return}e(3,y=!0),e(4,h=null);try{const i=await fetch(`${Re}/api/files/files/${encodeURIComponent(f.trim())}/type`),R=await i.json();if(!i.ok){e(4,h=R.message||"File not found."),e(3,y=!1);return}if(R.type.toLowerCase()!==p.toLowerCase()){e(4,h=`File type mismatch. You selected "${p}", but file is "${R.type}".`),e(3,y=!1);return}const B={query:f,fileType:p};sessionStorage.setItem("searchParams",JSON.stringify(B)),x=t.name,k=t.email,await ve("/home/postregistration/search/")}catch{e(4,h="Error checking file type.")}finally{e(3,y=!1)}}function b(i){i.key==="Escape"&&j(),i.key==="Enter"&&F()}function z(){f=this.value,e(1,f)}function C(){p=Ne(this),e(2,p)}return o.$$set=i=>{"isOpen"in i&&e(0,s=i.isOpen)},[s,f,p,y,h,j,F,b,z,C]}class Ye extends xe{constructor(l){super(),ke(this,l,Be,ze,we,{isOpen:0})}}export{Ye as component};
