import{s as F,l as U,d as w,m as j,i as S,g as I,j as k,b as O,o as q,c as G,e as L,h as M,f as C,t as P}from"../chunks/qLIpCCSV.js";import{S as V,i as z,b as A,d as p,t as _,a as g,m as d,e as h,f as b}from"../chunks/Bpqo0lwe.js";import{g as T}from"../chunks/sTQiEMwh.js";import{I as H}from"../chunks/yUtJ0l37.js";import"../chunks/B7ETfSbN.js";import{R as J,D as K}from"../chunks/CYizQiJp.js";import{T as Q}from"../chunks/CtHXF4Up.js";import{t as y}from"../chunks/C8fCgc2Z.js";import{I as W}from"../chunks/DxaiNGYP.js";import{b as X}from"../chunks/DvhB1z8p.js";import{D as Y,a as Z}from"../chunks/wniqi1z2.js";import{B as E}from"../chunks/Amalccm3.js";function x(o){let t;return{c(){t=P("New Application Status Search")},l(n){t=C(n,"New Application Status Search")},m(n,e){S(n,t,e)},d(n){n&&w(t)}}}function ee(o){let t,n;return t=new Z({props:{$$slots:{default:[x]},$$scope:{ctx:o}}}),{c(){b(t.$$.fragment)},l(e){h(t.$$.fragment,e)},m(e,r){d(t,e,r),n=!0},p(e,r){const i={};r&128&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){p(t,e)}}}function te(o){let t;return{c(){t=P("Back")},l(n){t=C(n,"Back")},m(n,e){S(n,t,e)},d(n){n&&w(t)}}}function ne(o){let t,n,e;return t=new W({props:{class:o[2]?"":"hidden",icon:"line-md:loading-loop",width:"1.2rem",height:"1.2rem"}}),{c(){b(t.$$.fragment),n=P(`\r
                Search & Pay`)},l(r){h(t.$$.fragment,r),n=C(r,`\r
                Search & Pay`)},m(r,i){d(t,r,i),S(r,n,i),e=!0},p(r,i){const $={};i&4&&($.class=r[2]?"":"hidden"),t.$set($)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){_(t.$$.fragment,r),e=!1},d(r){r&&w(n),p(t,r)}}}function re(o){let t,n,e,r,i,$,c,s,l,u;t=new Y({props:{$$slots:{default:[ee]},$$scope:{ctx:o}}});function v(a){o[4](a)}let m={placeholder:"enter file number"};return o[1]!==void 0&&(m.value=o[1]),e=new H({props:m}),U.push(()=>A(e,"value",v)),c=new E({props:{$$slots:{default:[te]},$$scope:{ctx:o}}}),c.$on("click",o[5]),l=new E({props:{disabled:o[2],$$slots:{default:[ne]},$$scope:{ctx:o}}}),l.$on("click",o[3]),{c(){b(t.$$.fragment),n=k(),b(e.$$.fragment),i=k(),$=M("div"),b(c.$$.fragment),s=k(),b(l.$$.fragment),this.h()},l(a){h(t.$$.fragment,a),n=I(a),h(e.$$.fragment,a),i=I(a),$=G(a,"DIV",{class:!0});var f=L($);h(c.$$.fragment,f),s=I(f),h(l.$$.fragment,f),f.forEach(w),this.h()},h(){q($,"class","flex gap-2 mt-4")},m(a,f){d(t,a,f),S(a,n,f),d(e,a,f),S(a,i,f),S(a,$,f),d(c,$,null),O($,s),d(l,$,null),u=!0},p(a,f){const N={};f&128&&(N.$$scope={dirty:f,ctx:a}),t.$set(N);const R={};!r&&f&2&&(r=!0,R.value=a[1],j(()=>r=!1)),e.$set(R);const B={};f&128&&(B.$$scope={dirty:f,ctx:a}),c.$set(B);const D={};f&4&&(D.disabled=a[2]),f&132&&(D.$$scope={dirty:f,ctx:a}),l.$set(D)},i(a){u||(g(t.$$.fragment,a),g(e.$$.fragment,a),g(c.$$.fragment,a),g(l.$$.fragment,a),u=!0)},o(a){_(t.$$.fragment,a),_(e.$$.fragment,a),_(c.$$.fragment,a),_(l.$$.fragment,a),u=!1},d(a){a&&(w(n),w(i),w($)),p(t,a),p(e,a),p(c),p(l)}}}function ae(o){let t,n;return t=new K({props:{$$slots:{default:[re]},$$scope:{ctx:o}}}),{c(){b(t.$$.fragment)},l(e){h(t.$$.fragment,e)},m(e,r){d(t,e,r),n=!0},p(e,r){const i={};r&134&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){p(t,e)}}}function oe(o){let t,n,e,r,i;t=new Q({});function $(s){o[6](s)}let c={closeOnOutsideClick:!1,$$slots:{default:[ae]},$$scope:{ctx:o}};return o[0]!==void 0&&(c.open=o[0]),e=new J({props:c}),U.push(()=>A(e,"open",$)),{c(){b(t.$$.fragment),n=k(),b(e.$$.fragment)},l(s){h(t.$$.fragment,s),n=I(s),h(e.$$.fragment,s)},m(s,l){d(t,s,l),S(s,n,l),d(e,s,l),i=!0},p(s,[l]){const u={};l&134&&(u.$$scope={dirty:l,ctx:s}),!r&&l&1&&(r=!0,u.open=s[0],j(()=>r=!1)),e.$set(u)},i(s){i||(g(t.$$.fragment,s),g(e.$$.fragment,s),i=!0)},o(s){_(t.$$.fragment,s),_(e.$$.fragment,s),i=!1},d(s){s&&w(n),p(t,s),p(e,s)}}}function se(o){return/TM/i.test(o)?2:/PT/i.test(o)?0:/DS/i.test(o)||/DES/i.test(o)?1:2}function ie(o,t,n){let e=!0,r="",i=!1;async function $(){if(!r){y.error("Please enter a file number.");return}n(2,i=!0);try{const u=se(r),v=await fetch(`${X}/api/files/GetStatusSearchCost?fileId=${encodeURIComponent(r)}&fileType=${u}`);if(!v.ok)throw new Error("Failed to get cost");const m=await v.json(),a=m==null?void 0:m.amount,f=m==null?void 0:m.rrr;a&&f?(sessionStorage.setItem("statussearch_fileId",r),sessionStorage.setItem("statussearch_applicantName",(m==null?void 0:m.applicantName)??""),await T(`/payment?type=statussearch&rrr=${f}&amount=${a}&fileId=${encodeURIComponent(r)}`)):y.error("Could not retrieve payment details.")}catch{y.error("Error fetching payment info.")}n(2,i=!1)}function c(u){r=u,n(1,r)}const s=()=>T("/home/dashboard");function l(u){e=u,n(0,e)}return o.$$.update=()=>{o.$$.dirty&1&&(e||T("/home/dashboard"))},[e,r,i,$,c,s,l]}class we extends V{constructor(t){super(),z(this,t,ie,oe,F,{})}}export{we as component};
