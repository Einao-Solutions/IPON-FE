import{s as ge,n as se,d as p,i as U,y as ue,k as ye,E as ve,p as we,w as ke,C as xe,F as Y,K as de,b as i,z as B,o,L as Ce,c as d,e as x,A as H,g as P,h as f,j as M,M as Ee,a as Te,f as Z,t as $}from"../chunks/qLIpCCSV.js";import{e as fe}from"../chunks/Dvl1x7Q7.js";import{S as Ie,i as Le}from"../chunks/Bpqo0lwe.js";import{g as pe}from"../chunks/sTQiEMwh.js";import{b as Oe}from"../chunks/DvhB1z8p.js";import{l as Se}from"../chunks/WlDbmOKK.js";import"../chunks/WhpeioxD.js";function he(r,t,e){const l=r.slice();return l[16]=t[e],l}function me(r){let t,e,l,s='<h3 id="modal-title" class="text-lg font-bold text-black">File Search</h3> <p>Please enter the File Number you want to search</p>',c,y,v,N,E,T,m,j="File Number",V,w,q,I,L,R="File Type",b,u,g,z="Select file type",K,O,S,ae="Cancel",ee,C,te,oe,_=r[3]&&be(r),A=fe(r[5]),h=[];for(let a=0;a<A.length;a+=1)h[a]=_e(he(r,A,a));function ne(a,k){return a[2]?Ne:De}let J=ne(r),D=J(r);return{c(){t=f("div"),e=f("div"),l=f("div"),l.innerHTML=s,c=M(),y=f("div"),_&&_.c(),v=M(),N=f("div"),E=f("div"),T=f("div"),m=f("label"),m.textContent=j,V=M(),w=f("input"),q=M(),I=f("div"),L=f("label"),L.textContent=R,b=M(),u=f("select"),g=f("option"),g.textContent=z;for(let a=0;a<h.length;a+=1)h[a].c();K=M(),O=f("div"),S=f("button"),S.textContent=ae,ee=M(),C=f("button"),D.c(),this.h()},l(a){t=d(a,"DIV",{class:!0,role:!0});var k=x(t);e=d(k,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var n=x(e);l=d(n,"DIV",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1slp6um"&&(l.innerHTML=s),c=P(n),y=d(n,"DIV",{class:!0});var F=x(y);_&&_.l(F),v=P(F),N=d(F,"DIV",{class:!0});var ie=x(N);E=d(ie,"DIV",{class:!0});var Q=x(E);T=d(Q,"DIV",{class:!0});var G=x(T);m=d(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(m)!=="svelte-pel2ds"&&(m.textContent=j),V=P(G),w=d(G,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),G.forEach(p),q=P(Q),I=d(Q,"DIV",{class:!0});var W=x(I);L=d(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(L)!=="svelte-obumws"&&(L.textContent=R),b=P(W),u=d(W,"SELECT",{id:!0,class:!0});var le=x(u);g=d(le,"OPTION",{"data-svelte-h":!0}),H(g)!=="svelte-pr1ial"&&(g.textContent=z);for(let re=0;re<h.length;re+=1)h[re].l(le);le.forEach(p),W.forEach(p),Q.forEach(p),ie.forEach(p),F.forEach(p),K=P(n),O=d(n,"DIV",{class:!0});var X=x(O);S=d(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(S)!=="svelte-18i36xv"&&(S.textContent=ae),ee=P(X),C=d(X,"BUTTON",{type:!0,class:!0});var ce=x(C);D.l(ce),ce.forEach(p),X.forEach(p),n.forEach(p),k.forEach(p),this.h()},h(){o(l,"class","border-b px-6 py-4"),o(m,"for","search-query"),o(m,"class","block text-sm font-medium text-gray-700 mb-1"),o(w,"id","search-query"),o(w,"type","text"),o(w,"placeholder","Enter file number"),o(w,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),o(T,"class","w-full md:w-3/3"),o(L,"for","file-type"),o(L,"class","block text-sm font-medium text-gray-700 mb-1"),g.__value="",Y(g,g.__value),g.disabled=!0,g.selected=!0,o(u,"id","file-type"),o(u,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),r[4]===void 0&&Ce(()=>r[11].call(u)),o(I,"class","w-full md:w-2/3"),o(E,"class","flex flex-col md:flex-row gap-3"),o(N,"class","space-y-4 mx-auto"),o(y,"class","p-6"),o(S,"type","button"),o(S,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),o(C,"type","button"),C.disabled=r[2],o(C,"class","px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed"),o(O,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),o(e,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),o(e,"role","dialog"),o(e,"aria-modal","true"),o(e,"aria-labelledby","modal-title"),o(t,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),o(t,"role","presentation")},m(a,k){U(a,t,k),i(t,e),i(e,l),i(e,c),i(e,y),_&&_.m(y,null),i(y,v),i(y,N),i(N,E),i(E,T),i(T,m),i(T,V),i(T,w),Y(w,r[1]),i(E,q),i(E,I),i(I,L),i(I,b),i(I,u),i(u,g);for(let n=0;n<h.length;n+=1)h[n]&&h[n].m(u,null);de(u,r[4],!0),i(e,K),i(e,O),i(O,S),i(O,ee),i(O,C),D.m(C,null),te||(oe=[B(w,"input",r[10]),B(u,"change",r[11]),B(S,"click",r[6]),B(C,"click",r[8]),B(t,"click",r[7]),B(t,"keydown",r[9])],te=!0)},p(a,k){if(a[3]?_?_.p(a,k):(_=be(a),_.c(),_.m(y,v)):_&&(_.d(1),_=null),k&2&&w.value!==a[1]&&Y(w,a[1]),k&32){A=fe(a[5]);let n;for(n=0;n<A.length;n+=1){const F=he(a,A,n);h[n]?h[n].p(F,k):(h[n]=_e(F),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=A.length}k&48&&de(u,a[4]),J!==(J=ne(a))&&(D.d(1),D=J(a),D&&(D.c(),D.m(C,null))),k&4&&(C.disabled=a[2])},d(a){a&&p(t),_&&_.d(),ke(h,a),D.d(),te=!1,xe(oe)}}}function be(r){let t,e;return{c(){t=f("div"),e=$(r[3]),this.h()},l(l){t=d(l,"DIV",{class:!0});var s=x(t);e=Z(s,r[3]),s.forEach(p),this.h()},h(){o(t,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(l,s){U(l,t,s),i(t,e)},p(l,s){s&8&&Te(e,l[3])},d(l){l&&p(t)}}}function _e(r){let t,e=r[16]+"",l;return{c(){t=f("option"),l=$(e),this.h()},l(s){t=d(s,"OPTION",{});var c=x(t);l=Z(c,e),c.forEach(p),this.h()},h(){t.__value=r[16],Y(t,t.__value)},m(s,c){U(s,t,c),i(t,l)},p:se,d(s){s&&p(t)}}}function De(r){let t;return{c(){t=$("Search")},l(e){t=Z(e,"Search")},m(e,l){U(e,t,l)},d(e){e&&p(t)}}}function Ne(r){let t,e='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',l;return{c(){t=f("span"),t.innerHTML=e,l=$(`\r
						Searching...`),this.h()},l(s){t=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1fx6cor"&&(t.innerHTML=e),l=Z(s,`\r
						Searching...`),this.h()},h(){o(t,"class","inline-block mr-2")},m(s,c){U(s,t,c),U(s,l,c)},d(s){s&&(p(t),p(l))}}}function Ve(r){let t,e=r[0]&&me(r);return{c(){e&&e.c(),t=ue()},l(l){e&&e.l(l),t=ue()},m(l,s){e&&e.m(l,s),U(l,t,s)},p(l,[s]){l[0]?e?e.p(l,s):(e=me(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){l&&p(t),e&&e.d(l)}}}function Fe(r,t,e){let l;ye(r,Se,b=>e(14,l=b));let{isOpen:s=!1}=t,c="",y=!1,v=null,N=null,E=null;const T=ve();let m,j=["Patent","Trademark"];we(async()=>{e(0,s=!0)});function V(){T("close"),pe("/home/dashboard"),e(0,s=!1)}function w(b){b.target.classList.contains("modal-overlay")&&V()}async function q(){var b;if(!c&&!m){e(3,v="Please enter a file number and select a file type");return}if(!c){e(3,v="File number is required");return}if(!m){e(3,v="File type is required");return}e(2,y=!0),e(3,v=null);try{const u=await fetch(`${Oe}/api/files/files/${encodeURIComponent(c)}/type`),g=await u.json();if(!u.ok){e(3,v=g.message||"File not found.");return}const z=(b=g.type)==null?void 0:b.toLowerCase(),K=m.toLowerCase();if(z!==K){e(3,v=`File number and file type do not match. File number ${c} is a ${z} file.`);return}const O={query:c,fileType:m};sessionStorage.setItem("searchParams",JSON.stringify(O)),N=l.name,E=l.email,await pe("/home/clerical-update/search/")}catch(u){e(3,v=u.message||"An error occurred during search")}finally{e(2,y=!1)}}function I(b){b.key==="Escape"&&V(),b.key==="Enter"&&q()}function L(){c=this.value,e(1,c)}function R(){m=Ee(this),e(4,m),e(5,j)}return r.$$set=b=>{"isOpen"in b&&e(0,s=b.isOpen)},[s,c,y,v,m,j,V,w,q,I,L,R]}class je extends Ie{constructor(t){super(),Le(this,t,Fe,Ve,ge,{isOpen:0})}}export{je as component};
