import{S as ye,i as ge,s as we,d as f,q as ae,r as W,v as xe,b as A,I as me,O as ke,A as Ce,p as Ee,M as Ie,P as re,V as he,c as a,w as Te,J as q,x as r,W as Se,e as c,f as b,K as F,h as V,y as Le,g as X,j as u,k as D,z as Ve,t as Y,X as De,a as Pe,F as Me}from"../chunks/Cccy056x.js";import"../chunks/IHki7fMi.js";import{g as be}from"../chunks/D8-1Jbz4.js";import{b as Ne}from"../chunks/CHHWQs5a.js";import"../chunks/CuoJv0KR.js";import{I as Oe}from"../chunks/DQ1KgJGZ.js";function _e(o){let l,t,e,s='<h3 class="text-lg font-bold text-black">Publication Status Update</h3> <p>Search for the File</p>',i,m,h,S,_,v,w,B="File Number or RTM:",U,d,P,x,L,oe="File Type",G,y,E,ne="Trademark",Z,k,M,N,$,ee,I,ie="Cancel",te,g,j,le,ce,p=o[4]&&ve(o);N=new Oe({props:{icon:"mdi:information-variant-circle",class:"mr-2 text-blue-500",style:"font-size: 1.3em;"}});function ue(n,C){return n[3]?Fe:ze}let H=ue(o),T=H(o);return{c(){l=u("div"),t=u("div"),e=u("div"),e.innerHTML=s,i=D(),m=u("div"),p&&p.c(),h=D(),S=u("div"),_=u("div"),v=u("div"),w=u("label"),w.textContent=B,U=D(),d=u("input"),P=D(),x=u("div"),L=u("label"),L.textContent=oe,G=D(),y=u("select"),E=u("option"),E.textContent=ne,Z=D(),k=u("div"),M=u("span"),Ve(N.$$.fragment),$=Y(`\r
                    Only files with status of publication can undergo publication status update.`),ee=D(),I=u("button"),I.textContent=ie,te=D(),g=u("button"),T.c(),this.h()},l(n){l=c(n,"DIV",{class:!0,role:!0});var C=b(l);t=c(C,"DIV",{class:!0,role:!0,"aria-modal":!0});var O=b(t);e=c(O,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-wdnylk"&&(e.innerHTML=s),i=V(O),m=c(O,"DIV",{class:!0});var R=b(m);p&&p.l(R),h=V(R),S=c(R,"DIV",{class:!0});var de=b(S);_=c(de,"DIV",{class:!0});var J=b(_);v=c(J,"DIV",{class:!0});var K=b(v);w=c(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(w)!=="svelte-7i0out"&&(w.textContent=B),U=V(K),d=c(K,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),K.forEach(f),P=V(J),x=c(J,"DIV",{class:!0});var Q=b(x);L=c(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(L)!=="svelte-obumws"&&(L.textContent=oe),G=V(Q),y=c(Q,"SELECT",{id:!0,class:!0});var fe=b(y);E=c(fe,"OPTION",{"data-svelte-h":!0}),F(E)!=="svelte-ijrak8"&&(E.textContent=ne),fe.forEach(f),Q.forEach(f),J.forEach(f),de.forEach(f),R.forEach(f),Z=V(O),k=c(O,"DIV",{class:!0});var z=b(k);M=c(z,"SPAN",{class:!0});var se=b(M);Le(N.$$.fragment,se),$=X(se,`\r
                    Only files with status of publication can undergo publication status update.`),se.forEach(f),ee=V(z),I=c(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(I)!=="svelte-1h9hdz1"&&(I.textContent=ie),te=V(z),g=c(z,"BUTTON",{type:!0,class:!0});var pe=b(g);T.l(pe),pe.forEach(f),z.forEach(f),O.forEach(f),C.forEach(f),this.h()},h(){r(e,"class","border-b px-6 py-4"),r(w,"for","search-query"),r(w,"class","block text-sm font-medium text-gray-700 mb-1"),r(d,"id","search-query"),r(d,"type","text"),r(d,"placeholder","Enter file number or RTM number"),r(d,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),r(v,"class","w-full md:w-2/3"),r(L,"for","file-type"),r(L,"class","block text-sm font-medium text-gray-700 mb-1"),E.__value="trademark",re(E,E.__value),r(y,"id","file-type"),r(y,"class","border rounded w-full p-2"),o[2]===void 0&&Se(()=>o[9].call(y)),r(x,"class","w-full md:w-1/3"),r(_,"class","flex flex-col md:flex-row gap-3"),r(S,"class","space-y-4 mx-auto"),r(m,"class","p-6"),r(M,"class","flex items-center text-xs text-gray-600"),r(I,"type","button"),r(I,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"),r(g,"type","button"),g.disabled=o[3],r(g,"class","px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:bg-blue-400"),r(k,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),r(t,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),r(t,"role","dialog"),r(t,"aria-modal","true"),r(l,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),r(l,"role","presentation")},m(n,C){A(n,l,C),a(l,t),a(t,e),a(t,i),a(t,m),p&&p.m(m,null),a(m,h),a(m,S),a(S,_),a(_,v),a(v,w),a(v,U),a(v,d),re(d,o[1]),a(_,P),a(_,x),a(x,L),a(x,G),a(x,y),a(y,E),he(y,o[2],!0),a(t,Z),a(t,k),a(k,M),Te(N,M,null),a(M,$),a(k,ee),a(k,I),a(k,te),a(k,g),T.m(g,null),j=!0,le||(ce=[q(d,"input",o[8]),q(y,"change",o[9]),q(I,"click",o[5]),q(g,"click",o[6]),q(l,"keydown",o[7])],le=!0)},p(n,C){n[4]?p?p.p(n,C):(p=ve(n),p.c(),p.m(m,h)):p&&(p.d(1),p=null),C&2&&d.value!==n[1]&&re(d,n[1]),C&4&&he(y,n[2]),H!==(H=ue(n))&&(T.d(1),T=H(n),T&&(T.c(),T.m(g,null))),(!j||C&8)&&(g.disabled=n[3])},i(n){j||(W(N.$$.fragment,n),j=!0)},o(n){ae(N.$$.fragment,n),j=!1},d(n){n&&f(l),p&&p.d(),Ee(N),T.d(),le=!1,Ie(ce)}}}function ve(o){let l,t;return{c(){l=u("div"),t=Y(o[4]),this.h()},l(e){l=c(e,"DIV",{class:!0});var s=b(l);t=X(s,o[4]),s.forEach(f),this.h()},h(){r(l,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(e,s){A(e,l,s),a(l,t)},p(e,s){s&16&&Pe(t,e[4])},d(e){e&&f(l)}}}function ze(o){let l;return{c(){l=Y("Search")},l(t){l=X(t,"Search")},m(t,e){A(t,l,e)},d(t){t&&f(l)}}}function Fe(o){let l,t='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',e;return{c(){l=u("span"),l.innerHTML=t,e=Y(`\r
                        Searching...`),this.h()},l(s){l=c(s,"SPAN",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-zf5ghl"&&(l.innerHTML=t),e=X(s,`\r
                        Searching...`),this.h()},h(){r(l,"class","inline-block mr-2")},m(s,i){A(s,l,i),A(s,e,i)},d(s){s&&(f(l),f(e))}}}function Ae(o){let l,t,e=o[0]&&_e(o);return{c(){e&&e.c(),l=me()},l(s){e&&e.l(s),l=me()},m(s,i){e&&e.m(s,i),A(s,l,i),t=!0},p(s,[i]){s[0]?e?(e.p(s,i),i&1&&W(e,1)):(e=_e(s),e.c(),W(e,1),e.m(l.parentNode,l)):e&&(Me(),ae(e,1,1,()=>{e=null}),xe())},i(s){t||(W(e),t=!0)},o(s){ae(e),t=!1},d(s){s&&f(l),e&&e.d(s)}}}function Ue(o,l,t){let e=!1,s="",i="trademark",m=!1,h=null;const S=ke();Ce(()=>{t(0,e=!0)});function _(){S("close"),be("/home/dashboard"),t(0,e=!1)}async function v(){if(!s){t(4,h="Please enter a file number");return}if(!i){t(4,h="Please select a file type");return}t(3,m=!0),t(4,h=null);try{const d=await fetch(`${Ne}/api/files/files/${encodeURIComponent(s.trim())}/type`),P=await d.json();if(!d.ok){t(4,h=P.message||"File not found."),t(3,m=!1);return}if(P.type.toLowerCase()!==i.toLowerCase()){t(4,h=`File type mismatch. You selected "${i}", but file is "${P.type}".`),t(3,m=!1);return}const x={query:s,fileType:i};sessionStorage.setItem("pubStatusSearchParams",JSON.stringify(x)),await be("/home/publications/publicationstatusupdate/search/")}catch{t(4,h="Error checking file type.")}finally{t(3,m=!1)}}function w(d){d.key==="Escape"&&_(),d.key==="Enter"&&v()}function B(){s=this.value,t(1,s)}function U(){i=De(this),t(2,i)}return[e,s,i,m,h,_,v,w,B,U]}class Ke extends ye{constructor(l){super(),ge(this,l,Ue,Ae,we,{})}}export{Ke as component};
