import{S as M,i as O,s as V,m as G,o as J,d as p,p as b,q as d,r as g,u as K,w,b as _,y as k,h as I,z as y,k as E,M as H,P as U,c as P,J as j,x as S,e as T,f as q,K as Q,j as x,g as C,t as N,F as W,v as X,I as A,n as L}from"../chunks/DWgbY-19.js";import"../chunks/IHki7fMi.js";import{g as B}from"../chunks/BaAthLhr.js";import"../chunks/B6dy9_bu.js";import{R as Y,D as Z}from"../chunks/CsBtoMbr.js";import{T as ee}from"../chunks/7_x4Hp1m.js";import{t as R}from"../chunks/DwVMfbZG.js";import{I as te}from"../chunks/Ck_3zp66.js";import{b as re}from"../chunks/CPf-tfAh.js";import{D as ne,a as oe}from"../chunks/Y1btFMw1.js";import{D as se}from"../chunks/B-NSz8tU.js";import{D as ae}from"../chunks/Uf1xmNuK.js";import{B as z}from"../chunks/DhuQ2PKq.js";function le(a){let e;return{c(){e=N("New Application Status Search")},l(r){e=C(r,"New Application Status Search")},m(r,t){_(r,e,t)},d(r){r&&p(e)}}}function ie(a){let e;return{c(){e=N("Enter the file number to search for application status and proceed with payment.")},l(r){e=C(r,"Enter the file number to search for application status and proceed with payment.")},m(r,t){_(r,e,t)},d(r){r&&p(e)}}}function fe(a){let e,r,t,s;return e=new oe({props:{class:"text-lg font-semibold text-gray-900",$$slots:{default:[le]},$$scope:{ctx:a}}}),t=new ae({props:{class:"text-sm text-gray-600",$$slots:{default:[ie]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment),r=E(),y(t.$$.fragment)},l(n){k(e.$$.fragment,n),r=I(n),k(t.$$.fragment,n)},m(n,l){w(e,n,l),_(n,r,l),w(t,n,l),s=!0},p(n,l){const u={};l&256&&(u.$$scope={dirty:l,ctx:n}),e.$set(u);const o={};l&256&&(o.$$scope={dirty:l,ctx:n}),t.$set(o)},i(n){s||(g(e.$$.fragment,n),g(t.$$.fragment,n),s=!0)},o(n){d(e.$$.fragment,n),d(t.$$.fragment,n),s=!1},d(n){n&&p(r),b(e,n),b(t,n)}}}function ce(a){let e;return{c(){e=N("Back")},l(r){e=C(r,"Back")},m(r,t){_(r,e,t)},d(r){r&&p(e)}}}function ue(a){let e;return{c(){e=N("Search & Pay")},l(r){e=C(r,"Search & Pay")},m(r,t){_(r,e,t)},i:L,o:L,d(r){r&&p(e)}}}function $e(a){let e,r,t;return e=new te({props:{icon:"line-md:loading-loop",width:"1.2rem",height:"1.2rem",class:"mr-2"}}),{c(){y(e.$$.fragment),r=N(`\r
                    Searching...`)},l(s){k(e.$$.fragment,s),r=C(s,`\r
                    Searching...`)},m(s,n){w(e,s,n),_(s,r,n),t=!0},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){d(e.$$.fragment,s),t=!1},d(s){s&&p(r),b(e,s)}}}function pe(a){let e,r,t,s;const n=[$e,ue],l=[];function u(o,f){return o[2]?0:1}return e=u(a),r=l[e]=n[e](a),{c(){r.c(),t=A()},l(o){r.l(o),t=A()},m(o,f){l[e].m(o,f),_(o,t,f),s=!0},p(o,f){let c=e;e=u(o),e!==c&&(W(),d(l[c],1,1,()=>{l[c]=null}),X(),r=l[e],r||(r=l[e]=n[e](o),r.c()),g(r,1),r.m(t.parentNode,t))},i(o){s||(g(r),s=!0)},o(o){d(r),s=!1},d(o){o&&p(t),l[e].d(o)}}}function me(a){let e,r,t,s;return e=new z({props:{variant:"outline",class:"flex-1",$$slots:{default:[ce]},$$scope:{ctx:a}}}),e.$on("click",a[6]),t=new z({props:{class:"flex-1 bg-green-600 hover:bg-green-700 focus:ring-green-500",disabled:a[2],$$slots:{default:[pe]},$$scope:{ctx:a}}}),t.$on("click",a[3]),{c(){y(e.$$.fragment),r=E(),y(t.$$.fragment)},l(n){k(e.$$.fragment,n),r=I(n),k(t.$$.fragment,n)},m(n,l){w(e,n,l),_(n,r,l),w(t,n,l),s=!0},p(n,l){const u={};l&256&&(u.$$scope={dirty:l,ctx:n}),e.$set(u);const o={};l&4&&(o.disabled=n[2]),l&260&&(o.$$scope={dirty:l,ctx:n}),t.$set(o)},i(n){s||(g(e.$$.fragment,n),g(t.$$.fragment,n),s=!0)},o(n){d(e.$$.fragment,n),d(t.$$.fragment,n),s=!1},d(n){n&&p(r),b(e,n),b(t,n)}}}function _e(a){let e,r,t,s,n,l="File Number",u,o,f,c,h,D,m;return e=new ne({props:{$$slots:{default:[fe]},$$scope:{ctx:a}}}),c=new se({props:{class:"flex gap-2 pt-4",$$slots:{default:[me]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment),r=E(),t=x("div"),s=x("div"),n=x("label"),n.textContent=l,u=E(),o=x("input"),f=E(),y(c.$$.fragment),this.h()},l(i){k(e.$$.fragment,i),r=I(i),t=T(i,"DIV",{class:!0});var $=q(t);s=T($,"DIV",{});var v=q(s);n=T(v,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-1qzjnx7"&&(n.textContent=l),u=I(v),o=T(v,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),v.forEach(p),$.forEach(p),f=I(i),k(c.$$.fragment,i),this.h()},h(){S(n,"for","file-search-input"),S(n,"class","block text-sm font-medium text-gray-700 mb-2"),S(o,"id","file-search-input"),S(o,"type","text"),S(o,"placeholder","Enter file number"),S(o,"class","w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"),S(t,"class","space-y-4")},m(i,$){w(e,i,$),_(i,r,$),_(i,t,$),P(t,s),P(s,n),P(s,u),P(s,o),U(o,a[1]),_(i,f,$),w(c,i,$),h=!0,D||(m=[j(o,"input",a[4]),j(o,"keydown",a[5])],D=!0)},p(i,$){const v={};$&256&&(v.$$scope={dirty:$,ctx:i}),e.$set(v),$&2&&o.value!==i[1]&&U(o,i[1]);const F={};$&260&&(F.$$scope={dirty:$,ctx:i}),c.$set(F)},i(i){h||(g(e.$$.fragment,i),g(c.$$.fragment,i),h=!0)},o(i){d(e.$$.fragment,i),d(c.$$.fragment,i),h=!1},d(i){i&&(p(r),p(t),p(f)),b(e,i),b(c,i),D=!1,H(m)}}}function de(a){let e,r;return e=new Z({props:{class:"max-w-md",$$slots:{default:[_e]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,s){w(e,t,s),r=!0},p(t,s){const n={};s&262&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function ge(a){let e,r,t,s,n;e=new ee({});function l(o){a[7](o)}let u={closeOnOutsideClick:!1,$$slots:{default:[de]},$$scope:{ctx:a}};return a[0]!==void 0&&(u.open=a[0]),t=new Y({props:u}),G.push(()=>J(t,"open",l)),{c(){y(e.$$.fragment),r=E(),y(t.$$.fragment)},l(o){k(e.$$.fragment,o),r=I(o),k(t.$$.fragment,o)},m(o,f){w(e,o,f),_(o,r,f),w(t,o,f),n=!0},p(o,[f]){const c={};f&262&&(c.$$scope={dirty:f,ctx:o}),!s&&f&1&&(s=!0,c.open=o[0],K(()=>s=!1)),t.$set(c)},i(o){n||(g(e.$$.fragment,o),g(t.$$.fragment,o),n=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),n=!1},d(o){o&&p(r),b(e,o),b(t,o)}}}function he(a){return/TM/i.test(a)?2:/PT/i.test(a)?0:/DS/i.test(a)||/DES/i.test(a)?1:2}function be(a,e,r){let t=!0,s="",n=!1;async function l(){if(!s){R.error("Please enter a file number.");return}r(2,n=!0);try{const h=he(s),D=await fetch(`${re}/api/files/GetStatusSearchCost?fileId=${encodeURIComponent(s)}&fileType=${h}`);if(!D.ok)throw new Error("Failed to get cost");const m=await D.json(),i=m==null?void 0:m.amount,$=m==null?void 0:m.rrr;i&&$?(sessionStorage.setItem("statussearch_fileId",s),sessionStorage.setItem("statussearch_applicantName",(m==null?void 0:m.applicantName)??""),await B(`/payment?type=statussearch&rrr=${$}&amount=${i}&fileId=${encodeURIComponent(s)}`)):R.error("Could not retrieve payment details.")}catch{R.error("Error fetching payment info.")}r(2,n=!1)}function u(){s=this.value,r(1,s)}const o=h=>{h.key==="Enter"&&l()},f=()=>B("/home/dashboard");function c(h){t=h,r(0,t)}return a.$$.update=()=>{a.$$.dirty&1&&(t||B("/home/dashboard"))},[t,s,n,l,u,o,f,c]}class Be extends M{constructor(e){super(),O(this,e,be,ge,V,{})}}export{Be as component};
