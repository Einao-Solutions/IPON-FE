import{S as ge,i as ve,s as ye,n as se,d as p,b as U,I as ue,l as ke,O as we,A as xe,G as Ce,M as Ee,P as Y,V as de,c as i,J as B,x as o,W as Ie,e as d,f as x,K as H,h as F,j as f,k as M,X as Te,a as Le,g as Z,t as $}from"../chunks/Cccy056x.js";import{e as fe}from"../chunks/ByixyIeQ.js";import"../chunks/IHki7fMi.js";import{g as pe}from"../chunks/DbPk4SB2.js";import{b as Oe}from"../chunks/kzloY8Fw.js";import{l as Se}from"../chunks/DA3sRRUG.js";import"../chunks/WhpeioxD.js";function he(r,t,e){const l=r.slice();return l[16]=t[e],l}function me(r){let t,e,l,s='<h3 id="modal-title" class="text-lg font-bold text-black">File Search</h3> <p>Please enter the File Number you want to search</p>',c,v,y,D,E,I,m,j="File Number",N,k,q,T,L,K="File Type",b,u,g,z="Select file type",J,O,S,ae="Cancel",ee,C,te,oe,_=r[3]&&be(r),A=fe(r[5]),h=[];for(let a=0;a<A.length;a+=1)h[a]=_e(he(r,A,a));function ne(a,w){return a[2]?De:Ve}let R=ne(r),V=R(r);return{c(){t=f("div"),e=f("div"),l=f("div"),l.innerHTML=s,c=M(),v=f("div"),_&&_.c(),y=M(),D=f("div"),E=f("div"),I=f("div"),m=f("label"),m.textContent=j,N=M(),k=f("input"),q=M(),T=f("div"),L=f("label"),L.textContent=K,b=M(),u=f("select"),g=f("option"),g.textContent=z;for(let a=0;a<h.length;a+=1)h[a].c();J=M(),O=f("div"),S=f("button"),S.textContent=ae,ee=M(),C=f("button"),V.c(),this.h()},l(a){t=d(a,"DIV",{class:!0,role:!0});var w=x(t);e=d(w,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var n=x(e);l=d(n,"DIV",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1slp6um"&&(l.innerHTML=s),c=F(n),v=d(n,"DIV",{class:!0});var P=x(v);_&&_.l(P),y=F(P),D=d(P,"DIV",{class:!0});var ie=x(D);E=d(ie,"DIV",{class:!0});var G=x(E);I=d(G,"DIV",{class:!0});var Q=x(I);m=d(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(m)!=="svelte-pel2ds"&&(m.textContent=j),N=F(Q),k=d(Q,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Q.forEach(p),q=F(G),T=d(G,"DIV",{class:!0});var W=x(T);L=d(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(L)!=="svelte-obumws"&&(L.textContent=K),b=F(W),u=d(W,"SELECT",{id:!0,class:!0});var le=x(u);g=d(le,"OPTION",{"data-svelte-h":!0}),H(g)!=="svelte-pr1ial"&&(g.textContent=z);for(let re=0;re<h.length;re+=1)h[re].l(le);le.forEach(p),W.forEach(p),G.forEach(p),ie.forEach(p),P.forEach(p),J=F(n),O=d(n,"DIV",{class:!0});var X=x(O);S=d(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(S)!=="svelte-18i36xv"&&(S.textContent=ae),ee=F(X),C=d(X,"BUTTON",{type:!0,class:!0});var ce=x(C);V.l(ce),ce.forEach(p),X.forEach(p),n.forEach(p),w.forEach(p),this.h()},h(){o(l,"class","border-b px-6 py-4"),o(m,"for","search-query"),o(m,"class","block text-sm font-medium text-gray-700 mb-1"),o(k,"id","search-query"),o(k,"type","text"),o(k,"placeholder","Enter file number"),o(k,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),o(I,"class","w-full md:w-3/3"),o(L,"for","file-type"),o(L,"class","block text-sm font-medium text-gray-700 mb-1"),g.__value="",Y(g,g.__value),g.disabled=!0,g.selected=!0,o(u,"id","file-type"),o(u,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),r[4]===void 0&&Ie(()=>r[11].call(u)),o(T,"class","w-full md:w-2/3"),o(E,"class","flex flex-col md:flex-row gap-3"),o(D,"class","space-y-4 mx-auto"),o(v,"class","p-6"),o(S,"type","button"),o(S,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),o(C,"type","button"),C.disabled=r[2],o(C,"class","px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed"),o(O,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),o(e,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),o(e,"role","dialog"),o(e,"aria-modal","true"),o(e,"aria-labelledby","modal-title"),o(t,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),o(t,"role","presentation")},m(a,w){U(a,t,w),i(t,e),i(e,l),i(e,c),i(e,v),_&&_.m(v,null),i(v,y),i(v,D),i(D,E),i(E,I),i(I,m),i(I,N),i(I,k),Y(k,r[1]),i(E,q),i(E,T),i(T,L),i(T,b),i(T,u),i(u,g);for(let n=0;n<h.length;n+=1)h[n]&&h[n].m(u,null);de(u,r[4],!0),i(e,J),i(e,O),i(O,S),i(O,ee),i(O,C),V.m(C,null),te||(oe=[B(k,"input",r[10]),B(u,"change",r[11]),B(S,"click",r[6]),B(C,"click",r[8]),B(t,"click",r[7]),B(t,"keydown",r[9])],te=!0)},p(a,w){if(a[3]?_?_.p(a,w):(_=be(a),_.c(),_.m(v,y)):_&&(_.d(1),_=null),w&2&&k.value!==a[1]&&Y(k,a[1]),w&32){A=fe(a[5]);let n;for(n=0;n<A.length;n+=1){const P=he(a,A,n);h[n]?h[n].p(P,w):(h[n]=_e(P),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=A.length}w&48&&de(u,a[4]),R!==(R=ne(a))&&(V.d(1),V=R(a),V&&(V.c(),V.m(C,null))),w&4&&(C.disabled=a[2])},d(a){a&&p(t),_&&_.d(),Ce(h,a),V.d(),te=!1,Ee(oe)}}}function be(r){let t,e;return{c(){t=f("div"),e=$(r[3]),this.h()},l(l){t=d(l,"DIV",{class:!0});var s=x(t);e=Z(s,r[3]),s.forEach(p),this.h()},h(){o(t,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(l,s){U(l,t,s),i(t,e)},p(l,s){s&8&&Le(e,l[3])},d(l){l&&p(t)}}}function _e(r){let t,e=r[16]+"",l;return{c(){t=f("option"),l=$(e),this.h()},l(s){t=d(s,"OPTION",{});var c=x(t);l=Z(c,e),c.forEach(p),this.h()},h(){t.__value=r[16],Y(t,t.__value)},m(s,c){U(s,t,c),i(t,l)},p:se,d(s){s&&p(t)}}}function Ve(r){let t;return{c(){t=$("Search")},l(e){t=Z(e,"Search")},m(e,l){U(e,t,l)},d(e){e&&p(t)}}}function De(r){let t,e='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',l;return{c(){t=f("span"),t.innerHTML=e,l=$(`\r
						Searching...`),this.h()},l(s){t=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1fx6cor"&&(t.innerHTML=e),l=Z(s,`\r
						Searching...`),this.h()},h(){o(t,"class","inline-block mr-2")},m(s,c){U(s,t,c),U(s,l,c)},d(s){s&&(p(t),p(l))}}}function Ne(r){let t,e=r[0]&&me(r);return{c(){e&&e.c(),t=ue()},l(l){e&&e.l(l),t=ue()},m(l,s){e&&e.m(l,s),U(l,t,s)},p(l,[s]){l[0]?e?e.p(l,s):(e=me(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){l&&p(t),e&&e.d(l)}}}function Pe(r,t,e){let l;ke(r,Se,b=>e(14,l=b));let{isOpen:s=!1}=t,c="",v=!1,y=null,D=null,E=null;const I=we();let m,j=["Patent","Trademark"];xe(async()=>{e(0,s=!0)});function N(){I("close"),pe("/home/dashboard"),e(0,s=!1)}function k(b){b.target.classList.contains("modal-overlay")&&N()}async function q(){var b;if(!c&&!m){e(3,y="Please enter a file number and select a file type");return}if(!c){e(3,y="File number is required");return}if(!m){e(3,y="File type is required");return}e(2,v=!0),e(3,y=null);try{const u=await fetch(`${Oe}/api/files/files/${encodeURIComponent(c)}/type`),g=await u.json();if(!u.ok){e(3,y=g.message||"File not found.");return}const z=(b=g.type)==null?void 0:b.toLowerCase(),J=m.toLowerCase();if(z!==J){e(3,y=`File number and file type do not match. File number ${c} is a ${z} file.`);return}const O={query:c,fileType:m};sessionStorage.setItem("searchParams",JSON.stringify(O)),D=l.name,E=l.email,await pe("/home/clerical-update/search/")}catch(u){e(3,y=u.message||"An error occurred during search")}finally{e(2,v=!1)}}function T(b){b.key==="Escape"&&N(),b.key==="Enter"&&q()}function L(){c=this.value,e(1,c)}function K(){m=Te(this),e(4,m),e(5,j)}return r.$$set=b=>{"isOpen"in b&&e(0,s=b.isOpen)},[s,c,v,y,m,j,N,k,q,T,L,K]}class je extends ge{constructor(t){super(),ve(this,t,Pe,Ne,ye,{isOpen:0})}}export{je as component};
