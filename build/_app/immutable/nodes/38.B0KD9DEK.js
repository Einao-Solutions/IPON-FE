import{s as xe,d,i as j,y as be,k as ke,E as we,p as Ce,C as Ee,F as X,K as _e,b as a,z as K,o as r,L as Ie,c,e as g,A as M,g as D,f as $,h as u,j as N,t as ee,M as Te,a as Le}from"../chunks/qLIpCCSV.js";import{S as Pe,i as Se,t as ie,a as Z,c as De,d as Ne,m as Oe,e as Ve,f as Me,g as Fe}from"../chunks/Bpqo0lwe.js";import{g as ge}from"../chunks/sTQiEMwh.js";import{b as Re}from"../chunks/DvhB1z8p.js";import{l as Ue}from"../chunks/WlDbmOKK.js";import{I as Ae}from"../chunks/DxaiNGYP.js";function ve(o){let l,e,t,s='<h3 id="modal-title" class="text-lg font-bold text-black">Post Registration Search</h3> <p>Search for the File</p>',f,p,y,h,x,k,w,q="File Number or RTM:",F,b,z,C,i,R="File Type",B,_,T,ce="Patent",L,ue="Trademark",te,E,O,V,le,se,P,fe="Cancel",re,v,H,ae,de,m=o[4]&&ye(o);V=new Ae({props:{icon:"mdi:information-variant-circle",class:"mr-2 text-red-500",style:"font-size: 1.3em;"}});function pe(n,I){return n[3]?qe:je}let J=pe(o),S=J(o);return{c(){l=u("div"),e=u("div"),t=u("div"),t.innerHTML=s,f=N(),p=u("div"),m&&m.c(),y=N(),h=u("div"),x=u("div"),k=u("div"),w=u("label"),w.textContent=q,F=N(),b=u("input"),z=N(),C=u("div"),i=u("label"),i.textContent=R,B=N(),_=u("select"),T=u("option"),T.textContent=ce,L=u("option"),L.textContent=ue,te=N(),E=u("div"),O=u("span"),Me(V.$$.fragment),le=ee(`\r
					Post Registration is strictly for registered files with active status.`),se=N(),P=u("button"),P.textContent=fe,re=N(),v=u("button"),S.c(),this.h()},l(n){l=c(n,"DIV",{class:!0,role:!0});var I=g(l);e=c(I,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var U=g(e);t=c(U,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-14okla7"&&(t.innerHTML=s),f=D(U),p=c(U,"DIV",{class:!0});var Q=g(p);m&&m.l(Q),y=D(Q),h=c(Q,"DIV",{class:!0});var me=g(h);x=c(me,"DIV",{class:!0});var Y=g(x);k=c(Y,"DIV",{class:!0});var G=g(k);w=c(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(w)!=="svelte-1dgqn4e"&&(w.textContent=q),F=D(G),b=c(G,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),G.forEach(d),z=D(Y),C=c(Y,"DIV",{class:!0});var W=g(C);i=c(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(i)!=="svelte-x2hkn5"&&(i.textContent=R),B=D(W),_=c(W,"SELECT",{id:!0,class:!0});var oe=g(_);T=c(oe,"OPTION",{"data-svelte-h":!0}),M(T)!=="svelte-l9ykna"&&(T.textContent=ce),L=c(oe,"OPTION",{"data-svelte-h":!0}),M(L)!=="svelte-ijrak8"&&(L.textContent=ue),oe.forEach(d),W.forEach(d),Y.forEach(d),me.forEach(d),Q.forEach(d),te=D(U),E=c(U,"DIV",{class:!0});var A=g(E);O=c(A,"SPAN",{class:!0});var ne=g(O);Ve(V.$$.fragment,ne),le=$(ne,`\r
					Post Registration is strictly for registered files with active status.`),ne.forEach(d),se=D(A),P=c(A,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),M(P)!=="svelte-18i36xv"&&(P.textContent=fe),re=D(A),v=c(A,"BUTTON",{type:!0,class:!0});var he=g(v);S.l(he),he.forEach(d),A.forEach(d),U.forEach(d),I.forEach(d),this.h()},h(){r(t,"class","border-b px-6 py-4"),r(w,"for","search-query"),r(w,"class","block text-sm font-medium text-gray-700 mb-1"),r(b,"id","search-query"),r(b,"type","text"),r(b,"placeholder","Enter file number or RTM number"),r(b,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),r(k,"class","w-full md:w-2/3"),r(i,"for","file-type"),r(i,"class","block text-sm font-medium text-gray-700 mb-1"),T.__value="patent",X(T,T.__value),L.__value="trademark",X(L,L.__value),r(_,"id","file-type"),r(_,"class","border rounded w-full p-2"),o[2]===void 0&&Ie(()=>o[9].call(_)),r(C,"class","w-full md:w-1/3"),r(x,"class","flex flex-col md:flex-row gap-3"),r(h,"class","space-y-4 mx-auto"),r(p,"class","p-6"),r(O,"class","flex items-center text-xs text-gray-600"),r(P,"type","button"),r(P,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),r(v,"type","button"),v.disabled=o[3],r(v,"class","px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed"),r(E,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),r(e,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),r(e,"role","dialog"),r(e,"aria-modal","true"),r(e,"aria-labelledby","modal-title"),r(l,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),r(l,"role","presentation")},m(n,I){j(n,l,I),a(l,e),a(e,t),a(e,f),a(e,p),m&&m.m(p,null),a(p,y),a(p,h),a(h,x),a(x,k),a(k,w),a(k,F),a(k,b),X(b,o[1]),a(x,z),a(x,C),a(C,i),a(C,B),a(C,_),a(_,T),a(_,L),_e(_,o[2],!0),a(e,te),a(e,E),a(E,O),Oe(V,O,null),a(O,le),a(E,se),a(E,P),a(E,re),a(E,v),S.m(v,null),H=!0,ae||(de=[K(b,"input",o[8]),K(_,"change",o[9]),K(P,"click",o[5]),K(v,"click",o[6]),K(l,"keydown",o[7])],ae=!0)},p(n,I){n[4]?m?m.p(n,I):(m=ye(n),m.c(),m.m(p,y)):m&&(m.d(1),m=null),I&2&&b.value!==n[1]&&X(b,n[1]),I&4&&_e(_,n[2]),J!==(J=pe(n))&&(S.d(1),S=J(n),S&&(S.c(),S.m(v,null))),(!H||I&8)&&(v.disabled=n[3])},i(n){H||(Z(V.$$.fragment,n),H=!0)},o(n){ie(V.$$.fragment,n),H=!1},d(n){n&&d(l),m&&m.d(),Ne(V),S.d(),ae=!1,Ee(de)}}}function ye(o){let l,e;return{c(){l=u("div"),e=ee(o[4]),this.h()},l(t){l=c(t,"DIV",{class:!0});var s=g(l);e=$(s,o[4]),s.forEach(d),this.h()},h(){r(l,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(t,s){j(t,l,s),a(l,e)},p(t,s){s&16&&Le(e,t[4])},d(t){t&&d(l)}}}function je(o){let l;return{c(){l=ee("Search")},l(e){l=$(e,"Search")},m(e,t){j(e,l,t)},d(e){e&&d(l)}}}function qe(o){let l,e='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',t;return{c(){l=u("span"),l.innerHTML=e,t=ee(`\r
						Searching...`),this.h()},l(s){l=c(s,"SPAN",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1fx6cor"&&(l.innerHTML=e),t=$(s,`\r
						Searching...`),this.h()},h(){r(l,"class","inline-block mr-2")},m(s,f){j(s,l,f),j(s,t,f)},d(s){s&&(d(l),d(t))}}}function ze(o){let l,e,t=o[0]&&ve(o);return{c(){t&&t.c(),l=be()},l(s){t&&t.l(s),l=be()},m(s,f){t&&t.m(s,f),j(s,l,f),e=!0},p(s,[f]){s[0]?t?(t.p(s,f),f&1&&Z(t,1)):(t=ve(s),t.c(),Z(t,1),t.m(l.parentNode,l)):t&&(Fe(),ie(t,1,1,()=>{t=null}),De())},i(s){e||(Z(t),e=!0)},o(s){ie(t),e=!1},d(s){s&&d(l),t&&t.d(s)}}}function Be(o,l,e){let t;ke(o,Ue,i=>e(12,t=i));let{isOpen:s=!1}=l,f="",p="patent",y=!1,h=null,x=null,k=null;const w=we();Ce(()=>{e(0,s=!0)});function q(){w("close"),ge("/home/dashboard"),e(0,s=!1)}async function F(){if(!f){e(4,h="Please enter a file number");return}if(!p){e(4,h="Please select a file type");return}e(3,y=!0),e(4,h=null);try{const i=await fetch(`${Re}/api/files/files/${encodeURIComponent(f.trim())}/type`),R=await i.json();if(!i.ok){e(4,h=R.message||"File not found."),e(3,y=!1);return}if(R.type.toLowerCase()!==p.toLowerCase()){e(4,h=`File type mismatch. You selected "${p}", but file is "${R.type}".`),e(3,y=!1);return}const B={query:f,fileType:p};sessionStorage.setItem("searchParams",JSON.stringify(B)),x=t.name,k=t.email,await ge("/home/postregistration/search/")}catch{e(4,h="Error checking file type.")}finally{e(3,y=!1)}}function b(i){i.key==="Escape"&&q(),i.key==="Enter"&&F()}function z(){f=this.value,e(1,f)}function C(){p=Te(this),e(2,p)}return o.$$set=i=>{"isOpen"in i&&e(0,s=i.isOpen)},[s,f,p,y,h,q,F,b,z,C]}class We extends Pe{constructor(l){super(),Se(this,l,Be,ze,xe,{isOpen:0})}}export{We as component};
