import{S as ye,i as ve,s as ke,d as h,q as K,r as H,v as _e,b as q,I as ae,l as oe,O as we,A as xe,M as Ce,P as ee,F as be,c as d,J as z,x as u,e as g,f as T,K as A,h as F,j as y,k as M,V as Ee,a as ge,g as R,t as U,n as te,G as Te,W as ie,X as Ie,p as De,w as Le,y as Pe,z as Ne}from"../chunks/DWgbY-19.js";import{e as ce}from"../chunks/BNi50ERR.js";import"../chunks/IHki7fMi.js";import{g as ue}from"../chunks/BaAthLhr.js";import{b as Se}from"../chunks/CPf-tfAh.js";import{l as Oe}from"../chunks/B_mOdgGI.js";import{p as Ve}from"../chunks/oPOu-fV6.js";import{I as Fe}from"../chunks/Ck_3zp66.js";function fe(s,e,t){const l=s.slice();return l[21]=e[t],l}function de(s){let e,t,l,r='<h3 id="modal-title" class="text-lg font-bold text-black">Clerical Update Search</h3> <p>Please enter the File Number you want to search</p>',n,i,k,v,p,_,a,c="File Number",f,o,E,x,w,j,P,D,G="Cancel",J,I,b,O,B,C=s[3]&&pe(s);const Q=[qe,Me],N=[];function le(m,L){return m[5]?0:m[4]?1:-1}~(x=le(s))&&(w=N[x]=Q[x](s));function re(m,L){return m[2]?Be:Ae}let W=re(s),V=W(s);return{c(){e=y("div"),t=y("div"),l=y("div"),l.innerHTML=r,n=M(),i=y("div"),C&&C.c(),k=M(),v=y("div"),p=y("div"),_=y("div"),a=y("label"),a.textContent=c,f=M(),o=y("input"),E=M(),w&&w.c(),j=M(),P=y("div"),D=y("button"),D.textContent=G,J=M(),I=y("button"),V.c(),this.h()},l(m){e=g(m,"DIV",{class:!0,role:!0});var L=T(e);t=g(L,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var S=T(t);l=g(S,"DIV",{class:!0,"data-svelte-h":!0}),A(l)!=="svelte-ux3eak"&&(l.innerHTML=r),n=F(S),i=g(S,"DIV",{class:!0});var X=T(i);C&&C.l(X),k=F(X),v=g(X,"DIV",{class:!0});var se=T(v);p=g(se,"DIV",{class:!0});var Y=T(p);_=g(Y,"DIV",{class:!0});var Z=T(_);a=g(Z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(a)!=="svelte-pel2ds"&&(a.textContent=c),f=F(Z),o=g(Z,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Z.forEach(h),E=F(Y),w&&w.l(Y),Y.forEach(h),se.forEach(h),X.forEach(h),j=F(S),P=g(S,"DIV",{class:!0});var $=T(P);D=g($,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(D)!=="svelte-1fq28zq"&&(D.textContent=G),J=F($),I=g($,"BUTTON",{type:!0,class:!0});var ne=T(I);V.l(ne),ne.forEach(h),$.forEach(h),S.forEach(h),L.forEach(h),this.h()},h(){u(l,"class","border-b px-6 py-4"),u(a,"for","search-query"),u(a,"class","block text-sm font-medium text-gray-700 mb-1"),u(o,"id","search-query"),u(o,"type","text"),u(o,"placeholder","Enter file number"),u(o,"class","w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"),u(_,"class","w-full md:w-3/3"),u(p,"class","flex flex-col md:flex-row gap-3"),u(v,"class","space-y-4 mx-auto"),u(i,"class","p-6"),u(D,"type","button"),u(D,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"),u(I,"type","button"),I.disabled=s[2],u(I,"class","px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-400 disabled:cursor-not-allowed"),u(P,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),u(t,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),u(t,"role","dialog"),u(t,"aria-modal","true"),u(t,"aria-labelledby","modal-title"),u(e,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),u(e,"role","presentation")},m(m,L){q(m,e,L),d(e,t),d(t,l),d(t,n),d(t,i),C&&C.m(i,null),d(i,k),d(i,v),d(v,p),d(p,_),d(_,a),d(_,f),d(_,o),ee(o,s[1]),d(p,E),~x&&N[x].m(p,null),d(t,j),d(t,P),d(P,D),d(P,J),d(P,I),V.m(I,null),b=!0,O||(B=[z(o,"input",s[12]),z(D,"click",s[7]),z(I,"click",s[9]),z(e,"click",s[8]),z(e,"keydown",s[10])],O=!0)},p(m,L){m[3]?C?C.p(m,L):(C=pe(m),C.c(),C.m(i,k)):C&&(C.d(1),C=null),L&2&&o.value!==m[1]&&ee(o,m[1]);let S=x;x=le(m),x===S?~x&&N[x].p(m,L):(w&&(be(),K(N[S],1,1,()=>{N[S]=null}),_e()),~x?(w=N[x],w?w.p(m,L):(w=N[x]=Q[x](m),w.c()),H(w,1),w.m(p,null)):w=null),W!==(W=re(m))&&(V.d(1),V=W(m),V&&(V.c(),V.m(I,null))),(!b||L&4)&&(I.disabled=m[2])},i(m){b||(H(w),b=!0)},o(m){K(w),b=!1},d(m){m&&h(e),C&&C.d(),~x&&N[x].d(),V.d(),O=!1,Ce(B)}}}function pe(s){let e,t;return{c(){e=y("div"),t=U(s[3]),this.h()},l(l){e=g(l,"DIV",{class:!0});var r=T(e);t=R(r,s[3]),r.forEach(h),this.h()},h(){u(e,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(l,r){q(l,e,r),d(e,t)},p(l,r){r&8&&ge(t,l[3])},d(l){l&&h(e)}}}function Me(s){let e,t,l="File Type",r,n,i,k,v,p,_;return i=new Fe({props:{icon:he(s[4]),class:"text-green-600 mr-2",width:"18",height:"18"}}),{c(){e=y("div"),t=y("label"),t.textContent=l,r=M(),n=y("div"),Ne(i.$$.fragment),k=M(),v=y("span"),p=U(s[4]),this.h()},l(a){e=g(a,"DIV",{class:!0});var c=T(e);t=g(c,"LABEL",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-dk951d"&&(t.textContent=l),r=F(c),n=g(c,"DIV",{class:!0});var f=T(n);Pe(i.$$.fragment,f),k=F(f),v=g(f,"SPAN",{class:!0});var o=T(v);p=R(o,s[4]),o.forEach(h),f.forEach(h),c.forEach(h),this.h()},h(){u(t,"class","block text-sm font-medium text-gray-700 mb-1"),u(v,"class","text-gray-900 font-medium"),u(n,"class","flex items-center p-2 border border-gray-300 rounded-md bg-green-50"),u(e,"class","w-full md:w-2/3")},m(a,c){q(a,e,c),d(e,t),d(e,r),d(e,n),Le(i,n,null),d(n,k),d(n,v),d(v,p),_=!0},p(a,c){const f={};c&16&&(f.icon=he(a[4])),i.$set(f),(!_||c&16)&&ge(p,a[4])},i(a){_||(H(i.$$.fragment,a),_=!0)},o(a){K(i.$$.fragment,a),_=!1},d(a){a&&h(e),De(i)}}}function qe(s){let e,t,l="File Type",r,n,i,k="Select file type",v,p,_=ce(s[6]),a=[];for(let c=0;c<_.length;c+=1)a[c]=me(fe(s,_,c));return{c(){e=y("div"),t=y("label"),t.textContent=l,r=M(),n=y("select"),i=y("option"),i.textContent=k;for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=g(c,"DIV",{class:!0});var f=T(e);t=g(f,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(t)!=="svelte-ldg83n"&&(t.textContent=l),r=F(f),n=g(f,"SELECT",{id:!0,class:!0});var o=T(n);i=g(o,"OPTION",{"data-svelte-h":!0}),A(i)!=="svelte-pr1ial"&&(i.textContent=k);for(let E=0;E<a.length;E+=1)a[E].l(o);o.forEach(h),f.forEach(h),this.h()},h(){u(t,"for","file-type"),u(t,"class","block text-sm font-medium text-gray-700 mb-1"),i.__value="",ee(i,i.__value),i.disabled=!0,i.selected=!0,u(n,"id","file-type"),u(n,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"),s[4]===void 0&&Ie(()=>s[13].call(n)),u(e,"class","w-full md:w-2/3")},m(c,f){q(c,e,f),d(e,t),d(e,r),d(e,n),d(n,i);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(n,null);ie(n,s[4],!0),v||(p=z(n,"change",s[13]),v=!0)},p(c,f){if(f&64){_=ce(c[6]);let o;for(o=0;o<_.length;o+=1){const E=fe(c,_,o);a[o]?a[o].p(E,f):(a[o]=me(E),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=_.length}f&80&&ie(n,c[4])},i:te,o:te,d(c){c&&h(e),Te(a,c),v=!1,p()}}}function me(s){let e,t=s[21]+"",l;return{c(){e=y("option"),l=U(t),this.h()},l(r){e=g(r,"OPTION",{});var n=T(e);l=R(n,t),n.forEach(h),this.h()},h(){e.__value=s[21],ee(e,e.__value)},m(r,n){q(r,e,n),d(e,l)},p:te,d(r){r&&h(e)}}}function Ae(s){let e;return{c(){e=U("Search")},l(t){e=R(t,"Search")},m(t,l){q(t,e,l)},d(t){t&&h(e)}}}function Be(s){let e,t='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',l;return{c(){e=y("span"),e.innerHTML=t,l=U(`\r
						Searching...`),this.h()},l(r){e=g(r,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1fx6cor"&&(e.innerHTML=t),l=R(r,`\r
						Searching...`),this.h()},h(){u(e,"class","inline-block mr-2")},m(r,n){q(r,e,n),q(r,l,n)},d(r){r&&(h(e),h(l))}}}function ze(s){let e,t,l=s[0]&&de(s);return{c(){l&&l.c(),e=ae()},l(r){l&&l.l(r),e=ae()},m(r,n){l&&l.m(r,n),q(r,e,n),t=!0},p(r,[n]){r[0]?l?(l.p(r,n),n&1&&H(l,1)):(l=de(r),l.c(),H(l,1),l.m(e.parentNode,e)):l&&(be(),K(l,1,1,()=>{l=null}),_e())},i(r){t||(H(l),t=!0)},o(r){K(l),t=!1},d(r){r&&h(e),l&&l.d(r)}}}function he(s){return{Trademark:"mdi:scale-balance",Patent:"mdi:lightbulb-outline",Design:"mdi:palette-outline"}[s]||"mdi:file"}function He(s,e,t){let l,r,n;oe(s,Oe,b=>t(17,r=b)),oe(s,Ve,b=>t(18,n=b));let{isOpen:i=!1}=e,k="",v=!1,p=null,_=null,a=null;const c=we();let f="",o=["Patent","Trademark"],E=null,x=!1;xe(async()=>{if(t(11,E=n.url.searchParams.get("ipType")),E&&!x){const b={trademark:"Trademark",patent:"Patent",design:"Design"};E in b&&(t(4,f=b[E]),x=!0)}t(0,i=!0)});function w(){c("close"),ue("/home/dashboard"),t(0,i=!1)}function j(b){b.target.classList.contains("modal-overlay")&&w()}const P=(r==null?void 0:r.firstName)+" "+(r==null?void 0:r.lastName);async function D(){var b;if(!k&&!f){t(3,p=l?"Please enter a file number and select a file type":"Please enter a file number");return}if(!k){t(3,p="File number is required");return}if(!f&&l){t(3,p="File type is required");return}t(2,v=!0),t(3,p=null);try{const O=await fetch(`${Se}/api/files/files/${encodeURIComponent(k)}/type`),B=await O.json();if(!O.ok){t(3,p=B.message||"File not found.");return}const C=(b=B.type)==null?void 0:b.toLowerCase(),Q=f.toLowerCase();if(C!==Q){t(3,p=`File number and file type do not match. File number ${k} is a ${C} file.`);return}const N={query:k,fileType:f};sessionStorage.setItem("searchParams",JSON.stringify(N)),_=P,a=(r==null?void 0:r.email)??null,await ue("/home/clerical-update/search/")}catch(O){t(3,p=O.message||"An error occurred during search")}finally{t(2,v=!1)}}function G(b){b.key==="Escape"&&w(),b.key==="Enter"&&D()}function J(){k=this.value,t(1,k)}function I(){f=Ee(this),t(4,f),t(6,o)}return s.$$set=b=>{"isOpen"in b&&t(0,i=b.isOpen)},s.$$.update=()=>{s.$$.dirty&2048&&t(5,l=!E)},[i,k,v,p,f,l,o,w,j,D,G,E,J,I]}class Xe extends ye{constructor(e){super(),ve(this,e,He,ze,ke,{isOpen:0})}}export{Xe as component};
