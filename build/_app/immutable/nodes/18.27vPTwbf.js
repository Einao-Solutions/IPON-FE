import{S as ae,i as ne,s as ie,n as Z,d as o,b as L,I as $,l as ee,O as oe,A as ce,M as ue,P as te,c as i,J as I,Q as de,x as l,e as b,f as v,K as A,h as S,j as g,k as D,R as fe,a as he,g as R,t as G,T as K,U as Q}from"../chunks/DWgbY-19.js";import"../chunks/IHki7fMi.js";import{g as re}from"../chunks/BaAthLhr.js";import{l as pe}from"../chunks/B_mOdgGI.js";import{p as me}from"../chunks/oPOu-fV6.js";import"../chunks/WhpeioxD.js";function le(s){let t,e,r,n,f='<h3 id="modal-title" class="text-lg font-bold text-black">Claim File Search</h3> <p class="text-sm text-gray-600 mt-1">Please enter the File Number you want to search</p>',c,p,C='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',N,m,T,k,y,B="File Number",M,h,P,x,a,V="Cancel",F,_,J,W,u=s[3]&&se(s);function X(d,E){return d[2]?ge:be}let U=X(s),w=U(s);return{c(){t=g("div"),e=g("div"),r=g("div"),n=g("div"),n.innerHTML=f,c=D(),p=g("button"),p.innerHTML=C,N=D(),m=g("div"),u&&u.c(),T=D(),k=g("div"),y=g("label"),y.textContent=B,M=D(),h=g("input"),P=D(),x=g("div"),a=g("button"),a.textContent=V,F=D(),_=g("button"),w.c(),this.h()},l(d){t=b(d,"DIV",{class:!0});var E=v(t);e=b(E,"DIV",{class:!0});var j=v(e);r=b(j,"DIV",{class:!0});var q=v(r);n=b(q,"DIV",{"data-svelte-h":!0}),A(n)!=="svelte-jg6ws0"&&(n.innerHTML=f),c=S(q),p=b(q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(p)!=="svelte-x25q7p"&&(p.innerHTML=C),q.forEach(o),N=S(j),m=b(j,"DIV",{class:!0});var O=v(m);u&&u.l(O),T=S(O),k=b(O,"DIV",{});var H=v(k);y=b(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(y)!=="svelte-6r2ovn"&&(y.textContent=B),M=S(H),h=b(H,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),H.forEach(o),P=S(O),x=b(O,"DIV",{class:!0});var z=v(x);a=b(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(a)!=="svelte-iz39hx"&&(a.textContent=V),F=S(z),_=b(z,"BUTTON",{type:!0,class:!0});var Y=v(_);w.l(Y),Y.forEach(o),z.forEach(o),O.forEach(o),j.forEach(o),E.forEach(o),this.h()},h(){l(p,"type","button"),l(p,"class","text-gray-400 hover:text-gray-600"),l(r,"class","flex items-center justify-between mb-4"),l(y,"for","search-query"),l(y,"class","block text-sm font-medium text-gray-700 mb-2"),l(h,"id","search-query"),l(h,"type","text"),l(h,"placeholder","Enter file number"),l(h,"class","w-full p-3 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"),l(a,"type","button"),l(a,"class","flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors"),l(_,"type","button"),l(_,"class","flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50"),_.disabled=s[2],l(x,"class","flex space-x-2 pt-4"),l(m,"class","space-y-4"),l(e,"class","bg-white rounded-lg p-6 w-full max-w-md mx-4"),l(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-overlay")},m(d,E){L(d,t,E),i(t,e),i(e,r),i(r,n),i(r,c),i(r,p),i(e,N),i(e,m),u&&u.m(m,null),i(m,T),i(m,k),i(k,y),i(k,M),i(k,h),te(h,s[1]),i(m,P),i(m,x),i(x,a),i(x,F),i(x,_),w.m(_,null),J||(W=[I(p,"click",s[4]),I(h,"input",s[9]),I(h,"keydown",s[7]),I(a,"click",s[4]),I(_,"click",s[6]),I(e,"click",de(s[8])),I(t,"click",s[5]),I(t,"keydown",s[7])],J=!0)},p(d,E){d[3]?u?u.p(d,E):(u=se(d),u.c(),u.m(m,T)):u&&(u.d(1),u=null),E&2&&h.value!==d[1]&&te(h,d[1]),U!==(U=X(d))&&(w.d(1),w=U(d),w&&(w.c(),w.m(_,null))),E&4&&(_.disabled=d[2])},d(d){d&&o(t),u&&u.d(),w.d(),J=!1,ue(W)}}}function se(s){let t,e;return{c(){t=g("div"),e=G(s[3]),this.h()},l(r){t=b(r,"DIV",{class:!0});var n=v(t);e=R(n,s[3]),n.forEach(o),this.h()},h(){l(t,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(r,n){L(r,t,n),i(t,e)},p(r,n){n&8&&he(e,r[3])},d(r){r&&o(t)}}}function be(s){let t;return{c(){t=G("Search")},l(e){t=R(e,"Search")},m(e,r){L(e,t,r)},d(e){e&&o(t)}}}function ge(s){let t,e,r,n;return{c(){t=Q("svg"),e=Q("circle"),r=Q("path"),n=G(`\r
							Searching...`),this.h()},l(f){t=K(f,"svg",{class:!0,fill:!0,viewBox:!0});var c=v(t);e=K(c,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),v(e).forEach(o),r=K(c,"path",{class:!0,fill:!0,d:!0}),v(r).forEach(o),c.forEach(o),n=R(f,`\r
							Searching...`),this.h()},h(){l(e,"class","opacity-25"),l(e,"cx","12"),l(e,"cy","12"),l(e,"r","10"),l(e,"stroke","currentColor"),l(e,"stroke-width","4"),l(r,"class","opacity-75"),l(r,"fill","currentColor"),l(r,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),l(t,"class","w-4 h-4 mr-2 animate-spin inline"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24")},m(f,c){L(f,t,c),i(t,e),i(t,r),L(f,n,c)},d(f){f&&(o(t),o(n))}}}function ye(s){let t,e=s[0]&&le(s);return{c(){e&&e.c(),t=$()},l(r){e&&e.l(r),t=$()},m(r,n){e&&e.m(r,n),L(r,t,n)},p(r,[n]){r[0]?e?e.p(r,n):(e=le(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:Z,o:Z,d(r){r&&o(t),e&&e.d(r)}}}function _e(s,t,e){let r,n;ee(s,pe,a=>e(13,r=a)),ee(s,me,a=>e(14,n=a));let{isOpen:f=!1}=t,c="",p=!1,C=null,N=null,m=null;const T=oe();let k;ce(async()=>{k=n.url.searchParams.get("type")??"",e(0,f=!0)});function y(){T("close"),re("/home/dashboard"),e(0,f=!1)}function B(a){a.target.classList.contains("modal-overlay")&&y()}async function M(){if(!c){e(3,C="Please enter a search term");return}try{e(2,p=!0),e(3,C=null);const a={query:c,fileType:k};sessionStorage.setItem("searchParams",JSON.stringify(a));try{N=r.name,m=r.email,await re("/home/claim-files/search/")}catch{e(3,C="Payment failed")}}catch(a){e(3,C=a.message||"An error occurred during search")}finally{e(2,p=!1)}}function h(a){a.key==="Escape"&&y(),a.key==="Enter"&&M()}function P(a){fe.call(this,s,a)}function x(){c=this.value,e(1,c)}return s.$$set=a=>{"isOpen"in a&&e(0,f=a.isOpen)},[f,c,p,C,y,B,M,h,P,x]}class Ie extends ae{constructor(t){super(),ne(this,t,_e,ye,ie,{isOpen:0})}}export{Ie as component};
