import{s as ge,n as se,d as h,i as U,y as ue,k as ve,E as ye,p as we,w as ke,C as Ce,F as Y,K as de,b as i,z as A,o,L as Ee,c as d,e as C,A as B,g as P,h as f,j as M,M as xe,a as Te,f as Z,t as $}from"../chunks/qLIpCCSV.js";import{e as fe}from"../chunks/Dvl1x7Q7.js";import{S as Ie,i as Le}from"../chunks/Bpqo0lwe.js";import{g as he}from"../chunks/sTQiEMwh.js";import{b as Se}from"../chunks/DvhB1z8p.js";import{l as Oe}from"../chunks/WlDbmOKK.js";import"../chunks/WhpeioxD.js";function pe(r,t,e){const l=r.slice();return l[16]=t[e],l}function me(r){let t,e,l,s='<h3 id="modal-title" class="text-lg font-bold text-black">File Withdrawal Search</h3> <p>Enter the File Number you want to withdraw</p>',c,v,y,N,x,T,m,H="File Number",V,w,q,I,L,R="File Type",b,u,g,j="Select file type",K,S,O,ae="Cancel",ee,E,te,oe,_=r[3]&&be(r),z=fe(r[5]),p=[];for(let a=0;a<z.length;a+=1)p[a]=_e(pe(r,z,a));function ne(a,k){return a[2]?Ne:De}let J=ne(r),D=J(r);return{c(){t=f("div"),e=f("div"),l=f("div"),l.innerHTML=s,c=M(),v=f("div"),_&&_.c(),y=M(),N=f("div"),x=f("div"),T=f("div"),m=f("label"),m.textContent=H,V=M(),w=f("input"),q=M(),I=f("div"),L=f("label"),L.textContent=R,b=M(),u=f("select"),g=f("option"),g.textContent=j;for(let a=0;a<p.length;a+=1)p[a].c();K=M(),S=f("div"),O=f("button"),O.textContent=ae,ee=M(),E=f("button"),D.c(),this.h()},l(a){t=d(a,"DIV",{class:!0,role:!0});var k=C(t);e=d(k,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var n=C(e);l=d(n,"DIV",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-3dz4eu"&&(l.innerHTML=s),c=P(n),v=d(n,"DIV",{class:!0});var F=C(v);_&&_.l(F),y=P(F),N=d(F,"DIV",{class:!0});var ie=C(N);x=d(ie,"DIV",{class:!0});var Q=C(x);T=d(Q,"DIV",{class:!0});var W=C(T);m=d(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(m)!=="svelte-y4ruzf"&&(m.textContent=H),V=P(W),w=d(W,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),W.forEach(h),q=P(Q),I=d(Q,"DIV",{class:!0});var G=C(I);L=d(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(L)!=="svelte-obumws"&&(L.textContent=R),b=P(G),u=d(G,"SELECT",{id:!0,class:!0});var le=C(u);g=d(le,"OPTION",{"data-svelte-h":!0}),B(g)!=="svelte-pr1ial"&&(g.textContent=j);for(let re=0;re<p.length;re+=1)p[re].l(le);le.forEach(h),G.forEach(h),Q.forEach(h),ie.forEach(h),F.forEach(h),K=P(n),S=d(n,"DIV",{class:!0});var X=C(S);O=d(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(O)!=="svelte-fanc3v"&&(O.textContent=ae),ee=P(X),E=d(X,"BUTTON",{type:!0,class:!0});var ce=C(E);D.l(ce),ce.forEach(h),X.forEach(h),n.forEach(h),k.forEach(h),this.h()},h(){o(l,"class","border-b px-6 py-4"),o(m,"for","search-query"),o(m,"class","block text-sm font-medium text-gray-700 mb-1"),o(w,"id","search-query"),o(w,"type","text"),o(w,"placeholder","Enter file number"),o(w,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),o(T,"class","w-full md:w-3/3"),o(L,"for","file-type"),o(L,"class","block text-sm font-medium text-gray-700 mb-1"),g.__value="",Y(g,g.__value),g.disabled=!0,g.selected=!0,o(u,"id","file-type"),o(u,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),r[4]===void 0&&Ee(()=>r[11].call(u)),o(I,"class","w-full md:w-2/3"),o(x,"class","flex flex-col md:flex-row gap-3"),o(N,"class","space-y-4 mx-auto"),o(v,"class","p-6"),o(O,"type","button"),o(O,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),o(E,"type","button"),E.disabled=r[2],o(E,"class","px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-red-400 disabled:cursor-not-allowed"),o(S,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),o(e,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),o(e,"role","dialog"),o(e,"aria-modal","true"),o(e,"aria-labelledby","modal-title"),o(t,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),o(t,"role","presentation")},m(a,k){U(a,t,k),i(t,e),i(e,l),i(e,c),i(e,v),_&&_.m(v,null),i(v,y),i(v,N),i(N,x),i(x,T),i(T,m),i(T,V),i(T,w),Y(w,r[1]),i(x,q),i(x,I),i(I,L),i(I,b),i(I,u),i(u,g);for(let n=0;n<p.length;n+=1)p[n]&&p[n].m(u,null);de(u,r[4],!0),i(e,K),i(e,S),i(S,O),i(S,ee),i(S,E),D.m(E,null),te||(oe=[A(w,"input",r[10]),A(u,"change",r[11]),A(O,"click",r[6]),A(E,"click",r[8]),A(t,"click",r[7]),A(t,"keydown",r[9])],te=!0)},p(a,k){if(a[3]?_?_.p(a,k):(_=be(a),_.c(),_.m(v,y)):_&&(_.d(1),_=null),k&2&&w.value!==a[1]&&Y(w,a[1]),k&32){z=fe(a[5]);let n;for(n=0;n<z.length;n+=1){const F=pe(a,z,n);p[n]?p[n].p(F,k):(p[n]=_e(F),p[n].c(),p[n].m(u,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=z.length}k&48&&de(u,a[4]),J!==(J=ne(a))&&(D.d(1),D=J(a),D&&(D.c(),D.m(E,null))),k&4&&(E.disabled=a[2])},d(a){a&&h(t),_&&_.d(),ke(p,a),D.d(),te=!1,Ce(oe)}}}function be(r){let t,e;return{c(){t=f("div"),e=$(r[3]),this.h()},l(l){t=d(l,"DIV",{class:!0});var s=C(t);e=Z(s,r[3]),s.forEach(h),this.h()},h(){o(t,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(l,s){U(l,t,s),i(t,e)},p(l,s){s&8&&Te(e,l[3])},d(l){l&&h(t)}}}function _e(r){let t,e=r[16]+"",l;return{c(){t=f("option"),l=$(e),this.h()},l(s){t=d(s,"OPTION",{});var c=C(t);l=Z(c,e),c.forEach(h),this.h()},h(){t.__value=r[16],Y(t,t.__value)},m(s,c){U(s,t,c),i(t,l)},p:se,d(s){s&&h(t)}}}function De(r){let t;return{c(){t=$("Search")},l(e){t=Z(e,"Search")},m(e,l){U(e,t,l)},d(e){e&&h(t)}}}function Ne(r){let t,e='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',l;return{c(){t=f("span"),t.innerHTML=e,l=$(`\r
                        Searching...`),this.h()},l(s){t=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-vc2l7r"&&(t.innerHTML=e),l=Z(s,`\r
                        Searching...`),this.h()},h(){o(t,"class","inline-block mr-2")},m(s,c){U(s,t,c),U(s,l,c)},d(s){s&&(h(t),h(l))}}}function Ve(r){let t,e=r[0]&&me(r);return{c(){e&&e.c(),t=ue()},l(l){e&&e.l(l),t=ue()},m(l,s){e&&e.m(l,s),U(l,t,s)},p(l,[s]){l[0]?e?e.p(l,s):(e=me(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){l&&h(t),e&&e.d(l)}}}function Fe(r,t,e){let l;ve(r,Oe,b=>e(14,l=b));let{isOpen:s=!1}=t,c="",v=!1,y=null,N=null,x=null;const T=ye();let m,H=["Patent","Trademark","Design"];we(()=>{e(0,s=!0)});function V(){T("close"),he("/home/dashboard"),e(0,s=!1)}function w(b){b.target.classList.contains("modal-overlay")&&V()}async function q(){var b;if(!c&&!m){e(3,y="Please enter a file number and select a file type");return}if(!c){e(3,y="File number is required");return}if(!m){e(3,y="File type is required");return}e(2,v=!0),e(3,y=null);try{const u=await fetch(`${Se}/api/files/files/${encodeURIComponent(c)}/type`),g=await u.json();if(!u.ok){e(3,y=g.message||"File not found.");return}const j=(b=g.type)==null?void 0:b.toLowerCase(),K=m.toLowerCase();if(j!==K){e(3,y=`File number and file type do not match. File number ${c} is a ${j} file.`);return}const S={query:c,fileType:m};sessionStorage.setItem("withdrawalSearchParams",JSON.stringify(S)),N=l.name,x=l.email,await he("/home/file-withdrawal/search/")}catch(u){e(3,y=u.message||"An error occurred during search")}finally{e(2,v=!1)}}function I(b){b.key==="Escape"&&V(),b.key==="Enter"&&q()}function L(){c=this.value,e(1,c)}function R(){m=xe(this),e(4,m),e(5,H)}return r.$$set=b=>{"isOpen"in b&&e(0,s=b.isOpen)},[s,c,v,y,m,H,V,w,q,I,L,R]}class He extends Ie{constructor(t){super(),Le(this,t,Fe,Ve,ge,{isOpen:0})}}export{He as component};
