import{S as F,i as V,s as j,n as C,d as y,r as h,b as w,c as I,x as A,e as b,f as g,h as x,j as v,k as E,l as M,A as U,W as P,af as N,K as _,J as L}from"../chunks/Cccy056x.js";import"../chunks/IHki7fMi.js";import{f as R,a as O}from"../chunks/BvZbhP_i.js";import{g as B}from"../chunks/DbPk4SB2.js";import{p as H}from"../chunks/Q_Idguj-.js";import{b as q}from"../chunks/kzloY8Fw.js";import{t as J}from"../chunks/rg3ioSbs.js";function T(m){let r,i='<svg class="w-16 h-16 text-green-500" viewBox="0 0 24 24"><path class="checkmark-path svelte-4b8wtx" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>',l;return{c(){r=v("div"),r.innerHTML=i,this.h()},l(s){r=b(s,"DIV",{class:!0,"data-svelte-h":!0}),_(r)!=="svelte-1qrvxm"&&(r.innerHTML=i),this.h()},h(){A(r,"class","h-full w-full bg-green-50 rounded-full flex justify-center items-center")},m(s,d){w(s,r,d)},i(s){s&&(l||P(()=>{l=N(r,R,{duration:400}),l.start()}))},o:C,d(s){s&&y(r)}}}function k(m){let r,i="Payment Successful",l;return{c(){r=v("h1"),r.textContent=i,this.h()},l(s){r=b(s,"H1",{class:!0,"data-svelte-h":!0}),_(r)!=="svelte-1niqlg0"&&(r.textContent=i),this.h()},h(){A(r,"class","text-3xl font-bold text-gray-900 mt-2 mb-4")},m(s,d){w(s,r,d)},i(s){s&&(l||P(()=>{l=N(r,O,{y:20,duration:500}),l.start()}))},o:C,d(s){s&&y(r)}}}function D(m){let r,i="YOUR APPLICATION HAS BEEN RECEIVED AND IS RECEIVING DUE ATTENTION",l,s,d,a,p="Return to Dashboard",c,u,f;return{c(){r=v("p"),r.textContent=i,s=E(),d=v("div"),a=v("button"),a.textContent=p,this.h()},l(e){r=b(e,"P",{class:!0,"data-svelte-h":!0}),_(r)!=="svelte-1uyyx7c"&&(r.textContent=i),s=x(e),d=b(e,"DIV",{class:!0});var t=g(d);a=b(t,"BUTTON",{class:!0,"data-svelte-h":!0}),_(a)!=="svelte-70a6xp"&&(a.textContent=p),t.forEach(y),this.h()},h(){A(r,"class","text-base font-medium text-gray-600 mb-8 max-w-xs mx-auto"),A(a,"class","bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-md transition-colors duration-200"),A(d,"class","mt-4")},m(e,t){w(e,r,t),w(e,s,t),w(e,d,t),I(d,a),u||(f=L(a,"click",m[3]),u=!0)},i(e){e&&(l||P(()=>{l=N(r,O,{y:15,duration:500}),l.start()})),e&&(c||P(()=>{c=N(d,R,{duration:300,delay:300}),c.start()}))},o:C,d(e){e&&(y(r),y(s),y(d)),u=!1,f()}}}function G(m){let r,i,l,s,d,a=m[0]&&T(),p=m[1]&&k(),c=m[2]&&D(m);return{c(){r=v("main"),i=v("div"),l=v("div"),a&&a.c(),s=E(),p&&p.c(),d=E(),c&&c.c(),this.h()},l(u){r=b(u,"MAIN",{class:!0});var f=g(r);i=b(f,"DIV",{class:!0});var e=g(i);l=b(e,"DIV",{class:!0});var t=g(l);a&&a.l(t),t.forEach(y),s=x(e),p&&p.l(e),d=x(e),c&&c.l(e),e.forEach(y),f.forEach(y),this.h()},h(){A(l,"class","h-32 w-32 mx-auto mb-6 relative"),A(i,"class","bg-white rounded-xl shadow-lg p-8 w-full max-w-md text-center"),A(r,"class","flex justify-center items-center min-h-screen bg-gray-50")},m(u,f){w(u,r,f),I(r,i),I(i,l),a&&a.m(l,null),I(i,s),p&&p.m(i,null),I(i,d),c&&c.m(i,null)},p(u,[f]){u[0]?a?f&1&&h(a,1):(a=T(),a.c(),h(a,1),a.m(l,null)):a&&(a.d(1),a=null),u[1]?p?f&2&&h(p,1):(p=k(),p.c(),h(p,1),p.m(i,d)):p&&(p.d(1),p=null),u[2]?c?f&4&&h(c,1):(c=D(u),c.c(),h(c,1),c.m(i,null)):c&&(c.d(1),c=null)},i(u){h(a),h(p),h(c)},o:C,d(u){u&&y(r),a&&a.d(),p&&p.d(),c&&c.d()}}}function S(m,r,i){const l=atob(m.split(",")[1]),s=new ArrayBuffer(l.length),d=new Uint8Array(s);for(let a=0;a<l.length;a++)d[a]=l.charCodeAt(a);return new File([s],r,{type:i})}function K(m,r,i){let l;M(m,H,f=>i(7,l=f));let s=!1,d=!1,a=!1,p;U(async()=>{const f=localStorage.getItem("formData");let e=null;if(f)try{e=JSON.parse(f)}catch(t){console.error("Error parsing formData from localStorage",t)}setTimeout(()=>{i(0,s=!0)},300),setTimeout(()=>{i(1,d=!0)},1e3),setTimeout(()=>{i(2,a=!0)},1800),p=l.url.searchParams.get("paymentType")??"",p==="clerical"&&await c()});async function c(){l.url.searchParams.get("rrr"),l.url.searchParams.get("fileId");const f=localStorage.getItem("formData");if(!f)return;const e=JSON.parse(f),t=new FormData;if(e.Representation){const n=S(e.Representation,e.RepresentationName,e.RepresentationType);t.append("Representation",n)}if(e.PowerOfAttorney){const n=S(e.PowerOfAttorney,e.PowerOfAttorneyName,e.PowerOfAttorneyType);t.append("PowerOfAttorney",n)}Array.isArray(e.PriorityInfo)&&e.PriorityInfo.forEach((n,o)=>{t.append(`PriorityInfo[${o}].number`,n.number),t.append(`PriorityInfo[${o}].country`,n.country),t.append(`PriorityInfo[${o}].date`,n.date),n.id&&t.append(`PriorityInfo[${o}].id`,n.id)}),Array.isArray(e.FirstPriorityInfo)&&e.FirstPriorityInfo.forEach((n,o)=>{t.append(`FirstPriorityInfo[${o}].number`,n.number),t.append(`FirstPriorityInfo[${o}].country`,n.country),t.append(`FirstPriorityInfo[${o}].date`,n.date),n.id&&t.append(`FirstPriorityInfo[${o}].id`,n.id)}),Array.isArray(e.NewApplicants)&&e.NewApplicants.forEach((n,o)=>{t.append(`NewApplicants[${o}].name`,n.name),t.append(`NewApplicants[${o}].address`,n.address),t.append(`NewApplicants[${o}].email`,n.email),t.append(`NewApplicants[${o}].phone`,n.phone),t.append(`NewApplicants[${o}].country`,n.country),t.append(`NewApplicants[${o}].state`,n.state),t.append(`NewApplicants[${o}].city`,n.city)}),Array.isArray(e.RemoveApplicantIds)&&e.RemoveApplicantIds.forEach((n,o)=>{t.append(`RemoveApplicantIds[${o}]`,n)}),Array.isArray(e.NewInventors)&&e.NewInventors.forEach((n,o)=>{t.append(`NewInventors[${o}].name`,n.name??""),t.append(`NewInventors[${o}].address`,n.address??""),t.append(`NewInventors[${o}].email`,n.email??""),t.append(`NewInventors[${o}].phone`,n.phone??""),t.append(`NewInventors[${o}].country`,n.country??""),t.append(`NewInventors[${o}].state`,n.state??""),t.append(`NewInventors[${o}].city`,n.city??"")}),e.CorrespondenceName&&t.append("CorrespondenceName",e.CorrespondenceName),e.CorrespondenceAddress&&t.append("CorrespondenceAddress",e.CorrespondenceAddress),e.CorrespondencePhone&&t.append("CorrespondencePhone",e.CorrespondencePhone),e.CorrespondenceEmail&&t.append("CorrespondenceEmail",e.CorrespondenceEmail),e.CorrespondenceState&&t.append("CorrespondenceState",e.CorrespondenceState),e.CorrespondenceNationality&&t.append("CorrespondenceNationality",e.CorrespondenceNationality),e.PatentAbstract&&t.append("PatentAbstract",e.PatentAbstract),e.PatentApplicationType!==void 0&&e.PatentApplicationType!==null&&e.PatentApplicationType!==""&&t.append("PatentApplicationType",e.PatentApplicationType);for(const n in e)n==="NewApplicants"||n==="RemoveApplicantIds"||n==="NewInventors"||n==="PriorityInfo"||n==="FirstPriorityInfo"||(Array.isArray(e[n])?e[n].forEach(o=>{t.append(`${n}[]`,o)}):t.append(n,e[n]));for(const[n,o]of t.entries())console.log(`${n}:`,o);const $=await fetch(`${q}/api/files/ClericalUpdate`,{method:"POST",body:t});if(!$.ok){const n=await $.json();J.error(`Error submitting clerical update: ${n.message}`);return}}return[s,d,a,()=>B("/home/dashboard")]}class te extends F{constructor(r){super(),V(this,r,K,G,j,{})}}export{te as component};
