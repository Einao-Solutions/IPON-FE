import{S as ve,i as ye,s as ge,n as se,d as p,b as M,I as ue,l as ke,O as we,A as xe,G as Ce,M as Ee,P as Y,V as fe,c,J as H,x as o,W as Te,e as f,f as w,K as j,h as P,j as d,k as F,X as Le,a as Ne,g as Z,t as $}from"../chunks/Cccy056x.js";import{e as de}from"../chunks/ByixyIeQ.js";import"../chunks/IHki7fMi.js";import{g as pe}from"../chunks/D8-1Jbz4.js";import{b as Oe}from"../chunks/CHHWQs5a.js";import{l as Se}from"../chunks/CuoJv0KR.js";import"../chunks/WhpeioxD.js";function he(r,t,e){const l=r.slice();return l[17]=t[e],l}function me(r){let t,e,l,s='<h3 id="modal-title" class="text-lg font-bold text-black">File Search</h3> <p>Please enter the File Number you want to search</p>',u,v,y,I,T,L,b,z="File Number",V,g,J,x,N,R="File Type",K,n,h,q="Select file type",A,O,C,ae="Cancel",ee,E,te,oe,_=r[3]&&be(r),B=de(r[5]),m=[];for(let a=0;a<B.length;a+=1)m[a]=_e(he(r,B,a));function ne(a,k){return a[2]?Ve:Ie}let G=ne(r),S=G(r);return{c(){t=d("div"),e=d("div"),l=d("div"),l.innerHTML=s,u=F(),v=d("div"),_&&_.c(),y=F(),I=d("div"),T=d("div"),L=d("div"),b=d("label"),b.textContent=z,V=F(),g=d("input"),J=F(),x=d("div"),N=d("label"),N.textContent=R,K=F(),n=d("select"),h=d("option"),h.textContent=q;for(let a=0;a<m.length;a+=1)m[a].c();A=F(),O=d("div"),C=d("button"),C.textContent=ae,ee=F(),E=d("button"),S.c(),this.h()},l(a){t=f(a,"DIV",{class:!0,role:!0});var k=w(t);e=f(k,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var i=w(e);l=f(i,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1slp6um"&&(l.innerHTML=s),u=P(i),v=f(i,"DIV",{class:!0});var D=w(v);_&&_.l(D),y=P(D),I=f(D,"DIV",{class:!0});var ie=w(I);T=f(ie,"DIV",{class:!0});var Q=w(T);L=f(Q,"DIV",{class:!0});var U=w(L);b=f(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(b)!=="svelte-pel2ds"&&(b.textContent=z),V=P(U),g=f(U,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),U.forEach(p),J=P(Q),x=f(Q,"DIV",{class:!0});var W=w(x);N=f(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(N)!=="svelte-obumws"&&(N.textContent=R),K=P(W),n=f(W,"SELECT",{id:!0,class:!0});var le=w(n);h=f(le,"OPTION",{"data-svelte-h":!0}),j(h)!=="svelte-pr1ial"&&(h.textContent=q);for(let re=0;re<m.length;re+=1)m[re].l(le);le.forEach(p),W.forEach(p),Q.forEach(p),ie.forEach(p),D.forEach(p),A=P(i),O=f(i,"DIV",{class:!0});var X=w(O);C=f(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(C)!=="svelte-18i36xv"&&(C.textContent=ae),ee=P(X),E=f(X,"BUTTON",{type:!0,class:!0});var ce=w(E);S.l(ce),ce.forEach(p),X.forEach(p),i.forEach(p),k.forEach(p),this.h()},h(){o(l,"class","border-b px-6 py-4"),o(b,"for","search-query"),o(b,"class","block text-sm font-medium text-gray-700 mb-1"),o(g,"id","search-query"),o(g,"type","text"),o(g,"placeholder","Enter file number"),o(g,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),o(L,"class","w-full md:w-3/3"),o(N,"for","file-type"),o(N,"class","block text-sm font-medium text-gray-700 mb-1"),h.__value="",Y(h,h.__value),h.disabled=!0,h.selected=!0,o(n,"id","file-type"),o(n,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),r[4]===void 0&&Te(()=>r[11].call(n)),o(x,"class","w-full md:w-2/3"),o(T,"class","flex flex-col md:flex-row gap-3"),o(I,"class","space-y-4 mx-auto"),o(v,"class","p-6"),o(C,"type","button"),o(C,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),o(E,"type","button"),E.disabled=r[2],o(E,"class","px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed"),o(O,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),o(e,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),o(e,"role","dialog"),o(e,"aria-modal","true"),o(e,"aria-labelledby","modal-title"),o(t,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),o(t,"role","presentation")},m(a,k){M(a,t,k),c(t,e),c(e,l),c(e,u),c(e,v),_&&_.m(v,null),c(v,y),c(v,I),c(I,T),c(T,L),c(L,b),c(L,V),c(L,g),Y(g,r[1]),c(T,J),c(T,x),c(x,N),c(x,K),c(x,n),c(n,h);for(let i=0;i<m.length;i+=1)m[i]&&m[i].m(n,null);fe(n,r[4],!0),c(e,A),c(e,O),c(O,C),c(O,ee),c(O,E),S.m(E,null),te||(oe=[H(g,"input",r[10]),H(n,"change",r[11]),H(C,"click",r[6]),H(E,"click",r[8]),H(t,"click",r[7]),H(t,"keydown",r[9])],te=!0)},p(a,k){if(a[3]?_?_.p(a,k):(_=be(a),_.c(),_.m(v,y)):_&&(_.d(1),_=null),k&2&&g.value!==a[1]&&Y(g,a[1]),k&32){B=de(a[5]);let i;for(i=0;i<B.length;i+=1){const D=he(a,B,i);m[i]?m[i].p(D,k):(m[i]=_e(D),m[i].c(),m[i].m(n,null))}for(;i<m.length;i+=1)m[i].d(1);m.length=B.length}k&48&&fe(n,a[4]),G!==(G=ne(a))&&(S.d(1),S=G(a),S&&(S.c(),S.m(E,null))),k&4&&(E.disabled=a[2])},d(a){a&&p(t),_&&_.d(),Ce(m,a),S.d(),te=!1,Ee(oe)}}}function be(r){let t,e;return{c(){t=d("div"),e=$(r[3]),this.h()},l(l){t=f(l,"DIV",{class:!0});var s=w(t);e=Z(s,r[3]),s.forEach(p),this.h()},h(){o(t,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(l,s){M(l,t,s),c(t,e)},p(l,s){s&8&&Ne(e,l[3])},d(l){l&&p(t)}}}function _e(r){let t,e=r[17]+"",l;return{c(){t=d("option"),l=$(e),this.h()},l(s){t=f(s,"OPTION",{});var u=w(t);l=Z(u,e),u.forEach(p),this.h()},h(){t.__value=r[17],Y(t,t.__value)},m(s,u){M(s,t,u),c(t,l)},p:se,d(s){s&&p(t)}}}function Ie(r){let t;return{c(){t=$("Search")},l(e){t=Z(e,"Search")},m(e,l){M(e,t,l)},d(e){e&&p(t)}}}function Ve(r){let t,e='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',l;return{c(){t=d("span"),t.innerHTML=e,l=$(`\r
						Searching...`),this.h()},l(s){t=f(s,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1fx6cor"&&(t.innerHTML=e),l=Z(s,`\r
						Searching...`),this.h()},h(){o(t,"class","inline-block mr-2")},m(s,u){M(s,t,u),M(s,l,u)},d(s){s&&(p(t),p(l))}}}function De(r){let t,e=r[0]&&me(r);return{c(){e&&e.c(),t=ue()},l(l){e&&e.l(l),t=ue()},m(l,s){e&&e.m(l,s),M(l,t,s)},p(l,[s]){l[0]?e?e.p(l,s):(e=me(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){l&&p(t),e&&e.d(l)}}}function Pe(r,t,e){let l;ke(r,Se,n=>e(14,l=n));let{isOpen:s=!1}=t,u="",v=!1,y=null,I=null,T=null;const L=we();let b,z=["Patent","Trademark"];xe(async()=>{e(0,s=!0)});function V(){L("close"),pe("/home/dashboard"),e(0,s=!1)}function g(n){n.target.classList.contains("modal-overlay")&&V()}const J=(l==null?void 0:l.firstName)+" "+(l==null?void 0:l.lastName);async function x(){var n;if(!u&&!b){e(3,y="Please enter a file number and select a file type");return}if(!u){e(3,y="File number is required");return}if(!b){e(3,y="File type is required");return}e(2,v=!0),e(3,y=null);try{const h=await fetch(`${Oe}/api/files/files/${encodeURIComponent(u)}/type`),q=await h.json();if(!h.ok){e(3,y=q.message||"File not found.");return}const A=(n=q.type)==null?void 0:n.toLowerCase(),O=b.toLowerCase();if(A!==O){e(3,y=`File number and file type do not match. File number ${u} is a ${A} file.`);return}const C={query:u,fileType:b};sessionStorage.setItem("searchParams",JSON.stringify(C)),I=J,T=(l==null?void 0:l.email)??null,await pe("/home/clerical-update/search/")}catch(h){e(3,y=h.message||"An error occurred during search")}finally{e(2,v=!1)}}function N(n){n.key==="Escape"&&V(),n.key==="Enter"&&x()}function R(){u=this.value,e(1,u)}function K(){b=Le(this),e(4,b),e(5,z)}return r.$$set=n=>{"isOpen"in n&&e(0,s=n.isOpen)},[s,u,v,y,b,z,V,g,x,N,R,K]}class ze extends ve{constructor(t){super(),ye(this,t,Pe,De,ge,{isOpen:0})}}export{ze as component};
