import{s as L,n as T,d as m,i as v,b as x,o as p,c as _,e as k,g as D,h as g,j as P,k as M,p as U,B as $,L as I,A as C,z as B}from"../chunks/qLIpCCSV.js";import{S as H,i as q,a as h,h as E}from"../chunks/Bpqo0lwe.js";import{f as O,a as j}from"../chunks/Dr5Dm0pU.js";import{g as F}from"../chunks/sTQiEMwh.js";import{p as S}from"../chunks/4srO1X8Q.js";import{b as N}from"../chunks/DvhB1z8p.js";import{t as y}from"../chunks/C8fCgc2Z.js";import"../chunks/BXP9HJX6.js";function A(d){let e,r='<svg class="w-16 h-16 text-green-500" viewBox="0 0 24 24"><path class="checkmark-path svelte-4b8wtx" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>',o;return{c(){e=g("div"),e.innerHTML=r,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-1qrvxm"&&(e.innerHTML=r),this.h()},h(){p(e,"class","h-full w-full bg-green-50 rounded-full flex justify-center items-center")},m(s,n){v(s,e,n)},i(s){s&&(o||I(()=>{o=E(e,O,{duration:400}),o.start()}))},o:T,d(s){s&&m(e)}}}function V(d){let e,r="Payment Successful",o;return{c(){e=g("h1"),e.textContent=r,this.h()},l(s){e=_(s,"H1",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-1niqlg0"&&(e.textContent=r),this.h()},h(){p(e,"class","text-3xl font-bold text-gray-900 mt-2 mb-4")},m(s,n){v(s,e,n)},i(s){s&&(o||I(()=>{o=E(e,j,{y:20,duration:500}),o.start()}))},o:T,d(s){s&&m(e)}}}function R(d){let e,r="YOUR APPLICATION HAS BEEN RECEIVED AND IS RECEIVING DUE ATTENTION",o,s,n,t,i="Return to Dashboard",l,c,u;return{c(){e=g("p"),e.textContent=r,s=P(),n=g("div"),t=g("button"),t.textContent=i,this.h()},l(a){e=_(a,"P",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-1uyyx7c"&&(e.textContent=r),s=D(a),n=_(a,"DIV",{class:!0});var f=k(n);t=_(f,"BUTTON",{class:!0,"data-svelte-h":!0}),C(t)!=="svelte-70a6xp"&&(t.textContent=i),f.forEach(m),this.h()},h(){p(e,"class","text-base font-medium text-gray-600 mb-8 max-w-xs mx-auto"),p(t,"class","bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-md transition-colors duration-200"),p(n,"class","mt-4")},m(a,f){v(a,e,f),v(a,s,f),v(a,n,f),x(n,t),c||(u=B(t,"click",d[3]),c=!0)},i(a){a&&(o||I(()=>{o=E(e,j,{y:15,duration:500}),o.start()})),a&&(l||I(()=>{l=E(n,O,{duration:300,delay:300}),l.start()}))},o:T,d(a){a&&(m(e),m(s),m(n)),c=!1,u()}}}function z(d){let e,r,o,s,n,t=d[0]&&A(),i=d[1]&&V(),l=d[2]&&R(d);return{c(){e=g("main"),r=g("div"),o=g("div"),t&&t.c(),s=P(),i&&i.c(),n=P(),l&&l.c(),this.h()},l(c){e=_(c,"MAIN",{class:!0});var u=k(e);r=_(u,"DIV",{class:!0});var a=k(r);o=_(a,"DIV",{class:!0});var f=k(o);t&&t.l(f),f.forEach(m),s=D(a),i&&i.l(a),n=D(a),l&&l.l(a),a.forEach(m),u.forEach(m),this.h()},h(){p(o,"class","h-32 w-32 mx-auto mb-6 relative"),p(r,"class","bg-white rounded-xl shadow-lg p-8 w-full max-w-md text-center"),p(e,"class","flex justify-center items-center min-h-screen bg-gray-50")},m(c,u){v(c,e,u),x(e,r),x(r,o),t&&t.m(o,null),x(r,s),i&&i.m(r,null),x(r,n),l&&l.m(r,null)},p(c,[u]){c[0]?t?u&1&&h(t,1):(t=A(),t.c(),h(t,1),t.m(o,null)):t&&(t.d(1),t=null),c[1]?i?u&2&&h(i,1):(i=V(),i.c(),h(i,1),i.m(r,n)):i&&(i.d(1),i=null),c[2]?l?u&4&&h(l,1):(l=R(c),l.c(),h(l,1),l.m(r,null)):l&&(l.d(1),l=null)},i(c){h(t),h(i),h(l)},o:T,d(c){c&&m(e),t&&t.d(),i&&i.d(),l&&l.d()}}}function G(d,e,r){let o;M(d,S,a=>r(6,o=a));let s=!1,n=!1,t=!1,i;U(async()=>{setTimeout(()=>{r(0,s=!0)},300),setTimeout(()=>{r(1,n=!0)},1e3),setTimeout(()=>{r(2,t=!0)},1800),i=$(S).url.searchParams.get("paymentType")??"",i==="renewal"?await l():await c()});async function l(){const a=o.url.searchParams.get("rrr")??void 0,f=o.url.searchParams.get("fileId")??void 0,b=await fetch(`${N}/api/files/RenewalApplication?fileId=${f}&rrr=${a}`,{method:"POST"});if(!b.ok){const w=await b.json();y.error(`Error at renewal submission: ${w.message}`);return}}async function c(){const a=localStorage.getItem("formData")??"";if(!a){y.error("No form data found in localStorage.");return}let f;try{f=JSON.parse(a)}catch{y.error("Failed to parse form data.");return}console.log("parsed: ",f);const b=await fetch(`${N}/api/files/UpdateRecordalStatus?fileId=${f.FileId}&rrr=${f.rrr}`,{method:"POST"});if(!b.ok){const w=await b.json();y.error(`Error updating status: ${w.message}`);return}}return[s,n,t,()=>F("/home/dashboard")]}class te extends H{constructor(e){super(),q(this,e,G,z,L,{})}}export{te as component};
