import{S as ge,i as ve,s as ye,n as se,d as h,b as U,I as ue,l as we,O as ke,A as xe,G as Ce,M as Ee,P as Y,V as de,c as i,J as z,x as o,W as Ie,e as d,f as x,K as B,h as F,j as f,k as M,X as Te,a as Le,g as Z,t as $}from"../chunks/Cccy056x.js";import{e as fe}from"../chunks/ByixyIeQ.js";import"../chunks/IHki7fMi.js";import{g as he}from"../chunks/DbPk4SB2.js";import{b as Oe}from"../chunks/kzloY8Fw.js";import{l as Se}from"../chunks/DA3sRRUG.js";import"../chunks/WhpeioxD.js";function pe(r,t,e){const l=r.slice();return l[16]=t[e],l}function me(r){let t,e,l,s='<h3 id="modal-title" class="text-lg font-bold text-black">File Withdrawal Search</h3> <p>Enter the File Number you want to withdraw</p>',c,v,y,V,E,I,m,H="File Number",N,w,q,T,L,K="File Type",b,u,g,j="Select file type",J,O,S,ae="Cancel",ee,C,te,oe,_=r[3]&&be(r),A=fe(r[5]),p=[];for(let a=0;a<A.length;a+=1)p[a]=_e(pe(r,A,a));function ne(a,k){return a[2]?Ve:De}let R=ne(r),D=R(r);return{c(){t=f("div"),e=f("div"),l=f("div"),l.innerHTML=s,c=M(),v=f("div"),_&&_.c(),y=M(),V=f("div"),E=f("div"),I=f("div"),m=f("label"),m.textContent=H,N=M(),w=f("input"),q=M(),T=f("div"),L=f("label"),L.textContent=K,b=M(),u=f("select"),g=f("option"),g.textContent=j;for(let a=0;a<p.length;a+=1)p[a].c();J=M(),O=f("div"),S=f("button"),S.textContent=ae,ee=M(),C=f("button"),D.c(),this.h()},l(a){t=d(a,"DIV",{class:!0,role:!0});var k=x(t);e=d(k,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-labelledby":!0});var n=x(e);l=d(n,"DIV",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-3dz4eu"&&(l.innerHTML=s),c=F(n),v=d(n,"DIV",{class:!0});var P=x(v);_&&_.l(P),y=F(P),V=d(P,"DIV",{class:!0});var ie=x(V);E=d(ie,"DIV",{class:!0});var W=x(E);I=d(W,"DIV",{class:!0});var G=x(I);m=d(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(m)!=="svelte-y4ruzf"&&(m.textContent=H),N=F(G),w=d(G,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),G.forEach(h),q=F(W),T=d(W,"DIV",{class:!0});var Q=x(T);L=d(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(L)!=="svelte-obumws"&&(L.textContent=K),b=F(Q),u=d(Q,"SELECT",{id:!0,class:!0});var le=x(u);g=d(le,"OPTION",{"data-svelte-h":!0}),B(g)!=="svelte-pr1ial"&&(g.textContent=j);for(let re=0;re<p.length;re+=1)p[re].l(le);le.forEach(h),Q.forEach(h),W.forEach(h),ie.forEach(h),P.forEach(h),J=F(n),O=d(n,"DIV",{class:!0});var X=x(O);S=d(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(S)!=="svelte-fanc3v"&&(S.textContent=ae),ee=F(X),C=d(X,"BUTTON",{type:!0,class:!0});var ce=x(C);D.l(ce),ce.forEach(h),X.forEach(h),n.forEach(h),k.forEach(h),this.h()},h(){o(l,"class","border-b px-6 py-4"),o(m,"for","search-query"),o(m,"class","block text-sm font-medium text-gray-700 mb-1"),o(w,"id","search-query"),o(w,"type","text"),o(w,"placeholder","Enter file number"),o(w,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),o(I,"class","w-full md:w-3/3"),o(L,"for","file-type"),o(L,"class","block text-sm font-medium text-gray-700 mb-1"),g.__value="",Y(g,g.__value),g.disabled=!0,g.selected=!0,o(u,"id","file-type"),o(u,"class","w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"),r[4]===void 0&&Ie(()=>r[11].call(u)),o(T,"class","w-full md:w-2/3"),o(E,"class","flex flex-col md:flex-row gap-3"),o(V,"class","space-y-4 mx-auto"),o(v,"class","p-6"),o(S,"type","button"),o(S,"class","px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),o(C,"type","button"),C.disabled=r[2],o(C,"class","px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-red-400 disabled:cursor-not-allowed"),o(O,"class","px-6 py-4 bg-gray-50 border-t rounded-b-lg flex justify-end space-x-3"),o(e,"class","modal-content bg-white rounded-lg shadow-xl w-full max-w-md mx-auto"),o(e,"role","dialog"),o(e,"aria-modal","true"),o(e,"aria-labelledby","modal-title"),o(t,"class","modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"),o(t,"role","presentation")},m(a,k){U(a,t,k),i(t,e),i(e,l),i(e,c),i(e,v),_&&_.m(v,null),i(v,y),i(v,V),i(V,E),i(E,I),i(I,m),i(I,N),i(I,w),Y(w,r[1]),i(E,q),i(E,T),i(T,L),i(T,b),i(T,u),i(u,g);for(let n=0;n<p.length;n+=1)p[n]&&p[n].m(u,null);de(u,r[4],!0),i(e,J),i(e,O),i(O,S),i(O,ee),i(O,C),D.m(C,null),te||(oe=[z(w,"input",r[10]),z(u,"change",r[11]),z(S,"click",r[6]),z(C,"click",r[8]),z(t,"click",r[7]),z(t,"keydown",r[9])],te=!0)},p(a,k){if(a[3]?_?_.p(a,k):(_=be(a),_.c(),_.m(v,y)):_&&(_.d(1),_=null),k&2&&w.value!==a[1]&&Y(w,a[1]),k&32){A=fe(a[5]);let n;for(n=0;n<A.length;n+=1){const P=pe(a,A,n);p[n]?p[n].p(P,k):(p[n]=_e(P),p[n].c(),p[n].m(u,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=A.length}k&48&&de(u,a[4]),R!==(R=ne(a))&&(D.d(1),D=R(a),D&&(D.c(),D.m(C,null))),k&4&&(C.disabled=a[2])},d(a){a&&h(t),_&&_.d(),Ce(p,a),D.d(),te=!1,Ee(oe)}}}function be(r){let t,e;return{c(){t=f("div"),e=$(r[3]),this.h()},l(l){t=d(l,"DIV",{class:!0});var s=x(t);e=Z(s,r[3]),s.forEach(h),this.h()},h(){o(t,"class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm")},m(l,s){U(l,t,s),i(t,e)},p(l,s){s&8&&Le(e,l[3])},d(l){l&&h(t)}}}function _e(r){let t,e=r[16]+"",l;return{c(){t=f("option"),l=$(e),this.h()},l(s){t=d(s,"OPTION",{});var c=x(t);l=Z(c,e),c.forEach(h),this.h()},h(){t.__value=r[16],Y(t,t.__value)},m(s,c){U(s,t,c),i(t,l)},p:se,d(s){s&&h(t)}}}function De(r){let t;return{c(){t=$("Search")},l(e){t=Z(e,"Search")},m(e,l){U(e,t,l)},d(e){e&&h(t)}}}function Ve(r){let t,e='<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',l;return{c(){t=f("span"),t.innerHTML=e,l=$(`\r
                        Searching...`),this.h()},l(s){t=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-vc2l7r"&&(t.innerHTML=e),l=Z(s,`\r
                        Searching...`),this.h()},h(){o(t,"class","inline-block mr-2")},m(s,c){U(s,t,c),U(s,l,c)},d(s){s&&(h(t),h(l))}}}function Ne(r){let t,e=r[0]&&me(r);return{c(){e&&e.c(),t=ue()},l(l){e&&e.l(l),t=ue()},m(l,s){e&&e.m(l,s),U(l,t,s)},p(l,[s]){l[0]?e?e.p(l,s):(e=me(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){l&&h(t),e&&e.d(l)}}}function Pe(r,t,e){let l;we(r,Se,b=>e(14,l=b));let{isOpen:s=!1}=t,c="",v=!1,y=null,V=null,E=null;const I=ke();let m,H=["Patent","Trademark","Design"];xe(()=>{e(0,s=!0)});function N(){I("close"),he("/home/dashboard"),e(0,s=!1)}function w(b){b.target.classList.contains("modal-overlay")&&N()}async function q(){var b;if(!c&&!m){e(3,y="Please enter a file number and select a file type");return}if(!c){e(3,y="File number is required");return}if(!m){e(3,y="File type is required");return}e(2,v=!0),e(3,y=null);try{const u=await fetch(`${Oe}/api/files/files/${encodeURIComponent(c)}/type`),g=await u.json();if(!u.ok){e(3,y=g.message||"File not found.");return}const j=(b=g.type)==null?void 0:b.toLowerCase(),J=m.toLowerCase();if(j!==J){e(3,y=`File number and file type do not match. File number ${c} is a ${j} file.`);return}const O={query:c,fileType:m};sessionStorage.setItem("withdrawalSearchParams",JSON.stringify(O)),V=l.name,E=l.email,await he("/home/file-withdrawal/search/")}catch(u){e(3,y=u.message||"An error occurred during search")}finally{e(2,v=!1)}}function T(b){b.key==="Escape"&&N(),b.key==="Enter"&&q()}function L(){c=this.value,e(1,c)}function K(){m=Te(this),e(4,m),e(5,H)}return r.$$set=b=>{"isOpen"in b&&e(0,s=b.isOpen)},[s,c,v,y,m,H,N,w,q,T,L,K]}class He extends ge{constructor(t){super(),ve(this,t,Pe,Ne,ye,{isOpen:0})}}export{He as component};
