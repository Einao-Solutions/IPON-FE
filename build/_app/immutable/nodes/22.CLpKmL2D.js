import{s as V,n as k,d as h,i as b,b as A,o as w,c as v,e as _,g as E,h as g,j as C,k as j,p as L,L as N,A as x,z as M}from"../chunks/qLIpCCSV.js";import{S as U,i as B,a as y,h as I}from"../chunks/Bpqo0lwe.js";import{f as O,a as S}from"../chunks/Dr5Dm0pU.js";import{g as H}from"../chunks/sTQiEMwh.js";import{p as q}from"../chunks/4srO1X8Q.js";import{b as F}from"../chunks/DvhB1z8p.js";import{t as J}from"../chunks/C8fCgc2Z.js";function D(u){let e,o='<svg class="w-16 h-16 text-green-500" viewBox="0 0 24 24"><path class="checkmark-path svelte-4b8wtx" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>',i;return{c(){e=g("div"),e.innerHTML=o,this.h()},l(r){e=v(r,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1qrvxm"&&(e.innerHTML=o),this.h()},h(){w(e,"class","h-full w-full bg-green-50 rounded-full flex justify-center items-center")},m(r,f){b(r,e,f)},i(r){r&&(i||N(()=>{i=I(e,O,{duration:400}),i.start()}))},o:k,d(r){r&&h(e)}}}function $(u){let e,o="Payment Successful",i;return{c(){e=g("h1"),e.textContent=o,this.h()},l(r){e=v(r,"H1",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1niqlg0"&&(e.textContent=o),this.h()},h(){w(e,"class","text-3xl font-bold text-gray-900 mt-2 mb-4")},m(r,f){b(r,e,f)},i(r){r&&(i||N(()=>{i=I(e,S,{y:20,duration:500}),i.start()}))},o:k,d(r){r&&h(e)}}}function P(u){let e,o="YOUR APPLICATION HAS BEEN RECEIVED AND IS RECEIVING DUE ATTENTION",i,r,f,a,l="Return to Dashboard",c,m,d;return{c(){e=g("p"),e.textContent=o,r=C(),f=g("div"),a=g("button"),a.textContent=l,this.h()},l(t){e=v(t,"P",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1uyyx7c"&&(e.textContent=o),r=E(t),f=v(t,"DIV",{class:!0});var s=_(f);a=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-70a6xp"&&(a.textContent=l),s.forEach(h),this.h()},h(){w(e,"class","text-base font-medium text-gray-600 mb-8 max-w-xs mx-auto"),w(a,"class","bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-md transition-colors duration-200"),w(f,"class","mt-4")},m(t,s){b(t,e,s),b(t,r,s),b(t,f,s),A(f,a),m||(d=M(a,"click",u[3]),m=!0)},i(t){t&&(i||N(()=>{i=I(e,S,{y:15,duration:500}),i.start()})),t&&(c||N(()=>{c=I(f,O,{duration:300,delay:300}),c.start()}))},o:k,d(t){t&&(h(e),h(r),h(f)),m=!1,d()}}}function z(u){let e,o,i,r,f,a=u[0]&&D(),l=u[1]&&$(),c=u[2]&&P(u);return{c(){e=g("main"),o=g("div"),i=g("div"),a&&a.c(),r=C(),l&&l.c(),f=C(),c&&c.c(),this.h()},l(m){e=v(m,"MAIN",{class:!0});var d=_(e);o=v(d,"DIV",{class:!0});var t=_(o);i=v(t,"DIV",{class:!0});var s=_(i);a&&a.l(s),s.forEach(h),r=E(t),l&&l.l(t),f=E(t),c&&c.l(t),t.forEach(h),d.forEach(h),this.h()},h(){w(i,"class","h-32 w-32 mx-auto mb-6 relative"),w(o,"class","bg-white rounded-xl shadow-lg p-8 w-full max-w-md text-center"),w(e,"class","flex justify-center items-center min-h-screen bg-gray-50")},m(m,d){b(m,e,d),A(e,o),A(o,i),a&&a.m(i,null),A(o,r),l&&l.m(o,null),A(o,f),c&&c.m(o,null)},p(m,[d]){m[0]?a?d&1&&y(a,1):(a=D(),a.c(),y(a,1),a.m(i,null)):a&&(a.d(1),a=null),m[1]?l?d&2&&y(l,1):(l=$(),l.c(),y(l,1),l.m(o,f)):l&&(l.d(1),l=null),m[2]?c?d&4&&y(c,1):(c=P(m),c.c(),y(c,1),c.m(o,null)):c&&(c.d(1),c=null)},i(m){y(a),y(l),y(c)},o:k,d(m){m&&h(e),a&&a.d(),l&&l.d(),c&&c.d()}}}function R(u,e,o){const i=atob(u.split(",")[1]),r=new ArrayBuffer(i.length),f=new Uint8Array(r);for(let a=0;a<i.length;a++)f[a]=i.charCodeAt(a);return new File([r],e,{type:o})}function G(u,e,o){let i;j(u,q,d=>o(7,i=d));let r=!1,f=!1,a=!1,l;L(async()=>{const d=localStorage.getItem("formData");let t=null;if(d)try{t=JSON.parse(d)}catch(s){console.error("Error parsing formData from localStorage",s)}setTimeout(()=>{o(0,r=!0)},300),setTimeout(()=>{o(1,f=!0)},1e3),setTimeout(()=>{o(2,a=!0)},1800),l=i.url.searchParams.get("paymentType")??"",l==="clerical"&&await c()});async function c(){i.url.searchParams.get("rrr"),i.url.searchParams.get("fileId");const d=localStorage.getItem("formData");if(!d)return;const t=JSON.parse(d),s=new FormData;if(t.Representation){const n=R(t.Representation,t.RepresentationName,t.RepresentationType);s.append("Representation",n)}if(t.PowerOfAttorney){const n=R(t.PowerOfAttorney,t.PowerOfAttorneyName,t.PowerOfAttorneyType);s.append("PowerOfAttorney",n)}Array.isArray(t.NewApplicants)&&t.NewApplicants.forEach((n,p)=>{s.append(`NewApplicants[${p}].name`,n.name),s.append(`NewApplicants[${p}].address`,n.address),s.append(`NewApplicants[${p}].email`,n.email),s.append(`NewApplicants[${p}].phone`,n.phone),s.append(`NewApplicants[${p}].country`,n.country),s.append(`NewApplicants[${p}].state`,n.state),s.append(`NewApplicants[${p}].city`,n.city)}),Array.isArray(t.RemoveApplicantIds)&&t.RemoveApplicantIds.forEach((n,p)=>{s.append(`RemoveApplicantIds[${p}]`,n)}),Array.isArray(t.NewInventors)&&t.NewInventors.forEach((n,p)=>{s.append(`NewInventors[${p}].name`,n.name??""),s.append(`NewInventors[${p}].address`,n.address??""),s.append(`NewInventors[${p}].email`,n.email??""),s.append(`NewInventors[${p}].phone`,n.phone??""),s.append(`NewInventors[${p}].country`,n.country??""),s.append(`NewInventors[${p}].state`,n.state??""),s.append(`NewInventors[${p}].city`,n.city??"")});for(const n in t)n==="NewApplicants"||n==="RemoveApplicantIds"||n==="NewInventors"||(Array.isArray(t[n])?t[n].forEach(p=>{s.append(`${n}[]`,p)}):s.append(n,t[n]));for(const[n,p]of s.entries())console.log(`${n}:`,p);const T=await fetch(`${F}/api/files/ClericalUpdate`,{method:"POST",body:s});if(!T.ok){const n=await T.json();J.error(`Error submitting clerical update: ${n.message}`);return}}return[r,f,a,()=>H("/home/dashboard")]}class te extends U{constructor(e){super(),B(this,e,G,z,V,{})}}export{te as component};
