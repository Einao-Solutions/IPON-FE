import{s as Et,d as f,w as wt,C as kt,F as P,K as ht,i as Y,b as r,z as Q,o as s,L as Lt,c as o,e as v,g as y,A,h as i,j as x,B as Tt,p as Ct,n as ke,f as Le,t as Te,a as Mt,M as Dt,G as Ye,H as Ze}from"../chunks/qLIpCCSV.js";import{S as Pt,i as Vt,d as $e,t as Ee,a as we,c as Nt,m as et,e as tt,f as lt,g as Bt}from"../chunks/Bpqo0lwe.js";import{e as _t}from"../chunks/Dvl1x7Q7.js";import{g as Ht}from"../chunks/sTQiEMwh.js";import{b as vt,e as gt}from"../chunks/DvhB1z8p.js";import{p as Ot}from"../chunks/4srO1X8Q.js";import{I as It}from"../chunks/DxaiNGYP.js";import"../chunks/B7ETfSbN.js";import{B as At}from"../chunks/Amalccm3.js";function bt(n,e,t){const l=n.slice();return l[26]=e[t][0],l[27]=e[t][1],l}function Ut(n){let e,t,l;return e=new It({props:{icon:"lucide:arrow-left",width:"1rem",height:"1rem"}}),{c(){lt(e.$$.fragment),t=Te(`\r
				Back`)},l(a){tt(e.$$.fragment,a),t=Le(a,`\r
				Back`)},m(a,u){et(e,a,u),Y(a,t,u),l=!0},p:ke,i(a){l||(we(e.$$.fragment,a),l=!0)},o(a){Ee(e.$$.fragment,a),l=!1},d(a){a&&f(t),$e(e,a)}}}function yt(n){let e,t,l;return{c(){e=i("div"),t=i("p"),l=Te(n[6]),this.h()},l(a){e=o(a,"DIV",{class:!0});var u=v(e);t=o(u,"P",{class:!0});var d=v(t);l=Le(d,n[6]),d.forEach(f),u.forEach(f),this.h()},h(){s(t,"class","text-sm text-red-700"),s(e,"class","mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded")},m(a,u){Y(a,e,u),r(e,t),r(t,l)},p(a,u){u&64&&Mt(l,a[6])},d(a){a&&f(e)}}}function Ft(n){let e,t,l,a='Applicant Name: <span class="text-red-500">*</span>',u,d,g,m,_,L="Title:",N,k,Z,j,w,B='Product Class: <span class="text-red-500">*</span>',ee,E,q,se,z,b,J="File number:",R,H,te,F;return{c(){e=i("div"),t=i("div"),l=i("label"),l.innerHTML=a,u=x(),d=i("input"),g=x(),m=i("div"),_=i("label"),_.textContent=L,N=x(),k=i("input"),Z=x(),j=i("div"),w=i("label"),w.innerHTML=B,ee=x(),E=i("input"),se=x(),z=i("div"),b=i("label"),b.textContent=J,R=x(),H=i("input"),this.h()},l(I){e=o(I,"DIV",{class:!0});var p=v(e);t=o(p,"DIV",{});var h=v(t);l=o(h,"LABEL",{class:!0,"data-svelte-h":!0}),A(l)!=="svelte-1n01uv4"&&(l.innerHTML=a),u=y(h),d=o(h,"INPUT",{type:!0,placeholder:!0,class:!0}),h.forEach(f),g=y(p),m=o(p,"DIV",{});var V=v(m);_=o(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(_)!=="svelte-1kxokzw"&&(_.textContent=L),N=y(V),k=o(V,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),V.forEach(f),Z=y(p),j=o(p,"DIV",{});var D=v(j);w=o(D,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(w)!=="svelte-x3mlpv"&&(w.innerHTML=B),ee=y(D),E=o(D,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),D.forEach(f),se=y(p),z=o(p,"DIV",{});var T=v(z);b=o(T,"LABEL",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-3y4h3a"&&(b.textContent=J),R=y(T),H=o(T,"INPUT",{type:!0,placeholder:!0,class:!0}),T.forEach(f),p.forEach(f),this.h()},h(){s(l,"class","block text-sm font-medium text-gray-700 mb-1"),s(d,"type","text"),s(d,"placeholder",n[1]),s(d,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),d.disabled=!0,s(_,"for","title"),s(_,"class","block text-sm font-medium text-gray-700 mb-1"),s(k,"id","title"),s(k,"type","text"),s(k,"placeholder",n[2]),s(k,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),k.disabled=!0,s(w,"for","productClass"),s(w,"class","block text-sm font-medium text-gray-700 mb-1"),s(E,"type","text"),s(E,"id","productClass"),s(E,"placeholder",q=n[3]!==null?String(n[3]):""),s(E,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),E.disabled=!0,s(b,"class","block text-sm font-medium text-gray-700 mb-1"),s(H,"type","text"),s(H,"placeholder",n[4]),s(H,"class","w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"),H.disabled=!0,s(e,"class","p-4 grid grid-cols-1 md:grid-cols-2 gap-4")},m(I,p){Y(I,e,p),r(e,t),r(t,l),r(t,u),r(t,d),P(d,n[1]),r(e,g),r(e,m),r(m,_),r(m,N),r(m,k),P(k,n[2]),r(e,Z),r(e,j),r(j,w),r(j,ee),r(j,E),P(E,n[3]),r(e,se),r(e,z),r(z,b),r(z,R),r(z,H),P(H,n[4]),te||(F=[Q(d,"input",n[11]),Q(k,"input",n[12]),Q(E,"input",n[13]),Q(H,"input",n[14])],te=!0)},p(I,p){p&2&&s(d,"placeholder",I[1]),p&2&&d.value!==I[1]&&P(d,I[1]),p&4&&s(k,"placeholder",I[2]),p&4&&k.value!==I[2]&&P(k,I[2]),p&8&&q!==(q=I[3]!==null?String(I[3]):"")&&s(E,"placeholder",q),p&8&&E.value!==I[3]&&P(E,I[3]),p&16&&s(H,"placeholder",I[4]),p&16&&H.value!==I[4]&&P(H,I[4])},i:ke,o:ke,d(I){I&&f(e),te=!1,kt(F)}}}function qt(n){let e,t,l,a,u,d="Loading Trademark Information...",g;return l=new It({props:{icon:"line-md:loading-loop",width:"2rem",height:"2rem",class:"text-blue-600"}}),{c(){e=i("div"),t=i("div"),lt(l.$$.fragment),a=x(),u=i("span"),u.textContent=d,this.h()},l(m){e=o(m,"DIV",{class:!0});var _=v(e);t=o(_,"DIV",{class:!0});var L=v(t);tt(l.$$.fragment,L),a=y(L),u=o(L,"SPAN",{class:!0,"data-svelte-h":!0}),A(u)!=="svelte-uoq0xl"&&(u.textContent=d),L.forEach(f),_.forEach(f),this.h()},h(){s(u,"class","text-sm text-gray-500"),s(t,"class","flex flex-col items-center gap-2"),s(e,"class","flex items-center justify-center p-12")},m(m,_){Y(m,e,_),r(e,t),et(l,t,null),r(t,a),r(t,u),g=!0},p:ke,i(m){g||(we(l.$$.fragment,m),g=!0)},o(m){Ee(l.$$.fragment,m),g=!1},d(m){m&&f(e),$e(l)}}}function xt(n){let e,t=n[27]+"",l;return{c(){e=i("option"),l=Te(t),this.h()},l(a){e=o(a,"OPTION",{});var u=v(e);l=Le(u,t),u.forEach(f),this.h()},h(){e.__value=n[27],P(e,e.__value)},m(a,u){Y(a,e,u),r(e,l)},p:ke,d(a){a&&f(e)}}}function St(n){let e,t="Pay";return{c(){e=i("button"),e.textContent=t,this.h()},l(l){e=o(l,"BUTTON",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-vsv4n8"&&(e.textContent=t),this.h()},h(){s(e,"class","bg-gray-400 text-white px-6 py-2 rounded-md cursor-not-allowed"),e.disabled=!0},m(l,a){Y(l,e,a)},p:ke,d(l){l&&f(e)}}}function jt(n){let e,t,l;function a(g,m){return g[7]?Rt:zt}let u=a(n),d=u(n);return{c(){e=i("button"),d.c(),this.h()},l(g){e=o(g,"BUTTON",{class:!0});var m=v(e);d.l(m),m.forEach(f),this.h()},h(){s(e,"class","bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors flex items-center"),e.disabled=n[7]},m(g,m){Y(g,e,m),d.m(e,null),t||(l=Q(e,"click",n[10]),t=!0)},p(g,m){u!==(u=a(g))&&(d.d(1),d=u(g),d&&(d.c(),d.m(e,null))),m&128&&(e.disabled=g[7])},d(g){g&&f(e),d.d(),t=!1,l()}}}function zt(n){let e;return{c(){e=Te("Pay")},l(t){e=Le(t,"Pay")},m(t,l){Y(t,e,l)},d(t){t&&f(e)}}}function Rt(n){let e,t,l,a;return{c(){e=Ze("svg"),t=Ze("circle"),l=Ze("path"),a=Te(`\r
							Processing...`),this.h()},l(u){e=Ye(u,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var d=v(e);t=Ye(d,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),v(t).forEach(f),l=Ye(d,"path",{class:!0,fill:!0,d:!0}),v(l).forEach(f),d.forEach(f),a=Le(u,`\r
							Processing...`),this.h()},h(){s(t,"class","opacity-25"),s(t,"cx","12"),s(t,"cy","12"),s(t,"r","10"),s(t,"stroke","currentColor"),s(t,"stroke-width","4"),s(l,"class","opacity-75"),s(l,"fill","currentColor"),s(l,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),s(e,"class","animate-spin -ml-1 mr-2 h-4 w-4 text-white"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"fill","none"),s(e,"viewBox","0 0 24 24")},m(u,d){Y(u,e,d),r(e,t),r(e,l),Y(u,a,d)},d(u){u&&(f(e),f(a))}}}function Gt(n){let e,t,l,a,u,d,g='<h1 class="text-xl font-bold">Merger Application [Form 17]</h1> <p class="font-light">Fill in the details for the merger</p>',m,_,L,N,k,Z="MERGER FORM",j,w,B,ee,E,q,se="MERGER INFORMATION",z,b,J,R,H='Name: <span class="text-red-500">*</span>',te,F,I,p,h,V='Email: <span class="text-red-500">*</span>',D,T,Ie,de,ce,rt='Phone number: <span class="text-red-500">*</span>',Ue,le,Fe,fe,pe,st='Nationality: <span class="text-red-500">*</span>',qe,G,W,at="Select nationality",Se,me,he,nt='Date of merger: <span class="text-red-500">*</span>',je,re,ze,ae,_e,ot='Upload deed of merger: <span class="text-red-500">*</span>',Re,ye,ne,Ge,oe,ve,it='Address: <span class="text-red-500">*</span>',Je,$,Ke,ge,Ce,Qe,ut;a=new At({props:{variant:"outline",class:"flex items-center gap-2",$$slots:{default:[Ut]},$$scope:{ctx:n}}}),a.$on("click",Jt);let U=n[6]&&yt(n);const dt=[qt,Ft],ie=[];function ct(c,C){return c[8]?0:1}w=ct(n),B=ie[w]=dt[w](n);let xe=_t(Object.entries(gt)),O=[];for(let c=0;c<xe.length;c+=1)O[c]=xt(bt(n,xe,c));function ft(c,C){return c[5]!==null?jt:St}let Me=ft(n),X=Me(n);return{c(){e=i("div"),t=i("div"),l=i("div"),lt(a.$$.fragment),u=x(),d=i("div"),d.innerHTML=g,m=x(),_=i("div"),U&&U.c(),L=x(),N=i("div"),k=i("div"),k.textContent=Z,j=x(),B.c(),ee=x(),E=i("div"),q=i("div"),q.textContent=se,z=x(),b=i("div"),J=i("div"),R=i("label"),R.innerHTML=H,te=x(),F=i("input"),I=x(),p=i("div"),h=i("label"),h.innerHTML=V,D=x(),T=i("input"),Ie=x(),de=i("div"),ce=i("label"),ce.innerHTML=rt,Ue=x(),le=i("input"),Fe=x(),fe=i("div"),pe=i("label"),pe.innerHTML=st,qe=x(),G=i("select"),W=i("option"),W.textContent=at;for(let c=0;c<O.length;c+=1)O[c].c();Se=x(),me=i("div"),he=i("label"),he.innerHTML=nt,je=x(),re=i("input"),ze=x(),ae=i("div"),_e=i("label"),_e.innerHTML=ot,Re=x(),ye=i("div"),ne=i("input"),Ge=x(),oe=i("div"),ve=i("label"),ve.innerHTML=it,Je=x(),$=i("input"),Ke=x(),ge=i("div"),X.c(),this.h()},l(c){e=o(c,"DIV",{class:!0});var C=v(e);t=o(C,"DIV",{class:!0});var K=v(t);l=o(K,"DIV",{class:!0});var ue=v(l);tt(a.$$.fragment,ue),u=y(ue),d=o(ue,"DIV",{class:!0,"data-svelte-h":!0}),A(d)!=="svelte-1vbzdro"&&(d.innerHTML=g),ue.forEach(f),m=y(K),_=o(K,"DIV",{class:!0});var M=v(_);U&&U.l(M),L=y(M),N=o(M,"DIV",{class:!0});var be=v(N);k=o(be,"DIV",{class:!0,"data-svelte-h":!0}),A(k)!=="svelte-1ot0di3"&&(k.textContent=Z),j=y(be),B.l(be),be.forEach(f),ee=y(M),E=o(M,"DIV",{class:!0});var De=v(E);q=o(De,"DIV",{class:!0,"data-svelte-h":!0}),A(q)!=="svelte-u1aa5h"&&(q.textContent=se),z=y(De),b=o(De,"DIV",{class:!0});var S=v(b);J=o(S,"DIV",{});var Pe=v(J);R=o(Pe,"LABEL",{class:!0,"data-svelte-h":!0}),A(R)!=="svelte-1mwdmdk"&&(R.innerHTML=H),te=y(Pe),F=o(Pe,"INPUT",{type:!0,class:!0}),Pe.forEach(f),I=y(S),p=o(S,"DIV",{});var Ve=v(p);h=o(Ve,"LABEL",{class:!0,"data-svelte-h":!0}),A(h)!=="svelte-1gfaw7x"&&(h.innerHTML=V),D=y(Ve),T=o(Ve,"INPUT",{type:!0,class:!0}),Ve.forEach(f),Ie=y(S),de=o(S,"DIV",{});var Ne=v(de);ce=o(Ne,"LABEL",{class:!0,"data-svelte-h":!0}),A(ce)!=="svelte-x28s9q"&&(ce.innerHTML=rt),Ue=y(Ne),le=o(Ne,"INPUT",{type:!0,class:!0}),Ne.forEach(f),Fe=y(S),fe=o(S,"DIV",{});var Be=v(fe);pe=o(Be,"LABEL",{class:!0,"data-svelte-h":!0}),A(pe)!=="svelte-1ehph8z"&&(pe.innerHTML=st),qe=y(Be),G=o(Be,"SELECT",{class:!0});var We=v(G);W=o(We,"OPTION",{"data-svelte-h":!0}),A(W)!=="svelte-gnwyt"&&(W.textContent=at);for(let Xe=0;Xe<O.length;Xe+=1)O[Xe].l(We);We.forEach(f),Be.forEach(f),Se=y(S),me=o(S,"DIV",{});var He=v(me);he=o(He,"LABEL",{class:!0,"data-svelte-h":!0}),A(he)!=="svelte-dufvja"&&(he.innerHTML=nt),je=y(He),re=o(He,"INPUT",{type:!0,class:!0}),He.forEach(f),ze=y(S),ae=o(S,"DIV",{class:!0});var Oe=v(ae);_e=o(Oe,"LABEL",{class:!0,"data-svelte-h":!0}),A(_e)!=="svelte-r38509"&&(_e.innerHTML=ot),Re=y(Oe),ye=o(Oe,"DIV",{class:!0});var pt=v(ye);ne=o(pt,"INPUT",{type:!0,accept:!0,class:!0}),pt.forEach(f),Oe.forEach(f),Ge=y(S),oe=o(S,"DIV",{class:!0});var Ae=v(oe);ve=o(Ae,"LABEL",{class:!0,"data-svelte-h":!0}),A(ve)!=="svelte-1101jmd"&&(ve.innerHTML=it),Je=y(Ae),$=o(Ae,"INPUT",{type:!0,class:!0}),Ae.forEach(f),S.forEach(f),De.forEach(f),Ke=y(M),ge=o(M,"DIV",{class:!0});var mt=v(ge);X.l(mt),mt.forEach(f),M.forEach(f),K.forEach(f),C.forEach(f),this.h()},h(){s(d,"class","flex-1 flex flex-col items-center justify-center"),s(l,"class","flex items-center"),s(k,"class","bg-gray-300 px-4 py-2 font-medium text-black"),s(N,"class","mb-6 border border-gray-300 rounded-md overflow-hidden"),s(q,"class","bg-gray-300 px-4 py-2 font-medium text-black"),s(R,"class","block text-sm font-medium text-gray-700 mb-1"),s(F,"type","text"),s(F,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),F.required=!0,s(h,"class","block text-sm font-medium text-gray-700 mb-1"),s(T,"type","email"),s(T,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),T.required=!0,s(ce,"class","block text-sm font-medium text-gray-700 mb-1"),s(le,"type","tel"),s(le,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),le.required=!0,s(pe,"class","block text-sm font-medium text-gray-700 mb-1"),W.__value="",P(W,W.__value),W.disabled=!0,W.selected=!0,s(G,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),G.required=!0,n[0].nationality===void 0&&Lt(()=>n[18].call(G)),s(he,"class","block text-sm font-medium text-gray-700 mb-1"),s(re,"type","date"),s(re,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),re.required=!0,s(_e,"class","block text-sm font-medium text-gray-700 mb-1"),s(ne,"type","file"),s(ne,"accept",".pdf"),s(ne,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),ne.required=!0,s(ye,"class","flex items-center"),s(ae,"class","md:col-span-1"),s(ve,"class","block text-sm font-medium text-gray-700 mb-1"),s($,"type","text"),s($,"class","w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-gray-900 focus:border-gray-900"),$.required=!0,s(oe,"class","md:col-span-2"),s(b,"class","p-4 grid grid-cols-1 md:grid-cols-2 gap-4"),s(E,"class","mb-6 border border-gray-300 rounded-md overflow-hidden"),s(ge,"class","flex justify-end"),s(_,"class","px-6 py-6"),s(t,"class","w-full mx-auto"),s(e,"class","min-h-screen py-4 px-4")},m(c,C){Y(c,e,C),r(e,t),r(t,l),et(a,l,null),r(l,u),r(l,d),r(t,m),r(t,_),U&&U.m(_,null),r(_,L),r(_,N),r(N,k),r(N,j),ie[w].m(N,null),r(_,ee),r(_,E),r(E,q),r(E,z),r(E,b),r(b,J),r(J,R),r(J,te),r(J,F),P(F,n[0].name),r(b,I),r(b,p),r(p,h),r(p,D),r(p,T),P(T,n[0].email),r(b,Ie),r(b,de),r(de,ce),r(de,Ue),r(de,le),P(le,n[0].phone),r(b,Fe),r(b,fe),r(fe,pe),r(fe,qe),r(fe,G),r(G,W);for(let K=0;K<O.length;K+=1)O[K]&&O[K].m(G,null);ht(G,n[0].nationality,!0),r(b,Se),r(b,me),r(me,he),r(me,je),r(me,re),P(re,n[0].dateOfMerger),r(b,ze),r(b,ae),r(ae,_e),r(ae,Re),r(ae,ye),r(ye,ne),r(b,Ge),r(b,oe),r(oe,ve),r(oe,Je),r(oe,$),P($,n[0].address),r(_,Ke),r(_,ge),X.m(ge,null),Ce=!0,Qe||(ut=[Q(F,"input",n[15]),Q(T,"input",n[16]),Q(le,"input",n[17]),Q(G,"change",n[18]),Q(re,"input",n[19]),Q(ne,"change",n[9]),Q($,"input",n[20])],Qe=!0)},p(c,[C]){const K={};C&1073741824&&(K.$$scope={dirty:C,ctx:c}),a.$set(K),c[6]?U?U.p(c,C):(U=yt(c),U.c(),U.m(_,L)):U&&(U.d(1),U=null);let ue=w;if(w=ct(c),w===ue?ie[w].p(c,C):(Bt(),Ee(ie[ue],1,1,()=>{ie[ue]=null}),Nt(),B=ie[w],B?B.p(c,C):(B=ie[w]=dt[w](c),B.c()),we(B,1),B.m(N,null)),C&1&&F.value!==c[0].name&&P(F,c[0].name),C&1&&T.value!==c[0].email&&P(T,c[0].email),C&1&&P(le,c[0].phone),C&0){xe=_t(Object.entries(gt));let M;for(M=0;M<xe.length;M+=1){const be=bt(c,xe,M);O[M]?O[M].p(be,C):(O[M]=xt(be),O[M].c(),O[M].m(G,null))}for(;M<O.length;M+=1)O[M].d(1);O.length=xe.length}C&1&&ht(G,c[0].nationality),C&1&&P(re,c[0].dateOfMerger),C&1&&$.value!==c[0].address&&P($,c[0].address),Me===(Me=ft(c))&&X?X.p(c,C):(X.d(1),X=Me(c),X&&(X.c(),X.m(ge,null)))},i(c){Ce||(we(a.$$.fragment,c),we(B),Ce=!0)},o(c){Ee(a.$$.fragment,c),Ee(B),Ce=!1},d(c){c&&f(e),$e(a),U&&U.d(),ie[w].d(),wt(O,c),X.d(),Qe=!1,kt(ut)}}}function Jt(){window.history.back()}function Kt(n,e,t){let l={name:"",email:"",phone:"",dateOfMerger:"",nationality:"",address:"",document:null},a="",u="",d=null,g=null,m=null,_=null,L=null,N=!1,k=!1;const Z=Tt(Ot);Ct(async()=>{const p=Z.url.searchParams.get("fileId")??"",h=Z.url.searchParams.get("fileType")??"";await j(p,h)});async function j(p,h){t(8,k=!0);try{const V=await fetch(`${vt}/api/files/GetMergerCost?fileId=${p}&fileType=${h}`);if(!V.ok){t(6,L="Unable to retrieve cost info.");return}const D=await V.json();t(1,a=D.applicantName),t(2,u=D.fileTitle),t(3,d=D.trademarkClass),t(4,g=D.fileId),m=D.rrr,t(5,_=D.amount)}catch(V){t(6,L="Error fetching merger cost."),console.error(V)}finally{t(8,k=!1)}}function w(){return[l.name,l.email,l.phone,l.dateOfMerger,l.nationality,l.address].some(h=>!h)?(t(6,L="Please fill in all required fields."),!1):l.document?(t(6,L=null),!0):(t(6,L="Please upload the deed of merger."),!1)}async function B(p){var T;const V=(T=p.target.files)==null?void 0:T[0];if(!V)return;const D=10*1024*1024;if(V.size>D){t(6,L="File size exceeds the maximum limit of 10MB."),t(0,l.document=null,l);return}if(V.type!=="application/pdf"){t(6,L="Only PDF files are allowed."),t(0,l.document=null,l);return}t(0,l.document=V,l)}async function ee(){if(!w())return;t(7,N=!0);const p=Z.url.searchParams.get("fileId")??"";try{const h=new FormData;if(h.append("FileId",p),h.append("rrr",m??""),h.append("Name",l.name),h.append("Email",l.email),h.append("Phone",l.phone),h.append("Nationality",l.nationality),h.append("MergerDate",l.dateOfMerger),h.append("Address",l.address),h.append("document",l.document),console.log(h),(await fetch(`${vt}/api/files/MergerApplication`,{method:"POST",body:h})).ok){const D={};h.forEach((T,Ie)=>{D[Ie]=T instanceof File?T.name:T}),localStorage.setItem("formData",JSON.stringify(D)),await E()}else console.error("Upload failed")}catch(h){t(6,L="Form submission failed."),console.error(h)}finally{t(7,N=!1)}}async function E(){_&&m&&await Ht(`/payment/?type=merger&rrr=${m}&amount=${_}`)}function q(){a=this.value,t(1,a)}function se(){u=this.value,t(2,u)}function z(){d=this.value,t(3,d)}function b(){g=this.value,t(4,g)}function J(){l.name=this.value,t(0,l)}function R(){l.email=this.value,t(0,l)}function H(){l.phone=this.value,t(0,l)}function te(){l.nationality=Dt(this),t(0,l)}function F(){l.dateOfMerger=this.value,t(0,l)}function I(){l.address=this.value,t(0,l)}return[l,a,u,d,g,_,L,N,k,B,ee,q,se,z,b,J,R,H,te,F,I]}class rl extends Pt{constructor(e){super(),Vt(this,e,Kt,Gt,Et,{})}}export{rl as component};
