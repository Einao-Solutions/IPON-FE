import{S as ve,i as we,s as ke,m as ee,o as te,d as p,p as C,q as d,r as _,u as ne,w as I,b as v,y as S,h as T,e as B,f as O,z as N,k as j,j as F,l as Ce,F as G,v as H,I as J,c as P,x as L,K as se,a as le,g as y,t as R,G as ge,n as fe,J as Ie,H as Se}from"./DWgbY-19.js";import{e as re}from"./BNi50ERR.js";import"./IHki7fMi.js";import{R as Ne}from"./C-gY0U-i.js";import"./BUom8UVx.js";import"./DxtHn-BA.js";import{R as Ee,T as De,P as Te,C as je,a as Pe,b as Be,c as Fe,d as Ve}from"./Dhy4PO3Y.js";import{c as ae}from"./1Nm3ZiFH.js";import{b as ie}from"./CPf-tfAh.js";import"./B6dy9_bu.js";import{I as de}from"./Ck_3zp66.js";import{C as Ae}from"./Bdz-cw64.js";import{T as Oe}from"./DXwYwc3d.js";import{I as ue}from"./06MCPrbD.js";import{L as ye}from"./BSqTHTzj.js";import{t as x}from"./DwVMfbZG.js";import{S as Re}from"./D0c_1O3r.js";import{l as ze}from"./B_mOdgGI.js";import{S as Ue}from"./BWhcn7hr.js";import{S as qe,a as Le}from"./EnK-6lPn.js";import{S as Je}from"./CSECcKJZ.js";import{B as M}from"./DhuQ2PKq.js";import{C as Me}from"./S4K04_z1.js";function ce(a,e,n){const t=a.slice();return t[29]=e[n],t}function pe(a,e,n){const t=a.slice();return t[33]=e[n],t}function Ge(a){let e;return{c(){e=R("New Ticket")},l(n){e=y(n,"New Ticket")},m(n,t){v(n,e,t)},d(n){n&&p(e)}}}function He(a){let e;return{c(){e=R("Select affected files, Enter details and attachments(if any)")},l(n){e=y(n,"Select affected files, Enter details and attachments(if any)")},m(n,t){v(n,e,t)},d(n){n&&p(e)}}}function Ke(a){let e,n,t,l;return e=new Le({props:{$$slots:{default:[Ge]},$$scope:{ctx:a}}}),t=new Je({props:{$$slots:{default:[He]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment),n=j(),N(t.$$.fragment)},l(s){S(e.$$.fragment,s),n=T(s),S(t.$$.fragment,s)},m(s,r){I(e,s,r),v(s,n,r),I(t,s,r),l=!0},p(s,r){const o={};r[1]&32&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const f={};r[1]&32&&(f.$$scope={dirty:r,ctx:s}),t.$set(f)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),l=!1},d(s){s&&p(n),C(e,s),C(t,s)}}}function We(a){let e,n,t,l,s,r;function o(i,u){return i[6]==="success"?Ze:Ye}let f=o(a),c=f(a);return s=new M({props:{$$slots:{default:[xe]},$$scope:{ctx:a}}}),s.$on("click",a[23]),{c(){c.c(),e=j(),n=F("p"),t=R(a[6]),l=j(),N(s.$$.fragment)},l(i){c.l(i),e=T(i),n=B(i,"P",{});var u=O(n);t=y(u,a[6]),u.forEach(p),l=T(i),S(s.$$.fragment,i)},m(i,u){c.m(i,u),v(i,e,u),v(i,n,u),P(n,t),v(i,l,u),I(s,i,u),r=!0},p(i,u){f!==(f=o(i))&&(c.d(1),c=f(i),c&&(c.c(),c.m(e.parentNode,e))),(!r||u[0]&64)&&le(t,i[6]);const m={};u[1]&32&&(m.$$scope={dirty:u,ctx:i}),s.$set(m)},i(i){r||(_(s.$$.fragment,i),r=!0)},o(i){d(s.$$.fragment,i),r=!1},d(i){i&&(p(e),p(n),p(l)),c.d(i),C(s,i)}}}function Qe(a){let e,n,t="Are you sure you want to create the ticket?",l,s,r,o,f,c;return r=new M({props:{variant:"outline",$$slots:{default:[et]},$$scope:{ctx:a}}}),f=new M({props:{disabled:a[7],$$slots:{default:[tt]},$$scope:{ctx:a}}}),f.$on("click",a[22]),{c(){e=F("div"),n=F("p"),n.textContent=t,l=j(),s=F("div"),N(r.$$.fragment),o=j(),N(f.$$.fragment),this.h()},l(i){e=B(i,"DIV",{class:!0});var u=O(e);n=B(u,"P",{"data-svelte-h":!0}),se(n)!=="svelte-hrewik"&&(n.textContent=t),l=T(u),s=B(u,"DIV",{class:!0});var m=O(s);S(r.$$.fragment,m),o=T(m),S(f.$$.fragment,m),m.forEach(p),u.forEach(p),this.h()},h(){L(s,"class","flex justify-end space-x-5"),L(e,"class","flex flex-col space-y-5 my-4")},m(i,u){v(i,e,u),P(e,n),P(e,l),P(e,s),I(r,s,null),P(s,o),I(f,s,null),c=!0},p(i,u){const m={};u[1]&32&&(m.$$scope={dirty:u,ctx:i}),r.$set(m);const $={};u[0]&128&&($.disabled=i[7]),u[0]&128|u[1]&32&&($.$$scope={dirty:u,ctx:i}),f.$set($)},i(i){c||(_(r.$$.fragment,i),_(f.$$.fragment,i),c=!0)},o(i){d(r.$$.fragment,i),d(f.$$.fragment,i),c=!1},d(i){i&&p(e),C(r),C(f)}}}function Xe(a){let e,n,t,l,s,r,o,f,c,i,u,m,$,w,V,h,D,k=a[1]!==null&&$e(a);function U(g){a[17](g)}let K={placeholder:"Briefly describe the title"};a[9]!==void 0&&(K.value=a[9]),t=new ue({props:K}),ee.push(()=>te(t,"value",U));function oe(g){a[18](g)}let W={class:"min-h-24 mt-3",placeholder:"What's the issue you are facing?"};return a[8]!==void 0&&(W.value=a[8]),r=new Oe({props:W}),ee.push(()=>te(r,"value",oe)),c=new ue({props:{id:"picture",type:"file",class:"mt-3",accept:".pdf, .jpg, .png, .jpeg",multiple:!1}}),c.$on("change",a[19]),u=new ye({props:{for:"picture",$$slots:{default:[pt]},$$scope:{ctx:a}}}),w=new M({props:{variant:"outline",$$slots:{default:[$t]},$$scope:{ctx:a}}}),w.$on("click",a[20]),h=new M({props:{$$slots:{default:[mt]},$$scope:{ctx:a}}}),h.$on("click",a[21]),{c(){e=F("div"),k&&k.c(),n=j(),N(t.$$.fragment),s=j(),N(r.$$.fragment),f=j(),N(c.$$.fragment),i=j(),N(u.$$.fragment),m=j(),$=F("div"),N(w.$$.fragment),V=j(),N(h.$$.fragment),this.h()},l(g){e=B(g,"DIV",{});var E=O(e);k&&k.l(E),n=T(E),S(t.$$.fragment,E),s=T(E),S(r.$$.fragment,E),f=T(E),S(c.$$.fragment,E),i=T(E),S(u.$$.fragment,E),E.forEach(p),m=T(g),$=B(g,"DIV",{class:!0});var q=O($);S(w.$$.fragment,q),V=T(q),S(h.$$.fragment,q),q.forEach(p),this.h()},h(){L($,"class","flex justify-end gap-4 mt-10")},m(g,E){v(g,e,E),k&&k.m(e,null),P(e,n),I(t,e,null),P(e,s),I(r,e,null),P(e,f),I(c,e,null),P(e,i),I(u,e,null),v(g,m,E),v(g,$,E),I(w,$,null),P($,V),I(h,$,null),D=!0},p(g,E){g[1]!==null?k?(k.p(g,E),E[0]&2&&_(k,1)):(k=$e(g),k.c(),_(k,1),k.m(e,n)):k&&(G(),d(k,1,1,()=>{k=null}),H());const q={};!l&&E[0]&512&&(l=!0,q.value=g[9],ne(()=>l=!1)),t.$set(q);const Q={};!o&&E[0]&256&&(o=!0,Q.value=g[8],ne(()=>o=!1)),r.$set(Q);const X={};E[1]&32&&(X.$$scope={dirty:E,ctx:g}),u.$set(X);const Y={};E[1]&32&&(Y.$$scope={dirty:E,ctx:g}),w.$set(Y);const Z={};E[1]&32&&(Z.$$scope={dirty:E,ctx:g}),h.$set(Z)},i(g){D||(_(k),_(t.$$.fragment,g),_(r.$$.fragment,g),_(c.$$.fragment,g),_(u.$$.fragment,g),_(w.$$.fragment,g),_(h.$$.fragment,g),D=!0)},o(g){d(k),d(t.$$.fragment,g),d(r.$$.fragment,g),d(c.$$.fragment,g),d(u.$$.fragment,g),d(w.$$.fragment,g),d(h.$$.fragment,g),D=!1},d(g){g&&(p(e),p(m),p($)),k&&k.d(),C(t),C(r),C(c),C(u),C(w),C(h)}}}function Ye(a){let e,n="Failed to create ticket, please try again later";return{c(){e=F("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),se(e)!=="svelte-1ma02mf"&&(e.textContent=n)},m(t,l){v(t,e,l)},d(t){t&&p(e)}}}function Ze(a){let e,n="Saved new ticket successfully, you would be notified when there is a response";return{c(){e=F("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),se(e)!=="svelte-1mr70yz"&&(e.textContent=n)},m(t,l){v(t,e,l)},d(t){t&&p(e)}}}function xe(a){let e;return{c(){e=R("Ok")},l(n){e=y(n,"Ok")},m(n,t){v(n,e,t)},d(n){n&&p(e)}}}function et(a){let e;return{c(){e=R("Cancel")},l(n){e=y(n,"Cancel")},m(n,t){v(n,e,t)},d(n){n&&p(e)}}}function tt(a){let e,n,t;return e=new de({props:{class:a[7]?"":"hidden",icon:"eos-icons:loading",width:"1.2rem",height:"1.2rem"}}),{c(){N(e.$$.fragment),n=R(`\r
							Continue`)},l(l){S(e.$$.fragment,l),n=y(l,`\r
							Continue`)},m(l,s){I(e,l,s),v(l,n,s),t=!0},p(l,s){const r={};s[0]&128&&(r.class=l[7]?"":"hidden"),e.$set(r)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&p(n),C(e,l)}}}function $e(a){let e,n,t;function l(r){a[16](r)}let s={$$slots:{default:[ct]},$$scope:{ctx:a}};return a[4]!==void 0&&(s.open=a[4]),e=new Ee({props:s}),ee.push(()=>te(e,"open",l)),{c(){N(e.$$.fragment)},l(r){S(e.$$.fragment,r)},m(r,o){I(e,r,o),t=!0},p(r,o){const f={};o[0]&11|o[1]&32&&(f.$$scope={dirty:o,ctx:r}),!n&&o[0]&16&&(n=!0,f.open=r[4],ne(()=>n=!1)),e.$set(f)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){d(e.$$.fragment,r),t=!1},d(r){C(e,r)}}}function nt(a){let e,n="Select files";return{c(){e=F("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),se(e)!=="svelte-1cl1ft"&&(e.textContent=n)},m(t,l){v(t,e,l)},p:fe,i:fe,o:fe,d(t){t&&p(e)}}}function lt(a){let e,n,t=re(a[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=me(pe(a,t,r));const s=r=>d(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=J()},l(r){for(let o=0;o<l.length;o+=1)l[o].l(r);e=J()},m(r,o){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,o);v(r,e,o),n=!0},p(r,o){if(o[0]&1026){t=re(r[1]);let f;for(f=0;f<t.length;f+=1){const c=pe(r,t,f);l[f]?(l[f].p(c,o),_(l[f],1)):(l[f]=me(c),l[f].c(),_(l[f],1),l[f].m(e.parentNode,e))}for(G(),f=t.length;f<l.length;f+=1)s(f);H()}},i(r){if(!n){for(let o=0;o<t.length;o+=1)_(l[o]);n=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)d(l[o]);n=!1},d(r){r&&p(e),ge(l,r)}}}function me(a){let e,n,t=a[33].fileID+"",l,s,r,o,f,c,i,u;o=new de({props:{class:"w-5 h-5 p-0",icon:"material-symbols-light:cancel-outline"}});function m(){return a[14](a[33])}return{c(){e=F("div"),n=F("p"),l=R(t),s=j(),r=F("div"),N(o.$$.fragment),f=j(),this.h()},l($){e=B($,"DIV",{class:!0,style:!0});var w=O(e);n=B(w,"P",{});var V=O(n);l=y(V,t),V.forEach(p),s=T(w),r=B(w,"DIV",{class:!0});var h=O(r);S(o.$$.fragment,h),h.forEach(p),f=T(w),w.forEach(p),this.h()},h(){L(r,"class","w-6 flex h-6 items-center justify-center border rounded-md"),L(e,"class","flex gap-1 items-center p-0.5 border w-fit rounded-md"),Se(e,"font-size","12px")},m($,w){v($,e,w),P(e,n),P(n,l),P(e,s),P(e,r),I(o,r,null),P(e,f),c=!0,i||(u=Ie(r,"click",m),i=!0)},p($,w){a=$,(!c||w[0]&2)&&t!==(t=a[33].fileID+"")&&le(l,t)},i($){c||(_(o.$$.fragment,$),c=!0)},o($){d(o.$$.fragment,$),c=!1},d($){$&&p(e),C(o),i=!1,u()}}}function rt(a){var i;let e,n,t,l,s,r;const o=[lt,nt],f=[];function c(u,m){return u[1]&&u[1].length>0?0:1}return n=c(a),t=f[n]=o[n](a),s=new Me({props:{class:"ml-2 h-4 w-4 shrink-0 opacity-50 "+(((i=a[1])==null?void 0:i.length)>0?"hidden":"")+" "}}),{c(){e=F("div"),t.c(),l=j(),N(s.$$.fragment),this.h()},l(u){e=B(u,"DIV",{class:!0});var m=O(e);t.l(m),m.forEach(p),l=T(u),S(s.$$.fragment,u),this.h()},h(){L(e,"class","grid sm:grid-cols-2 grid-cols-3 gap-1")},m(u,m){v(u,e,m),f[n].m(e,null),v(u,l,m),I(s,u,m),r=!0},p(u,m){var V;let $=n;n=c(u),n===$?f[n].p(u,m):(G(),d(f[$],1,1,()=>{f[$]=null}),H(),t=f[n],t?t.p(u,m):(t=f[n]=o[n](u),t.c()),_(t,1),t.m(e,null));const w={};m[0]&2&&(w.class="ml-2 h-4 w-4 shrink-0 opacity-50 "+(((V=u[1])==null?void 0:V.length)>0?"hidden":"")+" "),s.$set(w)},i(u){r||(_(t),_(s.$$.fragment,u),r=!0)},o(u){d(t),d(s.$$.fragment,u),r=!1},d(u){u&&(p(e),p(l)),f[n].d(),C(s,u)}}}function st(a){let e,n;return e=new M({props:{builders:[a[32]],variant:"outline",role:"combobox","aria-expanded":a[0],class:"w-full h-fit justify-between",$$slots:{default:[rt]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p(t,l){const s={};l[1]&2&&(s.builders=[t[32]]),l[0]&1&&(s["aria-expanded"]=t[0]),l[0]&2|l[1]&32&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ot(a){let e;return{c(){e=R("No file found.")},l(n){e=y(n,"No file found.")},m(n,t){v(n,e,t)},d(n){n&&p(e)}}}function ft(a){var V;let e,n,t,l,s=a[29].fileID+"",r,o,f,c=a[29].title+"",i,u,m,$,w;return e=new Ae({props:{class:ae("mr-2 h-4 w-4",((V=a[1])==null?void 0:V.includes(a[29]))&&"text-transparent")}}),{c(){N(e.$$.fragment),n=j(),t=F("div"),l=F("p"),r=R(s),o=j(),f=F("p"),i=R(c),u=j(),m=F("br"),$=j(),this.h()},l(h){S(e.$$.fragment,h),n=T(h),t=B(h,"DIV",{});var D=O(t);l=B(D,"P",{});var k=O(l);r=y(k,s),k.forEach(p),o=T(D),f=B(D,"P",{class:!0});var U=O(f);i=y(U,c),U.forEach(p),u=T(D),m=B(D,"BR",{}),D.forEach(p),$=T(h),this.h()},h(){L(f,"class","text-ellipsis line-clamp-1")},m(h,D){I(e,h,D),v(h,n,D),v(h,t,D),P(t,l),P(l,r),P(t,o),P(t,f),P(f,i),P(t,u),P(t,m),v(h,$,D),w=!0},p(h,D){var U;const k={};D[0]&10&&(k.class=ae("mr-2 h-4 w-4",((U=h[1])==null?void 0:U.includes(h[29]))&&"text-transparent")),e.$set(k),(!w||D[0]&8)&&s!==(s=h[29].fileID+"")&&le(r,s),(!w||D[0]&8)&&c!==(c=h[29].title+"")&&le(i,c)},i(h){w||(_(e.$$.fragment,h),w=!0)},o(h){d(e.$$.fragment,h),w=!1},d(h){h&&(p(n),p(t),p($)),C(e,h)}}}function _e(a){let e,n;function t(){return a[15](a[29])}return e=new Ve({props:{value:a[29].fileID,onSelect:t,$$slots:{default:[ft]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,s){I(e,l,s),n=!0},p(l,s){a=l;const r={};s[0]&8&&(r.value=a[29].fileID),s[0]&10&&(r.onSelect=t),s[0]&10|s[1]&32&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function at(a){let e,n,t=re(a[3]),l=[];for(let r=0;r<t.length;r+=1)l[r]=_e(ce(a,t,r));const s=r=>d(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=J()},l(r){for(let o=0;o<l.length;o+=1)l[o].l(r);e=J()},m(r,o){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,o);v(r,e,o),n=!0},p(r,o){if(o[0]&10){t=re(r[3]);let f;for(f=0;f<t.length;f+=1){const c=ce(r,t,f);l[f]?(l[f].p(c,o),_(l[f],1)):(l[f]=_e(c),l[f].c(),_(l[f],1),l[f].m(e.parentNode,e))}for(G(),f=t.length;f<l.length;f+=1)s(f);H()}},i(r){if(!n){for(let o=0;o<t.length;o+=1)_(l[o]);n=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)d(l[o]);n=!1},d(r){r&&p(e),ge(l,r)}}}function it(a){let e,n,t,l,s,r;return e=new Pe({props:{placeholder:"Search your file..."}}),t=new Be({props:{$$slots:{default:[ot]},$$scope:{ctx:a}}}),s=new Fe({props:{$$slots:{default:[at]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment),n=j(),N(t.$$.fragment),l=j(),N(s.$$.fragment)},l(o){S(e.$$.fragment,o),n=T(o),S(t.$$.fragment,o),l=T(o),S(s.$$.fragment,o)},m(o,f){I(e,o,f),v(o,n,f),I(t,o,f),v(o,l,f),I(s,o,f),r=!0},p(o,f){const c={};f[1]&32&&(c.$$scope={dirty:f,ctx:o}),t.$set(c);const i={};f[0]&10|f[1]&32&&(i.$$scope={dirty:f,ctx:o}),s.$set(i)},i(o){r||(_(e.$$.fragment,o),_(t.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&(p(n),p(l)),C(e,o),C(t,o),C(s,o)}}}function ut(a){let e,n;return e=new je({props:{$$slots:{default:[it]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p(t,l){const s={};l[0]&10|l[1]&32&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ct(a){let e,n,t,l;return e=new De({props:{asChild:!0,$$slots:{default:[st,({builder:s})=>({32:s}),({builder:s})=>[0,s?2:0]]},$$scope:{ctx:a}}}),t=new Te({props:{class:"w-fit p-0",$$slots:{default:[ut]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment),n=j(),N(t.$$.fragment)},l(s){S(e.$$.fragment,s),n=T(s),S(t.$$.fragment,s)},m(s,r){I(e,s,r),v(s,n,r),I(t,s,r),l=!0},p(s,r){const o={};r[0]&3|r[1]&34&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const f={};r[0]&10|r[1]&32&&(f.$$scope={dirty:r,ctx:s}),t.$set(f)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),l=!1},d(s){s&&p(n),C(e,s),C(t,s)}}}function pt(a){let e;return{c(){e=R("Attachment not required (pdf, jpeg or png)")},l(n){e=y(n,"Attachment not required (pdf, jpeg or png)")},m(n,t){v(n,e,t)},d(n){n&&p(e)}}}function $t(a){let e;return{c(){e=R("Cancel")},l(n){e=y(n,"Cancel")},m(n,t){v(n,e,t)},d(n){n&&p(e)}}}function mt(a){let e;return{c(){e=R("Continue")},l(n){e=y(n,"Continue")},m(n,t){v(n,e,t)},d(n){n&&p(e)}}}function _t(a){let e,n,t,l,s,r;e=new qe({props:{$$slots:{default:[Ke]},$$scope:{ctx:a}}});const o=[Xe,Qe,We],f=[];function c(i,u){return i[5]===0?0:i[5]===1?1:i[5]===2?2:-1}return~(t=c(a))&&(l=f[t]=o[t](a)),{c(){N(e.$$.fragment),n=j(),l&&l.c(),s=J()},l(i){S(e.$$.fragment,i),n=T(i),l&&l.l(i),s=J()},m(i,u){I(e,i,u),v(i,n,u),~t&&f[t].m(i,u),v(i,s,u),r=!0},p(i,u){const m={};u[1]&32&&(m.$$scope={dirty:u,ctx:i}),e.$set(m);let $=t;t=c(i),t===$?~t&&f[t].p(i,u):(l&&(G(),d(f[$],1,1,()=>{f[$]=null}),H()),~t?(l=f[t],l?l.p(i,u):(l=f[t]=o[t](i),l.c()),_(l,1),l.m(s.parentNode,s)):l=null)},i(i){r||(_(e.$$.fragment,i),_(l),r=!0)},o(i){d(e.$$.fragment,i),d(l),r=!1},d(i){i&&(p(n),p(s)),C(e,i),~t&&f[t].d(i)}}}function gt(a){let e,n;return e=new Ue({props:{side:"right",class:"overflow-y-auto sm:w-[620px] w-full",$$slots:{default:[_t]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p(t,l){const s={};l[0]&1019|l[1]&32&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function dt(a){let e,n,t,l,s,r;e=new Re({});function o(c){a[25](c)}let f={onOpenChange:a[24],$$slots:{default:[gt]},$$scope:{ctx:a}};return a[0]!==void 0&&(f.open=a[0]),l=new Ne({props:f}),ee.push(()=>te(l,"open",o)),{c(){N(e.$$.fragment),n=j(),t=F("div"),N(l.$$.fragment)},l(c){S(e.$$.fragment,c),n=T(c),t=B(c,"DIV",{});var i=O(t);S(l.$$.fragment,i),i.forEach(p)},m(c,i){I(e,c,i),v(c,n,i),v(c,t,i),I(l,t,null),r=!0},p(c,i){const u={};i[0]&4&&(u.onOpenChange=c[24]),i[0]&1019|i[1]&32&&(u.$$scope={dirty:i,ctx:c}),!s&&i[0]&1&&(s=!0,u.open=c[0],ne(()=>s=!1)),l.$set(u)},i(c){r||(_(e.$$.fragment,c),_(l.$$.fragment,c),r=!0)},o(c){d(e.$$.fragment,c),d(l.$$.fragment,c),r=!1},d(c){c&&(p(n),p(t)),C(e,c),C(l)}}}function ht(a){let e="";const n=new Uint8Array(a),t=n.byteLength;for(let l=0;l<t;l++)e+=String.fromCharCode(n[l]);return window.btoa(e)}function bt(a){return new Promise((e,n)=>{const t=new FileReader;t.onload=()=>e(t.result),t.onerror=n,t.readAsArrayBuffer(a)}).then(e=>new Uint8Array(e))}function vt(a,e,n){let t;Ce(a,ze,b=>n(28,t=b));let{onExit:l}=e,{open:s}=e,r=!1,{affectedFiles:o=null}=e,{allUserFiles:f=[]}=e,c=0,i=null,u=!1,m=null,$=null,w=null,V=null;V=t.firstName+" "+t.lastName;function h(b){let z=o==null?void 0:o.findIndex(A=>A.fileID===b.fileID);z!==void 0&&(o==null||o.splice(z,1),n(1,o=[...o]))}async function D(b){const z=b==null?void 0:b.target;if(z.files){if(z.files.length>1){x.error("maximum of 1 images",{position:"top-right"});return}for(let A=0;A<z.files.length;A++)if(z.files[A].size>5e6){x.error("maximum file size of 5MB exceeded",{position:"top-right"});return}for(let A=0;A<z.files.length;A++)m=z.files[0]}}async function k(){n(7,u=!0);let b=null;m&&(b=await(await fetch(`${ie}/api/files/uploadAttachment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{fileName:m.name,Name:"",contentType:m.type,data:ht(await bt(m))}])})).json());const z=await fetch(`${ie}/api/tickets/Create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:w,creatorId:t.creatorId,creatorName:V,affectedFiles:o!==null?o.map(A=>({id:A.id,fileNumber:A.fileID})):null,status:1,correspondences:[b==null?{message:$,senderId:t==null?void 0:t.creatorId,senderName:V}:{attachment:b[0],message:$,senderId:t==null?void 0:t.creatorId,senderName:V}]})});if(z.ok){const A=await z.json();console.log(A),n(7,u=!1),n(6,i="success"),n(5,c=2),i==="success"?x.success("saved successfully",{position:"top-right"}):x.error("Failed to save",{position:"top-right"})}}function U(){l(),n(7,u=!1),n(6,i=null),n(5,c=0)}const K=b=>h(b),oe=b=>{o?o.push(b):n(1,o=[b]),n(1,o=[...o])};function W(b){r=b,n(4,r)}function g(b){w=b,n(9,w)}function E(b){$=b,n(8,$)}const q=b=>D(b),Q=()=>U(),X=()=>n(5,c=1),Y=()=>k(),Z=()=>U(),he=b=>{b||l()};function be(b){s=b,n(0,s)}return a.$$set=b=>{"onExit"in b&&n(2,l=b.onExit),"open"in b&&n(0,s=b.open),"affectedFiles"in b&&n(1,o=b.affectedFiles),"allUserFiles"in b&&n(3,f=b.allUserFiles)},[s,o,l,f,r,c,i,u,$,w,h,D,k,U,K,oe,W,g,E,q,Q,X,Y,Z,he,be]}class Mt extends ve{constructor(e){super(),we(this,e,vt,dt,ke,{onExit:2,open:0,affectedFiles:1,allUserFiles:3},null,[-1,-1])}}export{Mt as default};
