import{x as Ce,w as ge,n as G,i as _,D as Re,r as ae,b as le,q as C}from"./R6lDc60d.js";import{w as te,a as fe}from"./Bx4tD3iK.js";import{ab as we}from"./Cccy056x.js";function Dt(t,e,r,n=!0){const o=e-r;return o<=0?n?t[t.length-1]:t[0]:t[o]}function It(t,e,r,n=!0){const o=e+r;return o>t.length-1?n?t[0]:t[t.length-1]:t[o]}function At(t,e,r=!0){return e===t.length-1?r?t[0]:t[e]:t[e+1]}function Ot(t,e,r=!0){return e<=0?r?t[t.length-1]:t[0]:t[e-1]}function xe(t){return t[t.length-1]}function Ct(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Rt(t,e,r=Ce){const n=e.findIndex(o=>r(o,t));return n!==-1?e.splice(n,1):e.push(t),e}const xt=(t,e)=>{const r=ge(t),n=(s,a)=>{r.update(f=>{const l=s(f);let d=l;return e&&(d=e({curr:f,next:l})),a==null||a(d),d})};return{...r,update:n,set:s=>{n(()=>s)}}};function Te(t){return new Promise(e=>setTimeout(e,t))}let Le="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Me=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Le[Math.random()*64|0];return e};function je(){return Me(10)}function Lt(t){return t.reduce((e,r)=>(e[r]=je(),e),{})}const Ne=()=>typeof window<"u";function Be(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const Ee=t=>Ne()&&t.test(Be().toLowerCase()),Ke=()=>Ne()&&!!navigator.maxTouchPoints,$e=()=>Ee(/^mac/)&&!Ke(),qe=()=>Ee(/mac|iphone|ipad|ipod/i),Ge=()=>qe()&&!$e(),Q="data-melt-scroll-lock";function de(t,e){if(!t)return;const r=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=r}}function Ue(t,e,r){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,r),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function We(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Mt(t){const e=document,r=e.defaultView??window,{documentElement:n,body:o}=e;if(o.hasAttribute(Q))return G;o.setAttribute(Q,"");const a=r.innerWidth-n.clientWidth,f=()=>Ue(n,"--scrollbar-width",`${a}px`),l=We(n),d=r.getComputedStyle(o)[l],w=()=>de(o,{overflow:"hidden",[l]:`calc(${d} + ${a}px)`}),p=()=>{const{scrollX:F,scrollY:m,visualViewport:S}=r,D=(S==null?void 0:S.offsetLeft)??0,P=(S==null?void 0:S.offsetTop)??0,k=de(o,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(P))}px`,left:`${-(F-Math.floor(D))}px`,right:"0",[l]:`calc(${d} + ${a}px)`});return()=>{k==null||k(),r.scrollTo(F,m)}},T=[f(),Ge()?p():w()];return()=>{T.forEach(F=>F==null?void 0:F()),o.removeAttribute(Q)}}function jt(t){const e={};return Object.keys(t).forEach(r=>{const n=r,o=t[n];e[n]=ge(te(o))}),e}function _e(t){let e=t.parentElement;for(;_(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Bt(t,e){return e!==void 0?e:_e(t)==="body"?document.body:null}async function Kt(t){const{prop:e,defaultEl:r}=t;if(await Promise.all([Te(1),we]),e===void 0){r==null||r.focus();return}const n=Re(e)?e(r):e;if(typeof n=="string"){const o=document.querySelector(n);if(!_(o))return;o.focus()}else _(n)&&n.focus()}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Fe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],V=Fe.join(","),Se=typeof Element>"u",x=Se?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,X=!Se&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Y=function t(e,r){var n;r===void 0&&(r=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=o===""||o==="true",a=s||r&&e&&t(e.parentNode);return a},Ve=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},Pe=function(e,r,n){if(Y(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(V));return r&&x.call(e,V)&&o.unshift(e),o=o.filter(n),o},ke=function t(e,r,n){for(var o=[],s=Array.from(e);s.length;){var a=s.shift();if(!Y(a,!1))if(a.tagName==="SLOT"){var f=a.assignedElements(),l=f.length?f:a.children,d=t(l,!0,n);n.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else{var w=x.call(a,V);w&&n.filter(a)&&(r||!e.includes(a))&&o.push(a);var p=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),T=!Y(p,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(p&&T){var F=t(p===!0?a.children:p.children,!0,n);n.flatten?o.push.apply(o,F):o.push({scopeParent:a,candidates:F})}else s.unshift.apply(s,a.children)}}return o},De=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},R=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ve(e))&&!De(e)?0:e.tabIndex},Xe=function(e,r){var n=R(e);return n<0&&r&&!De(e)?0:n},Ye=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Ie=function(e){return e.tagName==="INPUT"},He=function(e){return Ie(e)&&e.type==="hidden"},Ze=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},ze=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},Je=function(e){if(!e.name)return!0;var r=e.form||X(e),n=function(f){return r.querySelectorAll('input[type="radio"][name="'+f+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(e.name));else try{o=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=ze(o,e.form);return!s||s===e},Qe=function(e){return Ie(e)&&e.type==="radio"},et=function(e){return Qe(e)&&!Je(e)},tt=function(e){var r,n=e&&X(e),o=(r=n)===null||r===void 0?void 0:r.host,s=!1;if(n&&n!==e){var a,f,l;for(s=!!((a=o)!==null&&a!==void 0&&(f=a.ownerDocument)!==null&&f!==void 0&&f.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&o;){var d,w,p;n=X(o),o=(d=n)===null||d===void 0?void 0:d.host,s=!!((w=o)!==null&&w!==void 0&&(p=w.ownerDocument)!==null&&p!==void 0&&p.contains(o))}}return s},ve=function(e){var r=e.getBoundingClientRect(),n=r.width,o=r.height;return n===0&&o===0},rt=function(e,r){var n=r.displayCheck,o=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=x.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(x.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof o=="function"){for(var f=e;e;){var l=e.parentElement,d=X(e);if(l&&!l.shadowRoot&&o(l)===!0)return ve(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=f}if(tt(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return ve(e);return!1},nt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var o=r.children.item(n);if(o.tagName==="LEGEND")return x.call(r,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}r=r.parentElement}return!1},H=function(e,r){return!(r.disabled||Y(r)||He(r)||rt(r,e)||Ze(r)||nt(r))},re=function(e,r){return!(et(r)||R(r)<0||!H(e,r))},at=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},it=function t(e){var r=[],n=[];return e.forEach(function(o,s){var a=!!o.scopeParent,f=a?o.scopeParent:o,l=Xe(f,a),d=a?t(o.candidates):f;l===0?a?r.push.apply(r,d):r.push(f):n.push({documentOrder:s,tabIndex:l,item:o,isScope:a,content:d})}),n.sort(Ye).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(r)},ot=function(e,r){r=r||{};var n;return r.getShadowRoot?n=ke([e],r.includeContainer,{filter:re.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:at}):n=Pe(e,r.includeContainer,re.bind(null,r)),it(n)},ut=function(e,r){r=r||{};var n;return r.getShadowRoot?n=ke([e],r.includeContainer,{filter:H.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=Pe(e,r.includeContainer,H.bind(null,r)),n},L=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return x.call(e,V)===!1?!1:re(r,e)},st=Fe.concat("iframe").join(","),ee=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return x.call(e,st)===!1?!1:H(r,e)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ne(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ct(t){if(Array.isArray(t))return ne(t)}function lt(t,e,r){return(e=pt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ft(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?be(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vt(t){return ct(t)||ft(t)||ht(t)||dt()}function bt(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pt(t){var e=bt(t,"string");return typeof e=="symbol"?e:e+""}function ht(t,e){if(t){if(typeof t=="string")return ne(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(t,e):void 0}}var he={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n._setPausedState(!0)}var o=e.indexOf(r);o===-1||e.splice(o,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},mt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},yt=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},q=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},gt=function(e){return q(e)&&!e.shiftKey},wt=function(e){return q(e)&&e.shiftKey},me=function(e){return setTimeout(e,0)},$=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,n):e},U=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Tt=[],Nt=function(e,r){var n=(r==null?void 0:r.document)||document,o=(r==null?void 0:r.trapStack)||Tt,s=pe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:gt,isKeyBackward:wt},r),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,l=function(i,u,c){return i&&i[u]!==void 0?i[u]:s[c||u]},d=function(i,u){var c=typeof(u==null?void 0:u.composedPath)=="function"?u.composedPath():void 0;return a.containerGroups.findIndex(function(b){var h=b.container,g=b.tabbableNodes;return h.contains(i)||(c==null?void 0:c.includes(h))||g.find(function(v){return v===i})})},w=function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=u.hasFallback,b=c===void 0?!1:c,h=u.params,g=h===void 0?[]:h,v=s[i];if(typeof v=="function"&&(v=v.apply(void 0,vt(g))),v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var N=v;if(typeof v=="string"){try{N=n.querySelector(v)}catch(E){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(E.message,'"'))}if(!N&&!b)throw new Error("`".concat(i,"` as selector refers to no known node"))}return N},p=function(){var i=w("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!ee(i,s.tabbableOptions))if(d(n.activeElement)>=0)i=n.activeElement;else{var u=a.tabbableGroups[0],c=u&&u.firstTabbableNode;i=c||w("fallbackFocus")}else i===null&&(i=w("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},T=function(){if(a.containerGroups=a.containers.map(function(i){var u=ot(i,s.tabbableOptions),c=ut(i,s.tabbableOptions),b=u.length>0?u[0]:void 0,h=u.length>0?u[u.length-1]:void 0,g=c.find(function(E){return L(E)}),v=c.slice().reverse().find(function(E){return L(E)}),N=!!u.find(function(E){return R(E)>0});return{container:i,tabbableNodes:u,focusableNodes:c,posTabIndexesFound:N,firstTabbableNode:b,lastTabbableNode:h,firstDomTabbableNode:g,lastDomTabbableNode:v,nextTabbableNode:function(O){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,A=u.indexOf(O);return A<0?B?c.slice(c.indexOf(O)+1).find(function(K){return L(K)}):c.slice(0,c.indexOf(O)).reverse().find(function(K){return L(K)}):u[A+(B?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!w("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(i){return i.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},F=function(i){var u=i.activeElement;if(u)return u.shadowRoot&&u.shadowRoot.activeElement!==null?F(u.shadowRoot):u},m=function(i){if(i!==!1&&i!==F(document)){if(!i||!i.focus){m(p());return}i.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=i,mt(i)&&i.select()}},S=function(i){var u=w("setReturnFocus",{params:[i]});return u||(u===!1?!1:i)},D=function(i){var u=i.target,c=i.event,b=i.isBackward,h=b===void 0?!1:b;u=u||U(c),T();var g=null;if(a.tabbableGroups.length>0){var v=d(u,c),N=v>=0?a.containerGroups[v]:void 0;if(v<0)h?g=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:g=a.tabbableGroups[0].firstTabbableNode;else if(h){var E=a.tabbableGroups.findIndex(function(z){var J=z.firstTabbableNode;return u===J});if(E<0&&(N.container===u||ee(u,s.tabbableOptions)&&!L(u,s.tabbableOptions)&&!N.nextTabbableNode(u,!1))&&(E=v),E>=0){var O=E===0?a.tabbableGroups.length-1:E-1,B=a.tabbableGroups[O];g=R(u)>=0?B.lastTabbableNode:B.lastDomTabbableNode}else q(c)||(g=N.nextTabbableNode(u,!1))}else{var A=a.tabbableGroups.findIndex(function(z){var J=z.lastTabbableNode;return u===J});if(A<0&&(N.container===u||ee(u,s.tabbableOptions)&&!L(u,s.tabbableOptions)&&!N.nextTabbableNode(u))&&(A=v),A>=0){var K=A===a.tabbableGroups.length-1?0:A+1,ce=a.tabbableGroups[K];g=R(u)>=0?ce.firstTabbableNode:ce.firstDomTabbableNode}else q(c)||(g=N.nextTabbableNode(u))}}else g=w("fallbackFocus");return g},P=function(i){var u=U(i);if(!(d(u,i)>=0)){if($(s.clickOutsideDeactivates,i)){f.deactivate({returnFocus:s.returnFocusOnDeactivate});return}$(s.allowOutsideClick,i)||i.preventDefault()}},k=function(i){var u=U(i),c=d(u,i)>=0;if(c||u instanceof Document)c&&(a.mostRecentlyFocusedNode=u);else{i.stopImmediatePropagation();var b,h=!0;if(a.mostRecentlyFocusedNode)if(R(a.mostRecentlyFocusedNode)>0){var g=d(a.mostRecentlyFocusedNode),v=a.containerGroups[g].tabbableNodes;if(v.length>0){var N=v.findIndex(function(E){return E===a.mostRecentlyFocusedNode});N>=0&&(s.isKeyForward(a.recentNavEvent)?N+1<v.length&&(b=v[N+1],h=!1):N-1>=0&&(b=v[N-1],h=!1))}}else a.containerGroups.some(function(E){return E.tabbableNodes.some(function(O){return R(O)>0})})||(h=!1);else h=!1;h&&(b=D({target:a.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(a.recentNavEvent)})),m(b||a.mostRecentlyFocusedNode||p())}a.recentNavEvent=void 0},I=function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=i;var c=D({event:i,isBackward:u});c&&(q(i)&&i.preventDefault(),m(c))},M=function(i){(s.isKeyForward(i)||s.isKeyBackward(i))&&I(i,s.isKeyBackward(i))},ie=function(i){yt(i)&&$(s.escapeDeactivates,i)!==!1&&(i.preventDefault(),f.deactivate())},oe=function(i){var u=U(i);d(u,i)>=0||$(s.clickOutsideDeactivates,i)||$(s.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},ue=function(){if(a.active)return he.activateTrap(o,f),a.delayInitialFocusTimer=s.delayInitialFocus?me(function(){m(p())}):m(p()),n.addEventListener("focusin",k,!0),n.addEventListener("mousedown",P,{capture:!0,passive:!1}),n.addEventListener("touchstart",P,{capture:!0,passive:!1}),n.addEventListener("click",oe,{capture:!0,passive:!1}),n.addEventListener("keydown",M,{capture:!0,passive:!1}),n.addEventListener("keydown",ie),f},se=function(){if(a.active)return n.removeEventListener("focusin",k,!0),n.removeEventListener("mousedown",P,!0),n.removeEventListener("touchstart",P,!0),n.removeEventListener("click",oe,!0),n.removeEventListener("keydown",M,!0),n.removeEventListener("keydown",ie),f},Oe=function(i){var u=i.some(function(c){var b=Array.from(c.removedNodes);return b.some(function(h){return h===a.mostRecentlyFocusedNode})});u&&m(p())},Z=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Oe):void 0,j=function(){Z&&(Z.disconnect(),a.active&&!a.paused&&a.containers.map(function(i){Z.observe(i,{subtree:!0,childList:!0})}))};return f={get active(){return a.active},get paused(){return a.paused},activate:function(i){if(a.active)return this;var u=l(i,"onActivate"),c=l(i,"onPostActivate"),b=l(i,"checkCanFocusTrap");b||T(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=F(n),u==null||u();var h=function(){b&&T(),ue(),j(),c==null||c()};return b?(b(a.containers.concat()).then(h,h),this):(h(),this)},deactivate:function(i){if(!a.active)return this;var u=pe({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},i);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,se(),a.active=!1,a.paused=!1,j(),he.deactivateTrap(o,f);var c=l(u,"onDeactivate"),b=l(u,"onPostDeactivate"),h=l(u,"checkCanReturnFocus"),g=l(u,"returnFocus","returnFocusOnDeactivate");c==null||c();var v=function(){me(function(){g&&m(S(a.nodeFocusedBeforeActivation)),b==null||b()})};return g&&h?(h(S(a.nodeFocusedBeforeActivation)).then(v,v),this):(v(),this)},pause:function(i){return a.active?(a.manuallyPaused=!0,this._setPausedState(!0,i)):this},unpause:function(i){return a.active?(a.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,i)):this},updateContainerElements:function(i){var u=[].concat(i).filter(Boolean);return a.containers=u.map(function(c){return typeof c=="string"?n.querySelector(c):c}),a.active&&T(),j(),this}},Object.defineProperties(f,{_isManuallyPaused:{value:function(){return a.manuallyPaused}},_setPausedState:{value:function(i,u){if(a.paused===i)return this;if(a.paused=i,i){var c=l(u,"onPause"),b=l(u,"onPostPause");c==null||c(),se(),j(),b==null||b()}else{var h=l(u,"onUnpause"),g=l(u,"onPostUnpause");h==null||h(),T(),ue(),j(),g==null||g()}return this}}}),f.updateContainerElements(e),f};function $t(t={}){let e;const{immediate:r,...n}=t,o=te(!1),s=te(!1),a=p=>e==null?void 0:e.activate(p),f=p=>{e==null||e.deactivate(p)},l=()=>{e&&(e.pause(),s.set(!0))},d=()=>{e&&(e.unpause(),s.set(!1))};return{useFocusTrap:p=>(e=Nt(p,{...n,onActivate(){var T;o.set(!0),(T=t.onActivate)==null||T.call(t)},onDeactivate(){var T;o.set(!1),(T=t.onDeactivate)==null||T.call(t)}}),r&&a(),{destroy(){f(),e=void 0}}),hasFocus:fe(o),isPaused:fe(s),activate:a,deactivate:f,pause:l,unpause:d}}const W=[],qt=(t,e)=>{let r=G;function n(){const s=W.indexOf(t);s>=0&&W.splice(s,1)}function o(s){r();const{open:a,onClose:f,shouldCloseOnInteractOutside:l,closeOnInteractOutside:d}=s;Te(100).then(()=>{a?W.push(t):n()});function w(){return xe(W)===t}function p(){w()&&f&&(f(),n())}function T(m){const S=m.target;ae(S)&&S&&w()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function F(m){l!=null&&l(m)&&w()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),p())}r=Et(t,{onInteractOutsideStart:T,onInteractOutside:d?F:void 0,enabled:a}).destroy}return o(e),{update:o,destroy(){n(),r()}}},Gt=(t,e="body")=>{let r;if(!_(e)&&typeof e!="string")return{destroy:G};async function n(s){if(e=s,typeof e=="string"){if(r=document.querySelector(e),r===null&&(await we(),r=document.querySelector(e)),r===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)r=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",r.appendChild(t),t.hidden=!1}function o(){t.remove()}return n(e),{update:n,destroy:o}},Et=(t,e)=>{let r=G,n=G,o=!1,s=!1,a=!1;function f(w){r(),n();const{onInteractOutside:p,onInteractOutsideStart:T,enabled:F}=w;if(!F)return;function m(P){p&&ye(P,t)&&(T==null||T(P));const k=P.target;ae(k)&&Ae(t,k)&&(s=!0),o=!0}function S(P){p==null||p(P)}const D=Ft(t);if(typeof PointerEvent<"u"){const P=k=>{n();const I=M=>{l(M)&&S(M),d()};if(k.pointerType==="touch"){n=C(D,"click",I,{capture:!0,once:!0});return}I(k)};r=le(C(D,"pointerdown",m,!0),C(D,"pointerup",P,!0))}else{const P=I=>{a?a=!1:l(I)&&S(I),d()},k=I=>{a=!0,l(I)&&S(I),d()};r=le(C(D,"mousedown",m,!0),C(D,"mouseup",P,!0),C(D,"touchstart",m,!0),C(D,"touchend",k,!0))}}function l(w){return!!(o&&!s&&ye(w,t))}function d(){o=!1,s=!1}return f(e),{update:f,destroy(){r(),n()}}};function ye(t,e){if("button"in t&&t.button>0)return!1;const r=t.target;if(!ae(r))return!1;const n=r.ownerDocument;return!n||!n.documentElement.contains(r)?!1:e&&!Ae(e,r)}function Ae(t,e){return t===e||t.contains(e)}function Ft(t){return(t==null?void 0:t.ownerDocument)??document}function Ut(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=n)}return e}function Wt(t){return function(e,r){if(r===void 0)return;const n=t[e];n&&n.set(r)}}export{Bt as a,Gt as b,$t as c,Ut as d,Wt as e,je as f,Lt as g,Kt as h,Dt as i,It as j,At as k,xe as l,Rt as m,Me as n,xt as o,Ot as p,Mt as r,Te as s,jt as t,qt as u,Ct as w};
