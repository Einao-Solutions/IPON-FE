import{s as pe,d as k,w as me,i as D,g as S,c as A,e as M,j,h as q,k as z,p as he,b as I,o as W,f as J,t as H,A as _e,y as ne,a as ge,n as be}from"./qLIpCCSV.js";import{S as $e,i as ve,d as T,t as b,a as _,g as L,c as R,m as B,e as U,f as V}from"./Bpqo0lwe.js";import{e as X}from"./Dvl1x7Q7.js";import{c as Y,d as ke,a as Ie,e as Ne}from"./CK9aFBdl.js";import{I as ye}from"./yUtJ0l37.js";import"./B7ETfSbN.js";import{I as Ee}from"./DxaiNGYP.js";import{T as we}from"./CtHXF4Up.js";import{t as Q}from"./C8fCgc2Z.js";import{L as te}from"./Bw5Z8-RE.js";import{a as Se,b as je,v as Z,f as x,c as De,s as Ae,e as qe,i as re,d as ee}from"./WlDbmOKK.js";import{o as Oe}from"./SdoELuM3.js";import{B as Pe}from"./Amalccm3.js";function le(s,e,t){const n=s.slice();return n[17]=e[t],n}function ae(s,e,t){const n=s.slice();return n[20]=e[t],n}function Ce(s){let e,t="(Max of 4 images)";return{c(){e=q("p"),e.textContent=t},l(n){e=A(n,"P",{"data-svelte-h":!0}),_e(e)!=="svelte-1l6kde"&&(e.textContent=t)},m(n,u){D(n,e,u)},d(n){n&&k(e)}}}function Me(s){let e,t;function n(...u){return s[12](s[17],...u)}return e=new ye({props:{id:s[17].toString(),accept:s[17]===2?".png, .jpeg, .jpg":".pdf",multiple:s[17]===2,type:"file"}}),e.$on("change",n),{c(){V(e.$$.fragment)},l(u){U(e.$$.fragment,u)},m(u,m){B(e,u,m),t=!0},p(u,m){s=u},i(u){t||(_(e.$$.fragment,u),t=!0)},o(u){b(e.$$.fragment,u),t=!1},d(u){T(e,u)}}}function Te(s){let e,t;function n(...p){return s[10](s[17],...p)}let u=X(s[0].find(n).data.map(ue)),m=[];for(let p=0;p<u.length;p+=1)m[p]=ie(ae(s,u,p));const d=p=>b(m[p],1,1,()=>{m[p]=null});return{c(){for(let p=0;p<m.length;p+=1)m[p].c();e=ne()},l(p){for(let l=0;l<m.length;l+=1)m[l].l(p);e=ne()},m(p,l){for(let r=0;r<m.length;r+=1)m[r]&&m[r].m(p,l);D(p,e,l),t=!0},p(p,l){if(s=p,l&65){u=X(s[0].find(n).data.map(ue));let r;for(r=0;r<u.length;r+=1){const c=ae(s,u,r);m[r]?(m[r].p(c,l),_(m[r],1)):(m[r]=ie(c),m[r].c(),_(m[r],1),m[r].m(e.parentNode,e))}for(L(),r=u.length;r<m.length;r+=1)d(r);R()}},i(p){if(!t){for(let l=0;l<u.length;l+=1)_(m[l]);t=!0}},o(p){m=m.filter(Boolean);for(let l=0;l<m.length;l+=1)b(m[l]);t=!1},d(p){p&&k(e),me(m,p)}}}function Be(s){let e,t;return e=new Ee({props:{icon:"pajamas:remove",width:"1.2rem",height:"1.2rem"}}),{c(){V(e.$$.fragment)},l(n){U(e.$$.fragment,n)},m(n,u){B(e,n,u),t=!0},p:be,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function ie(s){let e,t,n=s[20]+"",u,m,d,p,l;function r(){return s[11](s[17])}return d=new Pe({props:{size:"icon",$$slots:{default:[Be]},$$scope:{ctx:s}}}),d.$on("click",r),{c(){e=q("div"),t=q("p"),u=H(n),m=j(),V(d.$$.fragment),p=j(),this.h()},l(c){e=A(c,"DIV",{class:!0});var g=M(e);t=A(g,"P",{});var N=M(t);u=J(N,n),N.forEach(k),m=S(g),U(d.$$.fragment,g),p=S(g),g.forEach(k),this.h()},h(){W(e,"class","flex items-center space-x-3 border rounded-md p-2")},m(c,g){D(c,e,g),I(e,t),I(t,u),I(e,m),B(d,e,null),I(e,p),l=!0},p(c,g){s=c,(!l||g&1)&&n!==(n=s[20]+"")&&ge(u,n);const N={};g&8388608&&(N.$$scope={dirty:g,ctx:s}),d.$set(N)},i(c){l||(_(d.$$.fragment,c),l=!0)},o(c){b(d.$$.fragment,c),l=!1},d(c){c&&k(e),T(d)}}}function se(s){let e,t;return e=new te({props:{$$slots:{default:[Ue]},$$scope:{ctx:s}}}),{c(){V(e.$$.fragment)},l(n){U(e.$$.fragment,n)},m(n,u){B(e,n,u),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ue(s){let e;return{c(){e=H("Design Representation(s) is required")},l(t){e=J(t,"Design Representation(s) is required")},m(t,n){D(t,e,n)},d(t){t&&k(e)}}}function oe(s){let e,t;return e=new te({props:{$$slots:{default:[Ve]},$$scope:{ctx:s}}}),{c(){V(e.$$.fragment)},l(n){U(e.$$.fragment,n)},m(n,u){B(e,n,u),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Ve(s){let e;return{c(){e=H("Power of Attorney is required")},l(t){e=J(t,"Power of Attorney is required")},m(t,n){D(t,e,n)},d(t){t&&k(e)}}}function fe(s){let e,t;return e=new te({props:{$$slots:{default:[Le]},$$scope:{ctx:s}}}),{c(){V(e.$$.fragment)},l(n){U(e.$$.fragment,n)},m(n,u){B(e,n,u),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){T(e,n)}}}function Le(s){let e;return{c(){e=H("Novelty statement is required")},l(t){e=J(t,"Novelty statement is required")},m(t,n){D(t,e,n)},d(t){t&&k(e)}}}function ce(s){let e,t,n,u=Ne(s[17])+"",m,d,p,l,r,c,g,N,O,y,P,E=s[17]===2&&Ce();const F=[Te,Me],w=[];function G(a,h){return a[1][a[17]]?0:1}r=G(s),c=w[r]=F[r](s);let i=s[17]===2&&s[2]&&se(s),f=s[17]===0&&s[3]&&oe(s),o=s[17]===1&&s[4]&&fe(s);return{c(){e=q("div"),t=q("div"),n=q("p"),m=H(u),d=j(),E&&E.c(),p=j(),l=q("div"),c.c(),g=j(),i&&i.c(),N=j(),f&&f.c(),O=j(),o&&o.c(),y=j(),this.h()},l(a){e=A(a,"DIV",{class:!0});var h=M(e);t=A(h,"DIV",{class:!0});var $=M(t);n=A($,"P",{});var C=M(n);m=J(C,u),C.forEach(k),d=S($),E&&E.l($),$.forEach(k),p=S(h),l=A(h,"DIV",{class:!0});var v=M(l);c.l(v),v.forEach(k),g=S(h),i&&i.l(h),N=S(h),f&&f.l(h),O=S(h),o&&o.l(h),y=S(h),h.forEach(k),this.h()},h(){W(t,"class","flex space-x-3"),W(l,"class","space-y-3"),W(e,"class","p-2 m-2 border rounded-md")},m(a,h){D(a,e,h),I(e,t),I(t,n),I(n,m),I(t,d),E&&E.m(t,null),I(e,p),I(e,l),w[r].m(l,null),I(e,g),i&&i.m(e,null),I(e,N),f&&f.m(e,null),I(e,O),o&&o.m(e,null),I(e,y),P=!0},p(a,h){let $=r;r=G(a),r===$?w[r].p(a,h):(L(),b(w[$],1,1,()=>{w[$]=null}),R(),c=w[r],c?c.p(a,h):(c=w[r]=F[r](a),c.c()),_(c,1),c.m(l,null)),a[17]===2&&a[2]?i?h&4&&_(i,1):(i=se(a),i.c(),_(i,1),i.m(e,N)):i&&(L(),b(i,1,1,()=>{i=null}),R()),a[17]===0&&a[3]?f?h&8&&_(f,1):(f=oe(a),f.c(),_(f,1),f.m(e,O)):f&&(L(),b(f,1,1,()=>{f=null}),R()),a[17]===1&&a[4]?o?h&16&&_(o,1):(o=fe(a),o.c(),_(o,1),o.m(e,y)):o&&(L(),b(o,1,1,()=>{o=null}),R())},i(a){P||(_(c),_(i),_(f),_(o),P=!0)},o(a){b(c),b(i),b(f),b(o),P=!1},d(a){a&&k(e),E&&E.d(),w[r].d(),i&&i.d(),f&&f.d(),o&&o.d()}}}function Re(s){let e,t,n,u;e=new we({});let m=X(Object.values(Y).filter(s[9])),d=[];for(let l=0;l<m.length;l+=1)d[l]=ce(le(s,m,l));const p=l=>b(d[l],1,1,()=>{d[l]=null});return{c(){V(e.$$.fragment),t=j(),n=q("div");for(let l=0;l<d.length;l+=1)d[l].c()},l(l){U(e.$$.fragment,l),t=S(l),n=A(l,"DIV",{});var r=M(n);for(let c=0;c<d.length;c+=1)d[c].l(r);r.forEach(k)},m(l,r){B(e,l,r),D(l,t,r),D(l,n,r);for(let c=0;c<d.length;c+=1)d[c]&&d[c].m(n,null);u=!0},p(l,[r]){if(r&127){m=X(Object.values(Y).filter(l[9]));let c;for(c=0;c<m.length;c+=1){const g=le(l,m,c);d[c]?(d[c].p(g,r),_(d[c],1)):(d[c]=ce(g),d[c].c(),_(d[c],1),d[c].m(n,null))}for(L(),c=m.length;c<d.length;c+=1)p(c);R()}},i(l){if(!u){_(e.$$.fragment,l);for(let r=0;r<m.length;r+=1)_(d[r]);u=!0}},o(l){b(e.$$.fragment,l),d=d.filter(Boolean);for(let r=0;r<d.length;r+=1)b(d[r]);u=!1},d(l){l&&(k(t),k(n)),T(e,l),me(d,l)}}}const ue=s=>s.fileName;function ze(s,e,t){let n,u,m,d,p;z(s,Se,i=>t(7,n=i)),z(s,je,i=>t(8,u=i)),z(s,Z,i=>t(13,m=i)),z(s,x,i=>t(14,d=i)),z(s,De,i=>t(15,p=i));let l={},r=[],c=!1,g=!1,N=!1;Ae.subscribe(i=>{i==="attachments"&&p===4&&(d===null?x.set([{name:"attachments",data:r}]):x.update(f=>{let o=f.findIndex(a=>a.name==="attachments");return o!==-1?f[o].data=r:f.push({name:"attachments",data:r}),[...f]}))}),qe.subscribe(i=>{if(i==="attachments"){const f=P();m===null?Z.set([{name:"attachments",status:f}]):Z.update(o=>{o=o;const a=o.findIndex(h=>h.name==="attachments");return a===-1?o.push({name:"attachments",status:f}):o[a].status=f,[...o]})}}),he(()=>{var f;let i=d==null?void 0:d.find(o=>o.name==="attachments");if(u===2){const o=((f=d==null?void 0:d.filter(a=>a.name==="attachments")[0])==null?void 0:f.data)??[];if(o&&o.length>0){t(0,r=o);for(let a=0;a<r.length;a++)t(1,l[r[a].type]=!0,l);m!=null&&m.find(a=>a.name==="attachments")&&P()}}if(u==1){const o=JSON.parse(JSON.stringify(n==null?void 0:n.attachments)),a=i?i.data:o;if(i)t(0,r=[...i.data]),r.forEach(h=>t(1,l[h.type]=!0,l));else{let h=[];a.forEach($=>{let C=$.url,v=[];C.forEach(K=>{v.push({fileName:K,url:K})}),h.push({type:ke($.name),data:v})}),t(0,r=[...h]),r.forEach($=>t(1,l[$.type]=!0,l))}}});async function O(i,f){const o=f==null?void 0:f.target;if(o.files){if(o.files.length>4){y(i),Q.error("maximum of 4 images",{position:"top-right"});return}for(let a=0;a<o.files.length;a++)if(o.files[a].size>5e6){y(i),Q.error("maximum file size of 5MB exceeded",{position:"top-right"});return}for(let a=0;a<o.files.length;a++){const h=o.files[a].type;if(!["image/jpeg","image/png"].includes(h)&&i===2){y(i),Q.error("unsupported file type, .png, .jpeg only are supported",{position:"top-right"});return}if(!["application/pdf"].includes(h)&&i!==2){y(i),Q.error("unsupported file type, only pdf is supported",{position:"top-right"});return}let $=URL.createObjectURL(o.files[a]);const C=Object.values(Y).filter(v=>isNaN(v));r.find(v=>v.type===i)?(r[r.findIndex(v=>v.type===i)].data.push({url:$,fileName:o.files[a].name}),ee.update(v=>{const K=v.findIndex(de=>de.name===C[i].toString());return v[K].data.push(o.files[a]),v})):(ee.update(v=>(v.push({name:C[i].toString(),data:[o.files[a]]}),v)),r.push({type:i,data:[{url:$,fileName:o.files[a].name}]}))}t(1,l[i]=!0,l)}}function y(i){const f=Object.values(Y).filter(a=>isNaN(a));ee.update(a=>{const h=a.findIndex($=>$.name===f[i].toString());return h!=-1&&a.splice(h,1),a}),t(1,l[i]=!1,l);const o=r.findIndex(a=>a.type===i);r.splice(o,1),t(0,r=[...r])}function P(){const i=r.find(a=>a.type===0),f=r.find(a=>a.type===1),o=r.find(a=>a.type===2);return i===void 0||f===void 0||o===void 0?(t(3,g=i===void 0),t(4,N=f===void 0),t(2,c=o===void 0),!1):!0}const E=i=>!isNaN(i),F=(i,f)=>f.type===i,w=i=>y(i),G=(i,f)=>O(i,f);return s.$$.update=()=>{if(s.$$.dirty&385&&u===1){const i=[];r.forEach(f=>{const{type:o,data:a}=f;i.push({name:Ie(o),url:a.map(h=>h.url)??""})}),Oe(i,n==null?void 0:n.attachments)?re.update(f=>{f=f??[];let o=f.findIndex(a=>a.name==="attachments");return o!==-1?f[o].hasChanges=!0:f.push({name:"attachments",hasChanges:!0}),[...f]}):re.update(f=>{f=f??[];let o=f.findIndex(a=>a.name=="attachments");return o!==-1?(f.splice(o,1),[...f]):[...f]})}},[r,l,c,g,N,O,y,n,u,E,F,w,G]}class nt extends $e{constructor(e){super(),ve(this,e,ze,Re,pe,{})}}export{nt as default};
