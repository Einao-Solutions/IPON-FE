import{s as z,d as C,i as P,y as O,P as A,k as ce,N as S,Q as B,q as M,u as N,r as j,v as E,C as me,O as q,_ as he,z as w,c as J,e as Q,h as T,J as y,l as W,m as be,o as ge,g as pe,j as ke,n as Re,B as D}from"./qLIpCCSV.js";import{S as G,i as K,t as k,a as p,g as U,c as X,b as ve,d as Y,m as Z,e as x,f as $}from"./Bpqo0lwe.js";import{g as ee,a as Ce}from"./CgU5AtxT.js";import"./BjHBLxYU.js";import{s as Se,g as Ie,b as we}from"./BL13k18Y.js";import{c as ye}from"./BAUTOd84.js";import{C as Fe}from"./Drqo1roE.js";import{c as te}from"./DWvZnbys.js";import{w as H,d as v}from"./CWqQW7tL.js";import{n as se}from"./My6h1Ttu.js";import{r as ae}from"./C7vOgjAg.js";const Pe=t=>({builder:t&4}),ne=t=>({builder:t[2]}),Ae=t=>({builder:t&4}),le=t=>({builder:t[2]});function Me(t){let e,n,s,l;const a=t[11].default,o=M(a,t,t[10],ne);let i=[t[2],t[5]],r={};for(let c=0;c<i.length;c+=1)r=S(r,i[c]);return{c(){e=T("div"),o&&o.c(),this.h()},l(c){e=J(c,"DIV",{});var d=Q(e);o&&o.l(d),d.forEach(C),this.h()},h(){q(e,r)},m(c,d){P(c,e,d),o&&o.m(e,null),t[13](e),n=!0,s||(l=[he(t[2].action(e)),w(e,"m-click",t[4]),w(e,"m-focusin",t[4]),w(e,"m-focusout",t[4]),w(e,"m-keydown",t[4]),w(e,"m-pointerdown",t[4]),w(e,"m-pointerleave",t[4]),w(e,"m-pointermove",t[4]),w(e,"pointerenter",t[12])],s=!0)},p(c,d){o&&o.p&&(!n||d&1028)&&N(o,a,c,c[10],n?E(a,c[10],d,Pe):j(c[10]),ne),q(e,r=ee(i,[d&4&&c[2],d&32&&c[5]]))},i(c){n||(p(o,c),n=!0)},o(c){k(o,c),n=!1},d(c){c&&C(e),o&&o.d(c),t[13](null),s=!1,me(l)}}}function Ne(t){let e;const n=t[11].default,s=M(n,t,t[10],le);return{c(){s&&s.c()},l(l){s&&s.l(l)},m(l,a){s&&s.m(l,a),e=!0},p(l,a){s&&s.p&&(!e||a&1028)&&N(s,n,l,l[10],e?E(n,l[10],a,Ae):j(l[10]),le)},i(l){e||(p(s,l),e=!0)},o(l){k(s,l),e=!1},d(l){s&&s.d(l)}}}function je(t){let e,n,s,l;const a=[Ne,Me],o=[];function i(r,c){return r[1]?0:1}return e=i(t),n=o[e]=a[e](t),{c(){n.c(),s=O()},l(r){n.l(r),s=O()},m(r,c){o[e].m(r,c),P(r,s,c),l=!0},p(r,[c]){let d=e;e=i(r),e===d?o[e].p(r,c):(U(),k(o[d],1,1,()=>{o[d]=null}),X(),n=o[e],n?n.p(r,c):(n=o[e]=a[e](r),n.c()),p(n,1),n.m(s.parentNode,s))},i(r){l||(p(n),l=!0)},o(r){k(n),l=!1},d(r){r&&C(s),o[e].d(r)}}}function Ee(t,e,n){let s;const l=["checked","onCheckedChange","disabled","asChild","el"];let a=A(e,l),o,{$$slots:i={},$$scope:r}=e,{checked:c=void 0}=e,{onCheckedChange:d=void 0}=e,{disabled:h=void 0}=e,{asChild:R=!1}=e,{el:g=void 0}=e;const{elements:{checkboxItem:u},states:{checked:_},updateOption:m,getAttrs:f}=Se({disabled:h,defaultChecked:c,onCheckedChange:({next:b})=>(c!==b&&(d==null||d(b),n(6,c=b)),b)});ce(t,u,b=>n(9,o=b));const I=ye(),V=f("checkbox-item");function fe(b){y.call(this,t,b)}function _e(b){W[b?"unshift":"push"](()=>{g=b,n(0,g)})}return t.$$set=b=>{e=S(S({},e),B(b)),n(5,a=A(e,l)),"checked"in b&&n(6,c=b.checked),"onCheckedChange"in b&&n(7,d=b.onCheckedChange),"disabled"in b&&n(8,h=b.disabled),"asChild"in b&&n(1,R=b.asChild),"el"in b&&n(0,g=b.el),"$$scope"in b&&n(10,r=b.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&c!==void 0&&_.set(c),t.$$.dirty&256&&m("disabled",h),t.$$.dirty&512&&n(2,s=o),t.$$.dirty&4&&Object.assign(s,V)},[g,R,s,u,I,a,c,d,h,o,r,i,fe,_e]}class Ve extends G{constructor(e){super(),K(this,e,Ee,je,z,{checked:6,onCheckedChange:7,disabled:8,asChild:1,el:0})}}const De=t=>({checked:t&4}),oe=t=>({attrs:t[4],checked:t[2]}),Oe=t=>({checked:t&4}),ie=t=>({attrs:t[4],checked:t[2]});function qe(t){let e,n,s=t[2]&&re(t),l=[t[5],t[4]],a={};for(let o=0;o<l.length;o+=1)a=S(a,l[o]);return{c(){e=T("div"),s&&s.c(),this.h()},l(o){e=J(o,"DIV",{});var i=Q(e);s&&s.l(i),i.forEach(C),this.h()},h(){q(e,a)},m(o,i){P(o,e,i),s&&s.m(e,null),t[8](e),n=!0},p(o,i){o[2]?s?(s.p(o,i),i&4&&p(s,1)):(s=re(o),s.c(),p(s,1),s.m(e,null)):s&&(U(),k(s,1,1,()=>{s=null}),X()),q(e,a=ee(l,[i&32&&o[5],o[4]]))},i(o){n||(p(s),n=!0)},o(o){k(s),n=!1},d(o){o&&C(e),s&&s.d(),t[8](null)}}}function He(t){let e;const n=t[7].default,s=M(n,t,t[6],ie);return{c(){s&&s.c()},l(l){s&&s.l(l)},m(l,a){s&&s.m(l,a),e=!0},p(l,a){s&&s.p&&(!e||a&68)&&N(s,n,l,l[6],e?E(n,l[6],a,Oe):j(l[6]),ie)},i(l){e||(p(s,l),e=!0)},o(l){k(s,l),e=!1},d(l){s&&s.d(l)}}}function re(t){let e;const n=t[7].default,s=M(n,t,t[6],oe);return{c(){s&&s.c()},l(l){s&&s.l(l)},m(l,a){s&&s.m(l,a),e=!0},p(l,a){s&&s.p&&(!e||a&68)&&N(s,n,l,l[6],e?E(n,l[6],a,De):j(l[6]),oe)},i(l){e||(p(s,l),e=!0)},o(l){k(s,l),e=!1},d(l){s&&s.d(l)}}}function Le(t){let e,n,s,l;const a=[He,qe],o=[];function i(r,c){return r[1]?0:1}return e=i(t),n=o[e]=a[e](t),{c(){n.c(),s=O()},l(r){n.l(r),s=O()},m(r,c){o[e].m(r,c),P(r,s,c),l=!0},p(r,[c]){let d=e;e=i(r),e===d?o[e].p(r,c):(U(),k(o[d],1,1,()=>{o[d]=null}),X(),n=o[e],n?n.p(r,c):(n=o[e]=a[e](r),n.c()),p(n,1),n.m(s.parentNode,s))},i(r){l||(p(n),l=!0)},o(r){k(n),l=!1},d(r){r&&C(s),o[e].d(r)}}}function ze(t,e,n){const s=["asChild","el"];let l=A(e,s),a,{$$slots:o={},$$scope:i}=e,{asChild:r=!1}=e,{el:c=void 0}=e;const d=Ie();ce(t,d,u=>n(2,a=u));const{getAttrs:h}=we(),R=h("checkbox-indicator");function g(u){W[u?"unshift":"push"](()=>{c=u,n(0,c)})}return t.$$set=u=>{e=S(S({},e),B(u)),n(5,l=A(e,s)),"asChild"in u&&n(1,r=u.asChild),"el"in u&&n(0,c=u.el),"$$scope"in u&&n(6,i=u.$$scope)},[c,r,a,d,R,l,i,o,g]}class Be extends G{constructor(e){super(),K(this,e,ze,Le,z,{asChild:1,el:0})}}function Je(t){let e,n;return e=new Fe({props:{class:"h-4 w-4"}}),{c(){$(e.$$.fragment)},l(s){x(e.$$.fragment,s)},m(s,l){Z(e,s,l),n=!0},p:Re,i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){k(e.$$.fragment,s),n=!1},d(s){Y(e,s)}}}function Qe(t){let e,n,s,l;n=new Be({props:{$$slots:{default:[Je]},$$scope:{ctx:t}}});const a=t[3].default,o=M(a,t,t[12],null);return{c(){e=T("span"),$(n.$$.fragment),s=ke(),o&&o.c(),this.h()},l(i){e=J(i,"SPAN",{class:!0});var r=Q(e);x(n.$$.fragment,r),r.forEach(C),s=pe(i),o&&o.l(i),this.h()},h(){ge(e,"class","absolute left-2 flex h-3.5 w-3.5 items-center justify-center")},m(i,r){P(i,e,r),Z(n,e,null),P(i,s,r),o&&o.m(i,r),l=!0},p(i,r){const c={};r&4096&&(c.$$scope={dirty:r,ctx:i}),n.$set(c),o&&o.p&&(!l||r&4096)&&N(o,a,i,i[12],l?E(a,i[12],r,null):j(i[12]),null)},i(i){l||(p(n.$$.fragment,i),p(o,i),l=!0)},o(i){k(n.$$.fragment,i),k(o,i),l=!1},d(i){i&&(C(e),C(s)),Y(n),o&&o.d(i)}}}function Te(t){let e,n,s;const l=[{class:te("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t[1])},t[2]];function a(i){t[4](i)}let o={$$slots:{default:[Qe]},$$scope:{ctx:t}};for(let i=0;i<l.length;i+=1)o=S(o,l[i]);return t[0]!==void 0&&(o.checked=t[0]),e=new Ve({props:o}),W.push(()=>ve(e,"checked",a)),e.$on("click",t[5]),e.$on("keydown",t[6]),e.$on("focusin",t[7]),e.$on("focusout",t[8]),e.$on("pointerdown",t[9]),e.$on("pointerleave",t[10]),e.$on("pointermove",t[11]),{c(){$(e.$$.fragment)},l(i){x(e.$$.fragment,i)},m(i,r){Z(e,i,r),s=!0},p(i,[r]){const c=r&6?ee(l,[r&2&&{class:te("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i[1])},r&4&&Ce(i[2])]):{};r&4096&&(c.$$scope={dirty:r,ctx:i}),!n&&r&1&&(n=!0,c.checked=i[0],be(()=>n=!1)),e.$set(c)},i(i){s||(p(e.$$.fragment,i),s=!0)},o(i){k(e.$$.fragment,i),s=!1},d(i){Y(e,i)}}}function We(t,e,n){const s=["class","checked"];let l=A(e,s),{$$slots:a={},$$scope:o}=e,{class:i=void 0}=e,{checked:r=void 0}=e;function c(f){r=f,n(0,r)}function d(f){y.call(this,t,f)}function h(f){y.call(this,t,f)}function R(f){y.call(this,t,f)}function g(f){y.call(this,t,f)}function u(f){y.call(this,t,f)}function _(f){y.call(this,t,f)}function m(f){y.call(this,t,f)}return t.$$set=f=>{e=S(S({},e),B(f)),n(2,l=A(e,s)),"class"in f&&n(1,i=f.class),"checked"in f&&n(0,r=f.checked),"$$scope"in f&&n(12,o=f.$$scope)},[r,i,l,a,c,d,h,R,g,u,_,m,o]}class ot extends G{constructor(e){super(),K(this,e,We,Te,z,{class:1,checked:0})}}const Ge=({filterValue:t,value:e})=>t===""?!0:String(e).toLowerCase().startsWith(String(t).toLowerCase()),it=({initialHiddenColumnIds:t=[]}={})=>()=>{const e=H(t);return{pluginState:{hiddenColumnIds:e},deriveFlatColumns:l=>v([l,e],([a,o])=>o.length===0?a:a.filter(i=>!o.includes(i.id)))}},F=(t,e,n)=>t.isData()&&(!n||t.subRows===void 0)?e[t.dataId]===!0:t.subRows===void 0?!1:t.subRows.every(s=>F(s,e,n)),L=(t,e,n)=>t.isData()&&(!n||t.subRows===void 0)?e[t.dataId]===!0:t.subRows===void 0?!1:t.subRows.some(s=>L(s,e,n)),ue=(t,e,n,s)=>{t.isData()&&(n[t.dataId]=e,!s)||t.subRows!==void 0&&t.subRows.forEach(l=>{ue(l,e,n,s)})},Ke=(t,e,n)=>{const{subscribe:s}=v(e,o=>{if(t.isData()){if(!n)return o[t.dataId]===!0;if(o[t.dataId]===!0)return!0}return F(t,o,n)}),l=o=>{e.update(i=>{const r=F(t,i,n),c={...i};return ue(t,o(r),c,n),t.parentRow!==void 0&&t.parentRow.isData()&&(c[t.parentRow.dataId]=F(t.parentRow,c,n)),c})};return{subscribe:s,update:l,set:o=>l(()=>o)}},rt=({initialSelectedDataIds:t={},linkDataSubRows:e=!0}={})=>({tableState:n})=>{const s=ae(t),l=u=>{const _=Ke(u,s,e),m=v([_,s],([I,V])=>I?!1:L(u,V,e)),f=v(s,I=>F(u,I,e));return{isSelected:_,isSomeSubRowsSelected:m,isAllSubRowsSelected:f}},a=v([n.rows,s],([u,_])=>u.every(m=>m.isData()?_[m.dataId]===!0:!0)),o=u=>{if(u){const m=D(n.rows).map(f=>f.isData()?f.dataId:null).filter(se);s.addAll(m)}else s.clear()},i={subscribe:a.subscribe,update(u){const _=D(a);o(u(_))},set:o},r=v([n.rows,s],([u,_])=>u.some(m=>m.isData()?_[m.dataId]===!0:!1)),c=v([n.pageRows,s],([u,_])=>u.every(m=>m.isData()?_[m.dataId]===!0:!0)),d=u=>{const m=D(n.pageRows).map(f=>f.isData()?f.dataId:null).filter(se);u?s.addAll(m):s.removeAll(m)},h={subscribe:c.subscribe,update(u){const _=D(c);d(u(_))},set:d},R=v([n.pageRows,s],([u,_])=>u.some(m=>m.isData()?_[m.dataId]===!0:!1));return{pluginState:{selectedDataIds:s,getRowState:l,allRowsSelected:i,someRowsSelected:r,allPageRowsSelected:h,somePageRowsSelected:R},hooks:{"tbody.tr":u=>({props:v(s,m=>{const f=L(u,m,e),I=F(u,m,e);return{selected:u.isData()?m[u.dataId]===!0:I,someSubRowsSelected:f,allSubRowsSelected:I}})})}}},de=(t,e,n,{tableCellMatches:s,fn:l,includeHiddenColumns:a})=>t.map(i=>{const{subRows:r}=i;if(r===void 0)return i;const c=de(r,e,n,{tableCellMatches:s,fn:l,includeHiddenColumns:a}),d=i.clone();return d.subRows=c,d}).filter(i=>{var c;return(((c=i.subRows)==null?void 0:c.length)??0)!==0?!0:Object.values(i.cellForId).map(d=>{const h=n[d.id];if((h==null?void 0:h.exclude)===!0||i.cells.find(_=>_.id===d.id)===void 0&&!a||!d.isData())return!1;let g=d.value;(h==null?void 0:h.getFilterValue)!==void 0&&(g=h==null?void 0:h.getFilterValue(g));const u=l({value:String(g),filterValue:e});if(u){const _=d.dataRowColId();_!==void 0&&(s[_]=u)}return u}).includes(!0)}),ct=({fn:t=Ge,initialFilterValue:e="",includeHiddenColumns:n=!1,serverSide:s=!1}={})=>({columnOptions:l})=>{const a=H(e),o=H([]),i=ae();return{pluginState:{filterValue:a,preFilteredRows:o},deriveRows:d=>v([d,a],([h,R])=>{o.set(h),i.clear();const g={},u=de(h,R,l,{tableCellMatches:g,fn:t,includeHiddenColumns:n});return i.set(g),s?h:u}),hooks:{"tbody.tr.td":d=>({props:v([a,i],([R,g])=>{const u=d.dataRowColId();return{matches:R!==""&&u!==void 0&&(g[u]??!1)}})})}}};export{ot as D,rt as a,it as b,ct as c};
