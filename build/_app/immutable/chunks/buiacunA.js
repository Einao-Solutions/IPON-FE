import{S as be,i as ve,s as we,m as ee,o as te,d as $,p as C,q as d,r as _,u as ne,w as I,b as v,y as S,h as T,e as B,f as O,z as E,k as j,j as F,l as ke,F as G,v as H,I as J,c as P,x as L,K as se,a as le,g as U,t as y,G as ge,n as fe,J as Ce,H as Ie}from"./Cccy056x.js";import{e as re}from"./ByixyIeQ.js";import"./IHki7fMi.js";import{R as Se}from"./BbVspNW5.js";import"./wWsnzFBw.js";import"./R6lDc60d.js";import{R as Ee,T as De,P as Ne,C as Te,a as je,b as Pe,c as Be,d as Fe}from"./D5XyjzYG.js";import{c as ae}from"./CHTXgCkK.js";import{b as ie}from"./kzloY8Fw.js";import"./Mi5ChQ-_.js";import{I as de}from"./DQ1KgJGZ.js";import{C as Ve}from"./iVnb-yhX.js";import{T as Ae}from"./CXG556D5.js";import{I as ue}from"./CyluoF3k.js";import{L as Oe}from"./C1SE41V3.js";import{t as x}from"./rg3ioSbs.js";import{S as Ue}from"./BY4KOlQW.js";import{l as ye}from"./DA3sRRUG.js";import{S as Re}from"./C8XMDHA_.js";import{S as ze,a as qe}from"./BVhlSvu8.js";import{S as Le}from"./CAvpk0T-.js";import{B as M}from"./BCzZLC02.js";import{C as Je}from"./BjDrOZgJ.js";function ce(a,e,n){const t=a.slice();return t[28]=e[n],t}function $e(a,e,n){const t=a.slice();return t[32]=e[n],t}function Me(a){let e;return{c(){e=y("New Ticket")},l(n){e=U(n,"New Ticket")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function Ge(a){let e;return{c(){e=y("Select affected files, Enter details and attachments(if any)")},l(n){e=U(n,"Select affected files, Enter details and attachments(if any)")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function He(a){let e,n,t,l;return e=new qe({props:{$$slots:{default:[Me]},$$scope:{ctx:a}}}),t=new Le({props:{$$slots:{default:[Ge]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment),n=j(),E(t.$$.fragment)},l(s){S(e.$$.fragment,s),n=T(s),S(t.$$.fragment,s)},m(s,r){I(e,s,r),v(s,n,r),I(t,s,r),l=!0},p(s,r){const o={};r[1]&16&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const f={};r[1]&16&&(f.$$scope={dirty:r,ctx:s}),t.$set(f)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),l=!1},d(s){s&&$(n),C(e,s),C(t,s)}}}function Ke(a){let e,n,t,l,s,r;function o(i,u){return i[6]==="success"?Ye:Xe}let f=o(a),c=f(a);return s=new M({props:{$$slots:{default:[Ze]},$$scope:{ctx:a}}}),s.$on("click",a[23]),{c(){c.c(),e=j(),n=F("p"),t=y(a[6]),l=j(),E(s.$$.fragment)},l(i){c.l(i),e=T(i),n=B(i,"P",{});var u=O(n);t=U(u,a[6]),u.forEach($),l=T(i),S(s.$$.fragment,i)},m(i,u){c.m(i,u),v(i,e,u),v(i,n,u),P(n,t),v(i,l,u),I(s,i,u),r=!0},p(i,u){f!==(f=o(i))&&(c.d(1),c=f(i),c&&(c.c(),c.m(e.parentNode,e))),(!r||u[0]&64)&&le(t,i[6]);const m={};u[1]&16&&(m.$$scope={dirty:u,ctx:i}),s.$set(m)},i(i){r||(_(s.$$.fragment,i),r=!0)},o(i){d(s.$$.fragment,i),r=!1},d(i){i&&($(e),$(n),$(l)),c.d(i),C(s,i)}}}function We(a){let e,n,t="Are you sure you want to create the ticket?",l,s,r,o,f,c;return r=new M({props:{variant:"outline",$$slots:{default:[xe]},$$scope:{ctx:a}}}),f=new M({props:{disabled:a[7],$$slots:{default:[et]},$$scope:{ctx:a}}}),f.$on("click",a[22]),{c(){e=F("div"),n=F("p"),n.textContent=t,l=j(),s=F("div"),E(r.$$.fragment),o=j(),E(f.$$.fragment),this.h()},l(i){e=B(i,"DIV",{class:!0});var u=O(e);n=B(u,"P",{"data-svelte-h":!0}),se(n)!=="svelte-hrewik"&&(n.textContent=t),l=T(u),s=B(u,"DIV",{class:!0});var m=O(s);S(r.$$.fragment,m),o=T(m),S(f.$$.fragment,m),m.forEach($),u.forEach($),this.h()},h(){L(s,"class","flex justify-end space-x-5"),L(e,"class","flex flex-col space-y-5 my-4")},m(i,u){v(i,e,u),P(e,n),P(e,l),P(e,s),I(r,s,null),P(s,o),I(f,s,null),c=!0},p(i,u){const m={};u[1]&16&&(m.$$scope={dirty:u,ctx:i}),r.$set(m);const p={};u[0]&128&&(p.disabled=i[7]),u[0]&128|u[1]&16&&(p.$$scope={dirty:u,ctx:i}),f.$set(p)},i(i){c||(_(r.$$.fragment,i),_(f.$$.fragment,i),c=!0)},o(i){d(r.$$.fragment,i),d(f.$$.fragment,i),c=!1},d(i){i&&$(e),C(r),C(f)}}}function Qe(a){let e,n,t,l,s,r,o,f,c,i,u,m,p,w,V,h,N,k=a[1]!==null&&pe(a);function z(g){a[17](g)}let K={placeholder:"Briefly describe the title"};a[9]!==void 0&&(K.value=a[9]),t=new ue({props:K}),ee.push(()=>te(t,"value",z));function oe(g){a[18](g)}let W={class:"min-h-24 mt-3",placeholder:"What's the issue you are facing?"};return a[8]!==void 0&&(W.value=a[8]),r=new Ae({props:W}),ee.push(()=>te(r,"value",oe)),c=new ue({props:{id:"picture",type:"file",class:"mt-3",accept:".pdf, .jpg, .png, .jpeg",multiple:!1}}),c.$on("change",a[19]),u=new Oe({props:{for:"picture",$$slots:{default:[ct]},$$scope:{ctx:a}}}),w=new M({props:{variant:"outline",$$slots:{default:[$t]},$$scope:{ctx:a}}}),w.$on("click",a[20]),h=new M({props:{$$slots:{default:[pt]},$$scope:{ctx:a}}}),h.$on("click",a[21]),{c(){e=F("div"),k&&k.c(),n=j(),E(t.$$.fragment),s=j(),E(r.$$.fragment),f=j(),E(c.$$.fragment),i=j(),E(u.$$.fragment),m=j(),p=F("div"),E(w.$$.fragment),V=j(),E(h.$$.fragment),this.h()},l(g){e=B(g,"DIV",{});var D=O(e);k&&k.l(D),n=T(D),S(t.$$.fragment,D),s=T(D),S(r.$$.fragment,D),f=T(D),S(c.$$.fragment,D),i=T(D),S(u.$$.fragment,D),D.forEach($),m=T(g),p=B(g,"DIV",{class:!0});var q=O(p);S(w.$$.fragment,q),V=T(q),S(h.$$.fragment,q),q.forEach($),this.h()},h(){L(p,"class","flex justify-end gap-4 mt-10")},m(g,D){v(g,e,D),k&&k.m(e,null),P(e,n),I(t,e,null),P(e,s),I(r,e,null),P(e,f),I(c,e,null),P(e,i),I(u,e,null),v(g,m,D),v(g,p,D),I(w,p,null),P(p,V),I(h,p,null),N=!0},p(g,D){g[1]!==null?k?(k.p(g,D),D[0]&2&&_(k,1)):(k=pe(g),k.c(),_(k,1),k.m(e,n)):k&&(G(),d(k,1,1,()=>{k=null}),H());const q={};!l&&D[0]&512&&(l=!0,q.value=g[9],ne(()=>l=!1)),t.$set(q);const Q={};!o&&D[0]&256&&(o=!0,Q.value=g[8],ne(()=>o=!1)),r.$set(Q);const X={};D[1]&16&&(X.$$scope={dirty:D,ctx:g}),u.$set(X);const Y={};D[1]&16&&(Y.$$scope={dirty:D,ctx:g}),w.$set(Y);const Z={};D[1]&16&&(Z.$$scope={dirty:D,ctx:g}),h.$set(Z)},i(g){N||(_(k),_(t.$$.fragment,g),_(r.$$.fragment,g),_(c.$$.fragment,g),_(u.$$.fragment,g),_(w.$$.fragment,g),_(h.$$.fragment,g),N=!0)},o(g){d(k),d(t.$$.fragment,g),d(r.$$.fragment,g),d(c.$$.fragment,g),d(u.$$.fragment,g),d(w.$$.fragment,g),d(h.$$.fragment,g),N=!1},d(g){g&&($(e),$(m),$(p)),k&&k.d(),C(t),C(r),C(c),C(u),C(w),C(h)}}}function Xe(a){let e,n="Failed to create ticket, please try again later";return{c(){e=F("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),se(e)!=="svelte-1ma02mf"&&(e.textContent=n)},m(t,l){v(t,e,l)},d(t){t&&$(e)}}}function Ye(a){let e,n="Saved new ticket successfully, you would be notified when there is a response";return{c(){e=F("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),se(e)!=="svelte-1mr70yz"&&(e.textContent=n)},m(t,l){v(t,e,l)},d(t){t&&$(e)}}}function Ze(a){let e;return{c(){e=y("Ok")},l(n){e=U(n,"Ok")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function xe(a){let e;return{c(){e=y("Cancel")},l(n){e=U(n,"Cancel")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function et(a){let e,n,t;return e=new de({props:{class:a[7]?"":"hidden",icon:"eos-icons:loading",width:"1.2rem",height:"1.2rem"}}),{c(){E(e.$$.fragment),n=y(`\r
							Continue`)},l(l){S(e.$$.fragment,l),n=U(l,`\r
							Continue`)},m(l,s){I(e,l,s),v(l,n,s),t=!0},p(l,s){const r={};s[0]&128&&(r.class=l[7]?"":"hidden"),e.$set(r)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&$(n),C(e,l)}}}function pe(a){let e,n,t;function l(r){a[16](r)}let s={$$slots:{default:[ut]},$$scope:{ctx:a}};return a[4]!==void 0&&(s.open=a[4]),e=new Ee({props:s}),ee.push(()=>te(e,"open",l)),{c(){E(e.$$.fragment)},l(r){S(e.$$.fragment,r)},m(r,o){I(e,r,o),t=!0},p(r,o){const f={};o[0]&11|o[1]&16&&(f.$$scope={dirty:o,ctx:r}),!n&&o[0]&16&&(n=!0,f.open=r[4],ne(()=>n=!1)),e.$set(f)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){d(e.$$.fragment,r),t=!1},d(r){C(e,r)}}}function tt(a){let e,n="Select files";return{c(){e=F("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),se(e)!=="svelte-1cl1ft"&&(e.textContent=n)},m(t,l){v(t,e,l)},p:fe,i:fe,o:fe,d(t){t&&$(e)}}}function nt(a){let e,n,t=re(a[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=me($e(a,t,r));const s=r=>d(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=J()},l(r){for(let o=0;o<l.length;o+=1)l[o].l(r);e=J()},m(r,o){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,o);v(r,e,o),n=!0},p(r,o){if(o[0]&1026){t=re(r[1]);let f;for(f=0;f<t.length;f+=1){const c=$e(r,t,f);l[f]?(l[f].p(c,o),_(l[f],1)):(l[f]=me(c),l[f].c(),_(l[f],1),l[f].m(e.parentNode,e))}for(G(),f=t.length;f<l.length;f+=1)s(f);H()}},i(r){if(!n){for(let o=0;o<t.length;o+=1)_(l[o]);n=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)d(l[o]);n=!1},d(r){r&&$(e),ge(l,r)}}}function me(a){let e,n,t=a[32].fileID+"",l,s,r,o,f,c,i,u;o=new de({props:{class:"w-5 h-5 p-0",icon:"material-symbols-light:cancel-outline"}});function m(){return a[14](a[32])}return{c(){e=F("div"),n=F("p"),l=y(t),s=j(),r=F("div"),E(o.$$.fragment),f=j(),this.h()},l(p){e=B(p,"DIV",{class:!0,style:!0});var w=O(e);n=B(w,"P",{});var V=O(n);l=U(V,t),V.forEach($),s=T(w),r=B(w,"DIV",{class:!0});var h=O(r);S(o.$$.fragment,h),h.forEach($),f=T(w),w.forEach($),this.h()},h(){L(r,"class","w-6 flex h-6 items-center justify-center border rounded-md"),L(e,"class","flex gap-1 items-center p-0.5 border w-fit rounded-md"),Ie(e,"font-size","12px")},m(p,w){v(p,e,w),P(e,n),P(n,l),P(e,s),P(e,r),I(o,r,null),P(e,f),c=!0,i||(u=Ce(r,"click",m),i=!0)},p(p,w){a=p,(!c||w[0]&2)&&t!==(t=a[32].fileID+"")&&le(l,t)},i(p){c||(_(o.$$.fragment,p),c=!0)},o(p){d(o.$$.fragment,p),c=!1},d(p){p&&$(e),C(o),i=!1,u()}}}function lt(a){var i;let e,n,t,l,s,r;const o=[nt,tt],f=[];function c(u,m){return u[1]&&u[1].length>0?0:1}return n=c(a),t=f[n]=o[n](a),s=new Je({props:{class:"ml-2 h-4 w-4 shrink-0 opacity-50 "+(((i=a[1])==null?void 0:i.length)>0?"hidden":"")+" "}}),{c(){e=F("div"),t.c(),l=j(),E(s.$$.fragment),this.h()},l(u){e=B(u,"DIV",{class:!0});var m=O(e);t.l(m),m.forEach($),l=T(u),S(s.$$.fragment,u),this.h()},h(){L(e,"class","grid sm:grid-cols-2 grid-cols-3 gap-1")},m(u,m){v(u,e,m),f[n].m(e,null),v(u,l,m),I(s,u,m),r=!0},p(u,m){var V;let p=n;n=c(u),n===p?f[n].p(u,m):(G(),d(f[p],1,1,()=>{f[p]=null}),H(),t=f[n],t?t.p(u,m):(t=f[n]=o[n](u),t.c()),_(t,1),t.m(e,null));const w={};m[0]&2&&(w.class="ml-2 h-4 w-4 shrink-0 opacity-50 "+(((V=u[1])==null?void 0:V.length)>0?"hidden":"")+" "),s.$set(w)},i(u){r||(_(t),_(s.$$.fragment,u),r=!0)},o(u){d(t),d(s.$$.fragment,u),r=!1},d(u){u&&($(e),$(l)),f[n].d(),C(s,u)}}}function rt(a){let e,n;return e=new M({props:{builders:[a[31]],variant:"outline",role:"combobox","aria-expanded":a[0],class:"w-full h-fit justify-between",$$slots:{default:[lt]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p(t,l){const s={};l[1]&1&&(s.builders=[t[31]]),l[0]&1&&(s["aria-expanded"]=t[0]),l[0]&2|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function st(a){let e;return{c(){e=y("No file found.")},l(n){e=U(n,"No file found.")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function ot(a){var V;let e,n,t,l,s=a[28].fileID+"",r,o,f,c=a[28].title+"",i,u,m,p,w;return e=new Ve({props:{class:ae("mr-2 h-4 w-4",((V=a[1])==null?void 0:V.includes(a[28]))&&"text-transparent")}}),{c(){E(e.$$.fragment),n=j(),t=F("div"),l=F("p"),r=y(s),o=j(),f=F("p"),i=y(c),u=j(),m=F("br"),p=j(),this.h()},l(h){S(e.$$.fragment,h),n=T(h),t=B(h,"DIV",{});var N=O(t);l=B(N,"P",{});var k=O(l);r=U(k,s),k.forEach($),o=T(N),f=B(N,"P",{class:!0});var z=O(f);i=U(z,c),z.forEach($),u=T(N),m=B(N,"BR",{}),N.forEach($),p=T(h),this.h()},h(){L(f,"class","text-ellipsis line-clamp-1")},m(h,N){I(e,h,N),v(h,n,N),v(h,t,N),P(t,l),P(l,r),P(t,o),P(t,f),P(f,i),P(t,u),P(t,m),v(h,p,N),w=!0},p(h,N){var z;const k={};N[0]&10&&(k.class=ae("mr-2 h-4 w-4",((z=h[1])==null?void 0:z.includes(h[28]))&&"text-transparent")),e.$set(k),(!w||N[0]&8)&&s!==(s=h[28].fileID+"")&&le(r,s),(!w||N[0]&8)&&c!==(c=h[28].title+"")&&le(i,c)},i(h){w||(_(e.$$.fragment,h),w=!0)},o(h){d(e.$$.fragment,h),w=!1},d(h){h&&($(n),$(t),$(p)),C(e,h)}}}function _e(a){let e,n;function t(){return a[15](a[28])}return e=new Fe({props:{value:a[28].fileID,onSelect:t,$$slots:{default:[ot]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,s){I(e,l,s),n=!0},p(l,s){a=l;const r={};s[0]&8&&(r.value=a[28].fileID),s[0]&10&&(r.onSelect=t),s[0]&10|s[1]&16&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function ft(a){let e,n,t=re(a[3]),l=[];for(let r=0;r<t.length;r+=1)l[r]=_e(ce(a,t,r));const s=r=>d(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=J()},l(r){for(let o=0;o<l.length;o+=1)l[o].l(r);e=J()},m(r,o){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,o);v(r,e,o),n=!0},p(r,o){if(o[0]&10){t=re(r[3]);let f;for(f=0;f<t.length;f+=1){const c=ce(r,t,f);l[f]?(l[f].p(c,o),_(l[f],1)):(l[f]=_e(c),l[f].c(),_(l[f],1),l[f].m(e.parentNode,e))}for(G(),f=t.length;f<l.length;f+=1)s(f);H()}},i(r){if(!n){for(let o=0;o<t.length;o+=1)_(l[o]);n=!0}},o(r){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)d(l[o]);n=!1},d(r){r&&$(e),ge(l,r)}}}function at(a){let e,n,t,l,s,r;return e=new je({props:{placeholder:"Search your file..."}}),t=new Pe({props:{$$slots:{default:[st]},$$scope:{ctx:a}}}),s=new Be({props:{$$slots:{default:[ft]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment),n=j(),E(t.$$.fragment),l=j(),E(s.$$.fragment)},l(o){S(e.$$.fragment,o),n=T(o),S(t.$$.fragment,o),l=T(o),S(s.$$.fragment,o)},m(o,f){I(e,o,f),v(o,n,f),I(t,o,f),v(o,l,f),I(s,o,f),r=!0},p(o,f){const c={};f[1]&16&&(c.$$scope={dirty:f,ctx:o}),t.$set(c);const i={};f[0]&10|f[1]&16&&(i.$$scope={dirty:f,ctx:o}),s.$set(i)},i(o){r||(_(e.$$.fragment,o),_(t.$$.fragment,o),_(s.$$.fragment,o),r=!0)},o(o){d(e.$$.fragment,o),d(t.$$.fragment,o),d(s.$$.fragment,o),r=!1},d(o){o&&($(n),$(l)),C(e,o),C(t,o),C(s,o)}}}function it(a){let e,n;return e=new Te({props:{$$slots:{default:[at]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p(t,l){const s={};l[0]&10|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ut(a){let e,n,t,l;return e=new De({props:{asChild:!0,$$slots:{default:[rt,({builder:s})=>({31:s}),({builder:s})=>[0,s?1:0]]},$$scope:{ctx:a}}}),t=new Ne({props:{class:"w-fit p-0",$$slots:{default:[it]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment),n=j(),E(t.$$.fragment)},l(s){S(e.$$.fragment,s),n=T(s),S(t.$$.fragment,s)},m(s,r){I(e,s,r),v(s,n,r),I(t,s,r),l=!0},p(s,r){const o={};r[0]&3|r[1]&17&&(o.$$scope={dirty:r,ctx:s}),e.$set(o);const f={};r[0]&10|r[1]&16&&(f.$$scope={dirty:r,ctx:s}),t.$set(f)},i(s){l||(_(e.$$.fragment,s),_(t.$$.fragment,s),l=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),l=!1},d(s){s&&$(n),C(e,s),C(t,s)}}}function ct(a){let e;return{c(){e=y("Attachment not required (pdf, jpeg or png)")},l(n){e=U(n,"Attachment not required (pdf, jpeg or png)")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function $t(a){let e;return{c(){e=y("Cancel")},l(n){e=U(n,"Cancel")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function pt(a){let e;return{c(){e=y("Continue")},l(n){e=U(n,"Continue")},m(n,t){v(n,e,t)},d(n){n&&$(e)}}}function mt(a){let e,n,t,l,s,r;e=new ze({props:{$$slots:{default:[He]},$$scope:{ctx:a}}});const o=[Qe,We,Ke],f=[];function c(i,u){return i[5]===0?0:i[5]===1?1:i[5]===2?2:-1}return~(t=c(a))&&(l=f[t]=o[t](a)),{c(){E(e.$$.fragment),n=j(),l&&l.c(),s=J()},l(i){S(e.$$.fragment,i),n=T(i),l&&l.l(i),s=J()},m(i,u){I(e,i,u),v(i,n,u),~t&&f[t].m(i,u),v(i,s,u),r=!0},p(i,u){const m={};u[1]&16&&(m.$$scope={dirty:u,ctx:i}),e.$set(m);let p=t;t=c(i),t===p?~t&&f[t].p(i,u):(l&&(G(),d(f[p],1,1,()=>{f[p]=null}),H()),~t?(l=f[t],l?l.p(i,u):(l=f[t]=o[t](i),l.c()),_(l,1),l.m(s.parentNode,s)):l=null)},i(i){r||(_(e.$$.fragment,i),_(l),r=!0)},o(i){d(e.$$.fragment,i),d(l),r=!1},d(i){i&&($(n),$(s)),C(e,i),~t&&f[t].d(i)}}}function _t(a){let e,n;return e=new Re({props:{side:"right",class:"overflow-y-auto sm:w-[620px] w-full",$$slots:{default:[mt]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p(t,l){const s={};l[0]&1019|l[1]&16&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function gt(a){let e,n,t,l,s,r;e=new Ue({});function o(c){a[25](c)}let f={onOpenChange:a[24],$$slots:{default:[_t]},$$scope:{ctx:a}};return a[0]!==void 0&&(f.open=a[0]),l=new Se({props:f}),ee.push(()=>te(l,"open",o)),{c(){E(e.$$.fragment),n=j(),t=F("div"),E(l.$$.fragment)},l(c){S(e.$$.fragment,c),n=T(c),t=B(c,"DIV",{});var i=O(t);S(l.$$.fragment,i),i.forEach($)},m(c,i){I(e,c,i),v(c,n,i),v(c,t,i),I(l,t,null),r=!0},p(c,i){const u={};i[0]&4&&(u.onOpenChange=c[24]),i[0]&1019|i[1]&16&&(u.$$scope={dirty:i,ctx:c}),!s&&i[0]&1&&(s=!0,u.open=c[0],ne(()=>s=!1)),l.$set(u)},i(c){r||(_(e.$$.fragment,c),_(l.$$.fragment,c),r=!0)},o(c){d(e.$$.fragment,c),d(l.$$.fragment,c),r=!1},d(c){c&&($(n),$(t)),C(e,c),C(l)}}}function dt(a){let e="";const n=new Uint8Array(a),t=n.byteLength;for(let l=0;l<t;l++)e+=String.fromCharCode(n[l]);return window.btoa(e)}function ht(a){return new Promise((e,n)=>{const t=new FileReader;t.onload=()=>e(t.result),t.onerror=n,t.readAsArrayBuffer(a)}).then(e=>new Uint8Array(e))}function bt(a,e,n){let t;ke(a,ye,b=>n(27,t=b));let{onExit:l}=e,{open:s}=e,r=!1,{affectedFiles:o=null}=e,{allUserFiles:f=[]}=e,c=0,i=null,u=!1,m=null,p=null,w=null;function V(b){let R=o==null?void 0:o.findIndex(A=>A.fileID===b.fileID);R!==void 0&&(o==null||o.splice(R,1),n(1,o=[...o]))}async function h(b){const R=b==null?void 0:b.target;if(R.files){if(R.files.length>1){x.error("maximum of 1 images",{position:"top-right"});return}for(let A=0;A<R.files.length;A++)if(R.files[A].size>5e6){x.error("maximum file size of 5MB exceeded",{position:"top-right"});return}for(let A=0;A<R.files.length;A++)m=R.files[0]}}async function N(){n(7,u=!0);let b=null;m&&(b=await(await fetch(`${ie}/api/files/uploadAttachment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{fileName:m.name,Name:"",contentType:m.type,data:dt(await ht(m))}])})).json());const R=await fetch(`${ie}/api/tickets/Create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:w,creatorId:t.id,creatorName:t.name,affectedFiles:o!==null?o.map(A=>({id:A.id,fileNumber:A.fileID})):null,status:1,correspondences:[b==null?{message:p,senderId:t.id,senderName:t.name}:{attachment:b[0],message:p,senderId:t.id,senderName:t.name}]})});if(R.ok){const A=await R.json();console.log(A),n(7,u=!1),n(6,i="success"),n(5,c=2),i==="success"?x.success("saved successfully",{position:"top-right"}):x.error("Failed to save",{position:"top-right"})}}function k(){l(),n(7,u=!1),n(6,i=null),n(5,c=0)}const z=b=>V(b),K=b=>{o?o.push(b):n(1,o=[b]),n(1,o=[...o])};function oe(b){r=b,n(4,r)}function W(b){w=b,n(9,w)}function g(b){p=b,n(8,p)}const D=b=>h(b),q=()=>k(),Q=()=>n(5,c=1),X=()=>N(),Y=()=>k(),Z=b=>{b||l()};function he(b){s=b,n(0,s)}return a.$$set=b=>{"onExit"in b&&n(2,l=b.onExit),"open"in b&&n(0,s=b.open),"affectedFiles"in b&&n(1,o=b.affectedFiles),"allUserFiles"in b&&n(3,f=b.allUserFiles)},[s,o,l,f,r,c,i,u,p,w,V,h,N,k,z,K,oe,W,g,D,q,Q,X,Y,Z,he]}class Jt extends be{constructor(e){super(),ve(this,e,bt,gt,we,{onExit:2,open:0,affectedFiles:1,allUserFiles:3},null,[-1,-1])}}export{Jt as default};
